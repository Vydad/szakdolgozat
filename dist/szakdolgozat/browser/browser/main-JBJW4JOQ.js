var g3=Object.defineProperty,_3=Object.defineProperties;var v3=Object.getOwnPropertyDescriptors;var AT=Object.getOwnPropertySymbols,y3=Object.getPrototypeOf,x3=Object.prototype.hasOwnProperty,E3=Object.prototype.propertyIsEnumerable,w3=Reflect.get;var MT=(n,e,t)=>e in n?g3(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,me=(n,e)=>{for(var t in e||={})x3.call(e,t)&&MT(n,t,e[t]);if(AT)for(var t of AT(e))E3.call(e,t)&&MT(n,t,e[t]);return n},Ke=(n,e)=>_3(n,v3(e));var $o=(n,e,t)=>w3(y3(n),t,e);var B=(n,e,t)=>new Promise((r,i)=>{var s=c=>{try{a(t.next(c))}catch(l){i(l)}},o=c=>{try{a(t.throw(c))}catch(l){i(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(s,o);a((t=t.apply(n,e)).next())});function PT(n,e){return Object.is(n,e)}var jn=null,np=!1,cv=1,pi=Symbol("SIGNAL");function bt(n){let e=jn;return jn=n,e}function OT(){return jn}var _d={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ip(n){if(np)throw new Error("");if(jn===null)return;jn.consumerOnSignalRead(n);let e=jn.nextProducerIndex++;if(ap(jn),e<jn.producerNode.length&&jn.producerNode[e]!==n&&gd(jn)){let t=jn.producerNode[e];op(t,jn.producerIndexOfThis[e])}jn.producerNode[e]!==n&&(jn.producerNode[e]=n,jn.producerIndexOfThis[e]=gd(jn)?VT(n,jn,e):0),jn.producerLastReadVersion[e]=n.version}function C3(){cv++}function NT(n){if(!(gd(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===cv)){if(!n.producerMustRecompute(n)&&!uv(n)){RT(n);return}n.producerRecomputeValue(n),RT(n)}}function FT(n){if(n.liveConsumerNode===void 0)return;let e=np;np=!0;try{for(let t of n.liveConsumerNode)t.dirty||b3(t)}finally{np=e}}function LT(){return jn?.consumerAllowSignalWrites!==!1}function b3(n){n.dirty=!0,FT(n),n.consumerMarkedDirty?.(n)}function RT(n){n.dirty=!1,n.lastCleanEpoch=cv}function sp(n){return n&&(n.nextProducerIndex=0),bt(n)}function lv(n,e){if(bt(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(gd(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)op(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function uv(n){ap(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(NT(t),r!==t.version))return!0}return!1}function dv(n){if(ap(n),gd(n))for(let e=0;e<n.producerNode.length;e++)op(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function VT(n,e,t){if(BT(n),n.liveConsumerNode.length===0&&UT(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=VT(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function op(n,e){if(BT(n),n.liveConsumerNode.length===1&&UT(n))for(let r=0;r<n.producerNode.length;r++)op(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];ap(i),i.producerIndexOfThis[r]=e}}function gd(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function ap(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function BT(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function UT(n){return n.producerNode!==void 0}function jT(n){let e=Object.create(I3);e.computation=n;let t=()=>{if(NT(e),ip(e),e.value===rp)throw e.error;return e.value};return t[pi]=e,t}var ov=Symbol("UNSET"),av=Symbol("COMPUTING"),rp=Symbol("ERRORED"),I3=Ke(me({},_d),{value:ov,dirty:!0,error:null,equal:PT,kind:"computed",producerMustRecompute(n){return n.value===ov||n.value===av},producerRecomputeValue(n){if(n.value===av)throw new Error("Detected cycle in computations.");let e=n.value;n.value=av;let t=sp(n),r,i=!1;try{r=n.computation(),bt(null),i=e!==ov&&e!==rp&&r!==rp&&n.equal(e,r)}catch(s){r=rp,n.error=s}finally{lv(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function T3(){throw new Error}var $T=T3;function HT(n){$T(n)}function zT(n){$T=n}var S3=null;function WT(n){let e=Object.create(fv);e.value=n;let t=()=>(ip(e),e.value);return t[pi]=e,t}function cp(n,e){LT()||HT(n),n.equal(n.value,e)||(n.value=e,D3(n))}function qT(n,e){LT()||HT(n),cp(n,e(n.value))}var fv=Ke(me({},_d),{equal:PT,value:void 0,kind:"signal"});function D3(n){n.version++,C3(),FT(n),S3?.()}var hv;function GT(){return hv}function KT(n){let e=hv;return hv=n,e}function rt(n){return typeof n=="function"}function rl(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var lp=rl(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Wa(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var xn=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let s of t)s.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(rt(r))try{r()}catch(s){e=s instanceof lp?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{XT(s)}catch(o){e=e??[],o instanceof lp?e=[...e,...o.errors]:e.push(o)}}if(e)throw new lp(e)}}add(e){var t;if(e&&e!==this)if(this.closed)XT(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Wa(t,e)}remove(e){let{_finalizers:t}=this;t&&Wa(t,e),e instanceof n&&e._removeParent(this)}};xn.EMPTY=(()=>{let n=new xn;return n.closed=!0,n})();var pv=xn.EMPTY;function up(n){return n instanceof xn||n&&"closed"in n&&rt(n.remove)&&rt(n.add)&&rt(n.unsubscribe)}function XT(n){rt(n)?n():n.unsubscribe()}var Yi={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var il={setTimeout(n,e,...t){let{delegate:r}=il;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=il;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function dp(n){il.setTimeout(()=>{let{onUnhandledError:e}=Yi;if(e)e(n);else throw n})}function vd(){}var YT=mv("C",void 0,void 0);function QT(n){return mv("E",void 0,n)}function ZT(n){return mv("N",n,void 0)}function mv(n,e,t){return{kind:n,value:e,error:t}}var qa=null;function sl(n){if(Yi.useDeprecatedSynchronousErrorHandling){let e=!qa;if(e&&(qa={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=qa;if(qa=null,t)throw r}}else n()}function JT(n){Yi.useDeprecatedSynchronousErrorHandling&&qa&&(qa.errorThrown=!0,qa.error=n)}var Ga=class extends xn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,up(e)&&e.add(this)):this.destination=R3}static create(e,t,r){return new ol(e,t,r)}next(e){this.isStopped?_v(ZT(e),this):this._next(e)}error(e){this.isStopped?_v(QT(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?_v(YT,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},A3=Function.prototype.bind;function gv(n,e){return A3.call(n,e)}var vv=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){fp(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){fp(r)}else fp(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){fp(t)}}},ol=class extends Ga{constructor(e,t,r){super();let i;if(rt(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&Yi.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&gv(e.next,s),error:e.error&&gv(e.error,s),complete:e.complete&&gv(e.complete,s)}):i=e}this.destination=new vv(i)}};function fp(n){Yi.useDeprecatedSynchronousErrorHandling?JT(n):dp(n)}function M3(n){throw n}function _v(n,e){let{onStoppedNotification:t}=Yi;t&&il.setTimeout(()=>t(n,e))}var R3={closed:!0,next:vd,error:M3,complete:vd};var al=typeof Symbol=="function"&&Symbol.observable||"@@observable";function mi(n){return n}function hp(...n){return yv(n)}function yv(n){return n.length===0?mi:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var lt=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let s=O3(t)?t:new ol(t,r,i);return sl(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=eS(r),new r((i,s)=>{let o=new ol({next:a=>{try{t(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[al](){return this}pipe(...t){return yv(t)(this)}toPromise(t){return t=eS(t),new t((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function eS(n){var e;return(e=n??Yi.Promise)!==null&&e!==void 0?e:Promise}function P3(n){return n&&rt(n.next)&&rt(n.error)&&rt(n.complete)}function O3(n){return n&&n instanceof Ga||P3(n)&&up(n)}function xv(n){return rt(n?.lift)}function It(n){return e=>{if(xv(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function xt(n,e,t,r,i){return new Ev(n,e,t,r,i)}var Ev=class extends Ga{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function cl(){return It((n,e)=>{let t=null;n._refCount++;let r=xt(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var ll=class extends lt{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,xv(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new xn;let t=this.getSubject();e.add(this.source.subscribe(xt(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=xn.EMPTY)}return e}refCount(){return cl()(this)}};var tS=rl(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var mn=(()=>{class n extends lt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new pp(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new tS}next(t){sl(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){sl(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){sl(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:s}=this;return r||i?pv:(this.currentObservers=null,s.push(t),new xn(()=>{this.currentObservers=null,Wa(s,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){let t=new lt;return t.source=this,t}}return n.create=(e,t)=>new pp(e,t),n})(),pp=class extends mn{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:pv}};var $n=class extends mn{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var wv={now(){return(wv.delegate||Date).now()},delegate:void 0};var mp=class extends xn{constructor(e,t){super()}schedule(e,t=0){return this}};var yd={setInterval(n,e,...t){let{delegate:r}=yd;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=yd;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var ul=class extends mp{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return yd.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&yd.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Wa(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var dl=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};dl.now=wv.now;var fl=class extends dl{constructor(e,t=dl.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var Cv=new fl(ul);var gp=class extends ul{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var _p=class extends fl{};var bv=new _p(gp);var Jr=new lt(n=>n.complete());function nS(n){return n&&rt(n.schedule)}function rS(n){return n[n.length-1]}function vp(n){return rt(rS(n))?n.pop():void 0}function Ho(n){return nS(rS(n))?n.pop():void 0}function Iv(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function sS(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{l(r.next(u))}catch(f){o(f)}}function c(u){try{l(r.throw(u))}catch(f){o(f)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((r=r.apply(n,e||[])).next())})}function iS(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ka(n){return this instanceof Ka?(this.v=n,this):new Ka(n)}function oS(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(p){return function(y){return Promise.resolve(y).then(p,f)}}function a(p,y){r[p]&&(i[p]=function(v){return new Promise(function(w,F){s.push([p,v,w,F])>1||c(p,v)})},y&&(i[p]=y(i[p])))}function c(p,y){try{l(r[p](y))}catch(v){h(s[0][3],v)}}function l(p){p.value instanceof Ka?Promise.resolve(p.value.v).then(u,f):h(s[0][2],p)}function u(p){c("next",p)}function f(p){c("throw",p)}function h(p,y){p(y),s.shift(),s.length&&c(s[0][0],s[0][1])}}function aS(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof iS=="function"?iS(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(a,c){o=n[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},o)}}var yp=n=>n&&typeof n.length=="number"&&typeof n!="function";function xp(n){return rt(n?.then)}function Ep(n){return rt(n[al])}function wp(n){return Symbol.asyncIterator&&rt(n?.[Symbol.asyncIterator])}function Cp(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function N3(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var bp=N3();function Ip(n){return rt(n?.[bp])}function Tp(n){return oS(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Ka(t.read());if(i)return yield Ka(void 0);yield yield Ka(r)}}finally{t.releaseLock()}})}function Sp(n){return rt(n?.getReader)}function Sn(n){if(n instanceof lt)return n;if(n!=null){if(Ep(n))return F3(n);if(yp(n))return L3(n);if(xp(n))return V3(n);if(wp(n))return cS(n);if(Ip(n))return B3(n);if(Sp(n))return U3(n)}throw Cp(n)}function F3(n){return new lt(e=>{let t=n[al]();if(rt(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function L3(n){return new lt(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function V3(n){return new lt(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,dp)})}function B3(n){return new lt(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function cS(n){return new lt(e=>{j3(n,e).catch(t=>e.error(t))})}function U3(n){return cS(Tp(n))}function j3(n,e){var t,r,i,s;return sS(this,void 0,void 0,function*(){try{for(t=aS(n);r=yield t.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})}function ei(n,e,t,r=0,i=!1){let s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function zo(n,e=0){return It((t,r)=>{t.subscribe(xt(r,i=>ei(r,n,()=>r.next(i),e),()=>ei(r,n,()=>r.complete(),e),i=>ei(r,n,()=>r.error(i),e)))})}function Wo(n,e=0){return It((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function lS(n,e){return Sn(n).pipe(Wo(e),zo(e))}function uS(n,e){return Sn(n).pipe(Wo(e),zo(e))}function dS(n,e){return new lt(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function fS(n,e){return new lt(t=>{let r;return ei(t,e,()=>{r=n[bp](),ei(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){t.error(o);return}s?t.complete():t.next(i)},0,!0)}),()=>rt(r?.return)&&r.return()})}function Dp(n,e){if(!n)throw new Error("Iterable cannot be null");return new lt(t=>{ei(t,e,()=>{let r=n[Symbol.asyncIterator]();ei(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function hS(n,e){return Dp(Tp(n),e)}function pS(n,e){if(n!=null){if(Ep(n))return lS(n,e);if(yp(n))return dS(n,e);if(xp(n))return uS(n,e);if(wp(n))return Dp(n,e);if(Ip(n))return fS(n,e);if(Sp(n))return hS(n,e)}throw Cp(n)}function Qt(n,e){return e?pS(n,e):Sn(n)}function We(...n){let e=Ho(n);return Qt(n,e)}function hl(n,e){let t=rt(n)?n:()=>n,r=i=>i.error(t());return new lt(e?i=>e.schedule(r,0,i):r)}function Tv(n){return!!n&&(n instanceof lt||rt(n.lift)&&rt(n.subscribe))}var Qs=rl(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function ut(n,e){return It((t,r)=>{let i=0;t.subscribe(xt(r,s=>{r.next(n.call(e,s,i++))}))})}var{isArray:$3}=Array;function H3(n,e){return $3(e)?n(...e):n(e)}function kp(n){return ut(e=>H3(n,e))}var{isArray:z3}=Array,{getPrototypeOf:W3,prototype:q3,keys:G3}=Object;function Ap(n){if(n.length===1){let e=n[0];if(z3(e))return{args:e,keys:null};if(K3(e)){let t=G3(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function K3(n){return n&&typeof n=="object"&&W3(n)===q3}function Mp(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function xd(...n){let e=Ho(n),t=vp(n),{args:r,keys:i}=Ap(n);if(r.length===0)return Qt([],e);let s=new lt(X3(r,e,i?o=>Mp(i,o):mi));return t?s.pipe(kp(t)):s}function X3(n,e,t=mi){return r=>{mS(e,()=>{let{length:i}=n,s=new Array(i),o=i,a=i;for(let c=0;c<i;c++)mS(e,()=>{let l=Qt(n[c],e),u=!1;l.subscribe(xt(r,f=>{s[c]=f,u||(u=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function mS(n,e,t){n?ei(t,n,e):e()}function gS(n,e,t,r,i,s,o,a){let c=[],l=0,u=0,f=!1,h=()=>{f&&!c.length&&!l&&e.complete()},p=v=>l<r?y(v):c.push(v),y=v=>{s&&e.next(v),l++;let w=!1;Sn(t(v,u++)).subscribe(xt(e,F=>{i?.(F),s?p(F):e.next(F)},()=>{w=!0},void 0,()=>{if(w)try{for(l--;c.length&&l<r;){let F=c.shift();o?ei(e,o,()=>y(F)):y(F)}h()}catch(F){e.error(F)}}))};return n.subscribe(xt(e,p,()=>{f=!0,h()})),()=>{a?.()}}function Dn(n,e,t=1/0){return rt(e)?Dn((r,i)=>ut((s,o)=>e(r,s,i,o))(Sn(n(r,i))),t):(typeof e=="number"&&(t=e),It((r,i)=>gS(r,i,n,t)))}function qo(n=1/0){return Dn(mi,n)}function _S(){return qo(1)}function pl(...n){return _S()(Qt(n,Ho(n)))}function Rp(n){return new lt(e=>{Sn(n()).subscribe(e)})}function Sv(...n){let e=vp(n),{args:t,keys:r}=Ap(n),i=new lt(s=>{let{length:o}=t;if(!o){s.complete();return}let a=new Array(o),c=o,l=o;for(let u=0;u<o;u++){let f=!1;Sn(t[u]).subscribe(xt(s,h=>{f||(f=!0,l--),a[u]=h},()=>c--,void 0,()=>{(!c||!f)&&(l||s.next(r?Mp(r,a):a),s.complete())}))}});return e?i.pipe(kp(e)):i}function gi(n,e){return It((t,r)=>{let i=0;t.subscribe(xt(r,s=>n.call(e,s,i++)&&r.next(s)))})}function Go(n){return It((e,t)=>{let r=null,i=!1,s;r=e.subscribe(xt(t,void 0,void 0,o=>{s=Sn(n(o,Go(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function vS(n,e,t,r,i){return(s,o)=>{let a=t,c=e,l=0;s.subscribe(xt(o,u=>{let f=l++;c=a?n(c,u,f):(a=!0,u),r&&o.next(c)},i&&(()=>{a&&o.next(c),o.complete()})))}}function Xa(n,e){return rt(e)?Dn(n,e,1):Dn(n,1)}function Ko(n){return It((e,t)=>{let r=!1;e.subscribe(xt(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Zs(n){return n<=0?()=>Jr:It((e,t)=>{let r=0;e.subscribe(xt(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Pp(n=Y3){return It((e,t)=>{let r=!1;e.subscribe(xt(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function Y3(){return new Qs}function Ed(n){return It((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Js(n,e){let t=arguments.length>=2;return r=>r.pipe(n?gi((i,s)=>n(i,s,r)):mi,Zs(1),t?Ko(e):Pp(()=>new Qs))}function ml(n){return n<=0?()=>Jr:It((e,t)=>{let r=[];e.subscribe(xt(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Dv(n,e){let t=arguments.length>=2;return r=>r.pipe(n?gi((i,s)=>n(i,s,r)):mi,ml(1),t?Ko(e):Pp(()=>new Qs))}function Op(n,e){return It(vS(n,e,arguments.length>=2,!0))}function Np(...n){let e=Ho(n);return It((t,r)=>{(e?pl(n,t,e):pl(n,t)).subscribe(r)})}function ar(n,e){return It((t,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();t.subscribe(xt(r,c=>{i?.unsubscribe();let l=0,u=s++;Sn(n(c,u)).subscribe(i=xt(r,f=>r.next(e?e(c,f,u,l++):f),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function kv(n){return It((e,t)=>{Sn(n).subscribe(xt(t,()=>t.complete(),vd)),!t.closed&&e.subscribe(t)})}function cr(n,e,t){let r=rt(n)||e||t?{next:n,error:e,complete:t}:n;return r?It((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(xt(s,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),s.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),s.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),s.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):mi}var aD="https://g.co/ng/security#xss",Ue=class extends Error{code;constructor(e,t){super($1(e,t)),this.code=e}};function $1(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}var cD=Symbol("InputSignalNode#UNSET"),Q3=Ke(me({},fv),{transformFn:void 0,applyValueToInputSignal(n,e){cp(n,e)}});function lD(n,e){let t=Object.create(Q3);t.value=n,t.transformFn=e?.transform;function r(){if(ip(t),t.value===cD)throw new Ue(-950,!1);return t.value}return r[pi]=t,r}function Pd(n){return{toString:n}.toString()}var Fp="__parameters__";function Z3(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function uD(n,e,t){return Pd(()=>{let r=Z3(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(c,l,u){let f=c.hasOwnProperty(Fp)?c[Fp]:Object.defineProperty(c,Fp,{value:[]})[Fp];for(;f.length<=u;)f.push(null);return(f[u]=f[u]||[]).push(o),c}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var Hv=globalThis;function Kt(n){for(let e in n)if(n[e]===Kt)return e;throw Error("Could not find renamed property on target object.")}function J3(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function yr(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(yr).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function yS(n,e){return n?e?`${n} ${e}`:n:e||""}var eV=Kt({__forward_ref__:Kt});function vi(n){return n.__forward_ref__=vi,n.toString=function(){return yr(this())},n}function jr(n){return dD(n)?n():n}function dD(n){return typeof n=="function"&&n.hasOwnProperty(eV)&&n.__forward_ref__===vi}function Ve(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function na(n){return{providers:n.providers||[],imports:n.imports||[]}}function _0(n){return xS(n,hD)||xS(n,pD)}function fD(n){return _0(n)!==null}function xS(n,e){return n.hasOwnProperty(e)?n[e]:null}function tV(n){let e=n&&(n[hD]||n[pD]);return e||null}function ES(n){return n&&(n.hasOwnProperty(wS)||n.hasOwnProperty(nV))?n[wS]:null}var hD=Kt({\u0275prov:Kt}),wS=Kt({\u0275inj:Kt}),pD=Kt({ngInjectableDef:Kt}),nV=Kt({ngInjectorDef:Kt}),je=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=Ve({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function mD(n){return n&&!!n.\u0275providers}var rV=Kt({\u0275cmp:Kt}),iV=Kt({\u0275dir:Kt}),sV=Kt({\u0275pipe:Kt}),oV=Kt({\u0275mod:Kt}),qp=Kt({\u0275fac:Kt}),Id=Kt({__NG_ELEMENT_ID__:Kt}),CS=Kt({__NG_ENV_ID__:Kt});function eo(n){return typeof n=="string"?n:n==null?"":String(n)}function aV(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():eo(n)}function gD(n,e){throw new Ue(-200,n)}function H1(n,e){throw new Ue(-201,!1)}var pt=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(pt||{}),zv;function _D(){return zv}function ti(n){let e=zv;return zv=n,e}function vD(n,e,t){let r=_0(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&pt.Optional)return null;if(e!==void 0)return e;H1(n,"Injector")}var cV={},Td=cV;function Bp(){return GT()}function Xo(n){return KT(n)}var Wv="__NG_DI_FLAG__",Gp="ngTempTokenPath",lV="ngTokenPath",uV=/\n/gm,dV="\u0275",bS="__source";function fV(n,e=pt.Default){if(Bp()===void 0)throw new Ue(-203,!1);return Bp()===null?vD(n,void 0,e):Bp().get(n,e&pt.Optional?null:void 0,e)}function Ze(n,e=pt.Default){return(_D()||fV)(jr(n),e)}function ue(n,e=pt.Default){return Ze(n,v0(e))}function v0(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function qv(n){let e=[];for(let t=0;t<n.length;t++){let r=jr(n[t]);if(Array.isArray(r)){if(r.length===0)throw new Ue(900,!1);let i,s=pt.Default;for(let o=0;o<r.length;o++){let a=r[o],c=hV(a);typeof c=="number"?c===-1?i=a.token:s|=c:i=a}e.push(Ze(i,s))}else e.push(Ze(r))}return e}function yD(n,e){return n[Wv]=e,n.prototype[Wv]=e,n}function hV(n){return n[Wv]}function pV(n,e,t,r){let i=n[Gp];throw e[bS]&&i.unshift(e[bS]),n.message=mV(`
`+n.message,i,t,r),n[lV]=i,n[Gp]=null,n}function mV(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==dV?n.slice(2):n;let i=yr(e);if(Array.isArray(e))i=e.map(yr).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):yr(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(uV,`
  `)}`}var An=yD(uD("Optional"),8);var xD=yD(uD("SkipSelf"),4);function Qa(n,e){let t=n.hasOwnProperty(qp);return t?n[qp]:null}function gV(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],s=e[r];if(t&&(i=t(i),s=t(s)),s!==i)return!1}return!0}function _V(n){return n.flat(Number.POSITIVE_INFINITY)}function z1(n,e){n.forEach(t=>Array.isArray(t)?z1(t,e):e(t))}function ED(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Kp(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function vV(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let s=i-2;n[i]=n[s],i--}n[e]=t,n[e+1]=r}}function yV(n,e,t){let r=Od(n,e);return r>=0?n[r|1]=t:(r=~r,vV(n,r,e,t)),r}function Av(n,e){let t=Od(n,e);if(t>=0)return n[t|1]}function Od(n,e){return xV(n,e,1)}function xV(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}var Za={},Mi=[],wl=new je(""),wD=new je("",-1),CD=new je(""),Xp=class{get(e,t=Td){if(t===Td){let r=new Error(`NullInjectorError: No provider for ${yr(e)}!`);throw r.name="NullInjectorError",r}return t}};function bD(n,e){let t=n[oV]||null;if(!t&&e===!0)throw new Error(`Type ${yr(n)} does not have '\u0275mod' property.`);return t}function Zo(n){return n[rV]||null}function ID(n){return n[iV]||null}function TD(n){return n[sV]||null}function SD(n){let e=Zo(n)||ID(n)||TD(n);return e!==null&&e.standalone}function Ji(n){return{\u0275providers:n}}function EV(...n){return{\u0275providers:DD(!0,n),\u0275fromNgModule:!0}}function DD(n,...e){let t=[],r=new Set,i,s=o=>{t.push(o)};return z1(e,o=>{let a=o;Gv(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&kD(i,s),t}function kD(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];W1(i,s=>{e(s,r)})}}function Gv(n,e,t,r){if(n=jr(n),!n)return!1;let i=null,s=ES(n),o=!s&&Zo(n);if(!s&&!o){let c=n.ngModule;if(s=ES(c),s)i=c;else return!1}else{if(o&&!o.standalone)return!1;i=n}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let c=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let l of c)Gv(l,e,t,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let l;try{z1(s.imports,u=>{Gv(u,e,t,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&kD(l,e)}if(!a){let l=Qa(i)||(()=>new i);e({provide:i,useFactory:l,deps:Mi},i),e({provide:CD,useValue:i,multi:!0},i),e({provide:wl,useValue:()=>Ze(i),multi:!0},i)}let c=s.providers;if(c!=null&&!a){let l=n;W1(c,u=>{e(u,l)})}}else return!1;return i!==n&&n.providers!==void 0}function W1(n,e){for(let t of n)mD(t)&&(t=t.\u0275providers),Array.isArray(t)?W1(t,e):e(t)}var wV=Kt({provide:String,useValue:Kt});function AD(n){return n!==null&&typeof n=="object"&&wV in n}function CV(n){return!!(n&&n.useExisting)}function bV(n){return!!(n&&n.useFactory)}function Cl(n){return typeof n=="function"}function IV(n){return!!n.useClass}var y0=new je(""),Up={},IS={},Mv;function q1(){return Mv===void 0&&(Mv=new Xp),Mv}var $r=class{},Sd=class extends $r{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,Xv(e,o=>this.processProvider(o)),this.records.set(wD,gl(void 0,this)),i.has("environment")&&this.records.set($r,gl(void 0,this));let s=this.records.get(y0);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(CD,Mi,pt.Self))}destroy(){Cd(this),this._destroyed=!0;let e=bt(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),bt(e)}}onDestroy(e){return Cd(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Cd(this);let t=Xo(this),r=ti(void 0),i;try{return e()}finally{Xo(t),ti(r)}}get(e,t=Td,r=pt.Default){if(Cd(this),e.hasOwnProperty(CS))return e[CS](this);r=v0(r);let i,s=Xo(this),o=ti(void 0);try{if(!(r&pt.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=AV(e)&&_0(e);l&&this.injectableDefInScope(l)?c=gl(Kv(e),Up):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&pt.Self?q1():this.parent;return t=r&pt.Optional&&t===Td?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[Gp]=a[Gp]||[]).unshift(yr(e)),s)throw a;return pV(a,e,"R3InjectorError",this.source)}else throw a}finally{ti(o),Xo(s)}}resolveInjectorInitializers(){let e=bt(null),t=Xo(this),r=ti(void 0),i;try{let s=this.get(wl,Mi,pt.Self);for(let o of s)o()}finally{Xo(t),ti(r),bt(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(yr(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=jr(e);let t=Cl(e)?e:jr(e&&e.provide),r=SV(e);if(!Cl(e)&&e.multi===!0){let i=this.records.get(t);i||(i=gl(void 0,Up,!0),i.factory=()=>qv(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=bt(null);try{return t.value===IS?gD(yr(e)):t.value===Up&&(t.value=IS,t.value=t.factory()),typeof t.value=="object"&&t.value&&kV(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{bt(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=jr(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Kv(n){let e=_0(n),t=e!==null?e.factory:Qa(n);if(t!==null)return t;if(n instanceof je)throw new Ue(204,!1);if(n instanceof Function)return TV(n);throw new Ue(204,!1)}function TV(n){if(n.length>0)throw new Ue(204,!1);let t=tV(n);return t!==null?()=>t.factory(n):()=>new n}function SV(n){if(AD(n))return gl(void 0,n.useValue);{let e=MD(n);return gl(e,Up)}}function MD(n,e,t){let r;if(Cl(n)){let i=jr(n);return Qa(i)||Kv(i)}else if(AD(n))r=()=>jr(n.useValue);else if(bV(n))r=()=>n.useFactory(...qv(n.deps||[]));else if(CV(n))r=()=>Ze(jr(n.useExisting));else{let i=jr(n&&(n.useClass||n.provide));if(DV(n))r=()=>new i(...qv(n.deps));else return Qa(i)||Kv(i)}return r}function Cd(n){if(n.destroyed)throw new Ue(205,!1)}function gl(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function DV(n){return!!n.deps}function kV(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function AV(n){return typeof n=="function"||typeof n=="object"&&n instanceof je}function Xv(n,e){for(let t of n)Array.isArray(t)?Xv(t,e):t&&mD(t)?Xv(t.\u0275providers,e):e(t)}function Er(n,e){n instanceof Sd&&Cd(n);let t,r=Xo(n),i=ti(void 0);try{return e()}finally{Xo(r),ti(i)}}function RD(){return _D()!==void 0||Bp()!=null}function G1(n){if(!RD())throw new Ue(-203,!1)}function MV(n){return typeof n=="function"}var oo=0,mt=1,tt=2,xr=3,Zi=4,es=5,Yp=6,Qp=7,ni=8,Dd=9,to=10,kn=11,kd=12,TS=13,Ml=14,ys=15,Ja=16,_l=17,no=18,x0=19,PD=20,Yo=21,Rv=22,Zp=23,Ri=24,xl=25,Hr=26,OD=1;var ec=7,Jp=8,bl=9,_i=10;function Qo(n){return Array.isArray(n)&&typeof n[OD]=="object"}function ao(n){return Array.isArray(n)&&n[OD]===!0}function K1(n){return(n.flags&4)!==0}function Rl(n){return n.componentOffset>-1}function E0(n){return(n.flags&1)===1}function xs(n){return!!n.template}function e0(n){return(n[tt]&512)!==0}function Nd(n){return(n[tt]&256)===256}var Yv=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function ND(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var ra=(()=>{let n=()=>FD;return n.ngInherit=!0,n})();function FD(n){return n.type.prototype.ngOnChanges&&(n.setInput=PV),RV}function RV(){let n=VD(this),e=n?.current;if(e){let t=n.previous;if(t===Za)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function PV(n,e,t,r,i){let s=this.declaredInputs[r],o=VD(n)||OV(n,{previous:Za,current:null}),a=o.current||(o.current={}),c=o.previous,l=c[s];a[s]=new Yv(l&&l.currentValue,t,c===Za),ND(n,e,i,t)}var LD="__ngSimpleChanges__";function VD(n){return n[LD]||null}function OV(n,e){return n[LD]=e}var SS=null;var $t=function(n,e=null,t){SS?.(n,e,t)},NV="svg",FV="math";function Es(n){for(;Array.isArray(n);)n=n[oo];return n}function BD(n,e){return Es(e[n])}function Is(n,e){return Es(e[n.index])}function UD(n,e){return n.data[e]}function w0(n,e){return n[e]}function ws(n,e){let t=e[n];return Qo(t)?t:t[oo]}function LV(n){return(n[tt]&4)===4}function X1(n){return(n[tt]&128)===128}function VV(n){return ao(n[xr])}function Il(n,e){return e==null?null:n[e]}function jD(n){n[_l]=0}function $D(n){n[tt]&1024||(n[tt]|=1024,X1(n)&&Fd(n))}function BV(n,e){for(;n>0;)e=e[Ml],n--;return e}function C0(n){return!!(n[tt]&9216||n[Ri]?.dirty)}function Qv(n){n[to].changeDetectionScheduler?.notify(8),n[tt]&64&&(n[tt]|=1024),C0(n)&&Fd(n)}function Fd(n){n[to].changeDetectionScheduler?.notify(0);let e=tc(n);for(;e!==null&&!(e[tt]&8192||(e[tt]|=8192,!X1(e)));)e=tc(e)}function HD(n,e){if(Nd(n))throw new Ue(911,!1);n[Yo]===null&&(n[Yo]=[]),n[Yo].push(e)}function UV(n,e){if(n[Yo]===null)return;let t=n[Yo].indexOf(e);t!==-1&&n[Yo].splice(t,1)}function tc(n){let e=n[xr];return ao(e)?e[xr]:e}function zD(n){return n[Qp]??=[]}function WD(n){return n.cleanup??=[]}function jV(n,e,t,r){let i=zD(e);i.push(t),n.firstCreatePass&&WD(n).push(r,i.length-1)}var dt={lFrame:JD(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Zv=!1;function $V(){return dt.lFrame.elementDepthCount}function HV(){dt.lFrame.elementDepthCount++}function zV(){dt.lFrame.elementDepthCount--}function Y1(){return dt.bindingsEnabled}function WV(){return dt.skipHydrationRootTNode!==null}function qV(n){return dt.skipHydrationRootTNode===n}function GV(){dt.skipHydrationRootTNode=null}function gt(){return dt.lFrame.lView}function zn(){return dt.lFrame.tView}function re(n){return dt.lFrame.contextLView=n,n[ni]}function ie(n){return dt.lFrame.contextLView=null,n}function wr(){let n=qD();for(;n!==null&&n.type===64;)n=n.parent;return n}function qD(){return dt.lFrame.currentTNode}function KV(){let n=dt.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function ac(n,e){let t=dt.lFrame;t.currentTNode=n,t.isParent=e}function Q1(){return dt.lFrame.isParent}function GD(){dt.lFrame.isParent=!1}function XV(){return dt.lFrame.contextLView}function KD(){return Zv}function DS(n){let e=Zv;return Zv=n,e}function Ld(){let n=dt.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function XD(){return dt.lFrame.bindingIndex}function YV(n){return dt.lFrame.bindingIndex=n}function b0(){return dt.lFrame.bindingIndex++}function Z1(n){let e=dt.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function QV(){return dt.lFrame.inI18n}function ZV(n,e){let t=dt.lFrame;t.bindingIndex=t.bindingRootIndex=n,Jv(e)}function JV(){return dt.lFrame.currentDirectiveIndex}function Jv(n){dt.lFrame.currentDirectiveIndex=n}function e6(n){let e=dt.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function YD(){return dt.lFrame.currentQueryIndex}function J1(n){dt.lFrame.currentQueryIndex=n}function t6(n){let e=n[mt];return e.type===2?e.declTNode:e.type===1?n[es]:null}function QD(n,e,t){if(t&pt.SkipSelf){let i=e,s=n;for(;i=i.parent,i===null&&!(t&pt.Host);)if(i=t6(s),i===null||(s=s[Ml],i.type&10))break;if(i===null)return!1;e=i,n=s}let r=dt.lFrame=ZD();return r.currentTNode=e,r.lView=n,!0}function ey(n){let e=ZD(),t=n[mt];dt.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function ZD(){let n=dt.lFrame,e=n===null?null:n.child;return e===null?JD(n):e}function JD(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function ek(){let n=dt.lFrame;return dt.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var tk=ek;function ty(){let n=ek();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function n6(n){return(dt.lFrame.contextLView=BV(n,dt.lFrame.contextLView))[ni]}function ia(){return dt.lFrame.selectedIndex}function nc(n){dt.lFrame.selectedIndex=n}function ny(){let n=dt.lFrame;return UD(n.tView,n.selectedIndex)}function r6(){return dt.lFrame.currentNamespace}var nk=!0;function I0(){return nk}function T0(n){nk=n}function i6(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=FD(e);(t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o)}i&&(t.preOrderHooks??=[]).push(0-n,i),s&&((t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s))}function ry(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=s;o&&(n.contentHooks??=[]).push(-t,o),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),u!=null&&(n.destroyHooks??=[]).push(t,u)}}function jp(n,e,t){rk(n,e,3,t)}function $p(n,e,t,r){(n[tt]&3)===t&&rk(n,e,t,r)}function Pv(n,e){let t=n[tt];(t&3)===e&&(t&=16383,t+=1,n[tt]=t)}function rk(n,e,t,r){let i=r!==void 0?n[_l]&65535:0,s=r??-1,o=e.length-1,a=0;for(let c=i;c<o;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(n[_l]+=65536),(a<s||s==-1)&&(s6(n,t,e,c),n[_l]=(n[_l]&4294901760)+c+2),c++}function kS(n,e){$t(4,n,e);let t=bt(null);try{e.call(n)}finally{bt(t),$t(5,n,e)}}function s6(n,e,t,r){let i=t[r]<0,s=t[r+1],o=i?-t[r]:t[r],a=n[o];i?n[tt]>>14<n[_l]>>16&&(n[tt]&3)===e&&(n[tt]+=16384,kS(a,s)):kS(a,s)}var El=-1,rc=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r){this.factory=e,this.canSeeViewProviders=t,this.injectImpl=r}};function o6(n){return(n.flags&8)!==0}function a6(n){return(n.flags&16)!==0}function c6(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let s=t[r++],o=t[r++],a=t[r++];n.setAttribute(e,o,a,s)}else{let s=i,o=t[++r];l6(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),r++}}return r}function ik(n){return n===3||n===4||n===6}function l6(n){return n.charCodeAt(0)===64}function Tl(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?AS(n,t,i,null,e[++r]):AS(n,t,i,null,null))}}return n}function AS(n,e,t,r,i){let s=0,o=n.length;if(e===-1)o=-1;else for(;s<n.length;){let a=n[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<n.length;){let a=n[s];if(typeof a=="number")break;if(a===t){if(r===null){i!==null&&(n[s+1]=i);return}else if(r===n[s+1]){n[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),r!==null&&n.splice(s++,0,r),i!==null&&n.splice(s++,0,i)}var Ov={},e1=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=v0(r);let i=this.injector.get(e,Ov,r);return i!==Ov||t===Ov?i:this.parentInjector.get(e,t,r)}};function sk(n){return n!==El}function t0(n){return n&32767}function u6(n){return n>>16}function n0(n,e){let t=u6(n),r=e;for(;t>0;)r=r[Ml],t--;return r}var t1=!0;function r0(n){let e=t1;return t1=n,e}var d6=256,ok=d6-1,ak=5,f6=0,vs={};function h6(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Id)&&(r=t[Id]),r==null&&(r=t[Id]=f6++);let i=r&ok,s=1<<i;e.data[n+(i>>ak)]|=s}function i0(n,e){let t=ck(n,e);if(t!==-1)return t;let r=e[mt];r.firstCreatePass&&(n.injectorIndex=e.length,Nv(r.data,n),Nv(e,null),Nv(r.blueprint,null));let i=iy(n,e),s=n.injectorIndex;if(sk(i)){let o=t0(i),a=n0(i,e),c=a[mt].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|c[o+l]}return e[s+8]=i,s}function Nv(n,e){n.push(0,0,0,0,0,0,0,0,e)}function ck(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function iy(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=hk(i),r===null)return El;if(t++,i=i[Ml],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return El}function n1(n,e,t){h6(n,e,t)}function p6(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let s=t[i];if(ik(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(s===e)return t[i+1];i=i+2}}}return null}function lk(n,e,t){if(t&pt.Optional||n!==void 0)return n;H1(e,"NodeInjector")}function uk(n,e,t,r){if(t&pt.Optional&&r===void 0&&(r=null),(t&(pt.Self|pt.Host))===0){let i=n[Dd],s=ti(void 0);try{return i?i.get(e,r,t&pt.Optional):vD(e,r,t&pt.Optional)}finally{ti(s)}}return lk(r,e,t)}function dk(n,e,t,r=pt.Default,i){if(n!==null){if(e[tt]&2048&&!(r&pt.Self)){let o=v6(n,e,t,r,vs);if(o!==vs)return o}let s=fk(n,e,t,r,vs);if(s!==vs)return s}return uk(e,t,r,i)}function fk(n,e,t,r,i){let s=g6(t);if(typeof s=="function"){if(!QD(e,n,r))return r&pt.Host?lk(i,t,r):uk(e,t,r,i);try{let o;if(o=s(r),o==null&&!(r&pt.Optional))H1(t);else return o}finally{tk()}}else if(typeof s=="number"){let o=null,a=ck(n,e),c=El,l=r&pt.Host?e[ys][es]:null;for((a===-1||r&pt.SkipSelf)&&(c=a===-1?iy(n,e):e[a+8],c===El||!RS(r,!1)?a=-1:(o=e[mt],a=t0(c),e=n0(c,e)));a!==-1;){let u=e[mt];if(MS(s,a,u.data)){let f=m6(a,e,t,o,r,l);if(f!==vs)return f}c=e[a+8],c!==El&&RS(r,e[mt].data[a+8]===l)&&MS(s,a,e)?(o=u,a=t0(c),e=n0(c,e)):a=-1}}return i}function m6(n,e,t,r,i,s){let o=e[mt],a=o.data[n+8],c=r==null?Rl(a)&&t1:r!=o&&(a.type&3)!==0,l=i&pt.Host&&s===a,u=Hp(a,o,t,c,l);return u!==null?Ad(e,o,u,a):vs}function Hp(n,e,t,r,i){let s=n.providerIndexes,o=e.data,a=s&1048575,c=n.directiveStart,l=n.directiveEnd,u=s>>20,f=r?a:a+u,h=i?a+u:l;for(let p=f;p<h;p++){let y=o[p];if(p<c&&t===y||p>=c&&y.type===t)return p}if(i){let p=o[c];if(p&&xs(p)&&p.type===t)return c}return null}function Ad(n,e,t,r){let i=n[t],s=e.data;if(i instanceof rc){let o=i;o.resolving&&gD(aV(s[t]));let a=r0(o.canSeeViewProviders);o.resolving=!0;let c,l=o.injectImpl?ti(o.injectImpl):null,u=QD(n,r,pt.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&i6(t,s[t],e)}finally{l!==null&&ti(l),r0(a),o.resolving=!1,tk()}}return i}function g6(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Id)?n[Id]:void 0;return typeof e=="number"?e>=0?e&ok:_6:e}function MS(n,e,t){let r=1<<n;return!!(t[e+(n>>ak)]&r)}function RS(n,e){return!(n&pt.Self)&&!(n&pt.Host&&e)}var Ya=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return dk(this._tNode,this._lView,e,v0(r),t)}};function _6(){return new Ya(wr(),gt())}function Pi(n){return Pd(()=>{let e=n.prototype.constructor,t=e[qp]||r1(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let s=i[qp]||r1(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function r1(n){return dD(n)?()=>{let e=r1(jr(n));return e&&e()}:Qa(n)}function v6(n,e,t,r,i){let s=n,o=e;for(;s!==null&&o!==null&&o[tt]&2048&&!e0(o);){let a=fk(s,o,t,r|pt.Self,vs);if(a!==vs)return a;let c=s.parent;if(!c){let l=o[PD];if(l){let u=l.get(t,vs,r);if(u!==vs)return u}c=hk(o),o=o[Ml]}s=c}return i}function hk(n){let e=n[mt],t=e.type;return t===2?e.declTNode:t===1?n[es]:null}function sy(n){return p6(wr(),n)}function PS(n,e=null,t=null,r){let i=pk(n,e,t,r);return i.resolveInjectorInitializers(),i}function pk(n,e=null,t=null,r,i=new Set){let s=[t||Mi,EV(n)];return r=r||(typeof n=="object"?void 0:yr(n)),new Sd(s,e||q1(),r||null,i)}var gn=class n{static THROW_IF_NOT_FOUND=Td;static NULL=new Xp;static create(e,t){if(Array.isArray(e))return PS({name:""},t,e,"");{let r=e.name??"";return PS({name:r},e.parent,e.providers,r)}}static \u0275prov=Ve({token:n,providedIn:"any",factory:()=>Ze(wD)});static __NG_ELEMENT_ID__=-1};var y6=new je("");y6.__NG_ELEMENT_ID__=n=>{let e=wr();if(e===null)throw new Ue(204,!1);if(e.type&2)return e.value;if(n&pt.Optional)return null;throw new Ue(204,!1)};var mk=!1,Pl=(()=>{class n{static __NG_ELEMENT_ID__=x6;static __NG_ENV_ID__=t=>t}return n})(),i1=class extends Pl{_lView;constructor(e){super(),this._lView=e}onDestroy(e){return HD(this._lView,e),()=>UV(this._lView,e)}};function x6(){return new i1(gt())}var ic=class{},oy=new je("",{providedIn:"root",factory:()=>!1});var gk=new je(""),_k=new je(""),cc=(()=>{class n{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new $n(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=Ve({token:n,providedIn:"root",factory:()=>new n})}return n})(),S0=(()=>{class n{internalPendingTasks=ue(cc);scheduler=ue(ic);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){return B(this,null,function*(){let r=this.add();try{return yield t()}finally{r()}})}static \u0275prov=Ve({token:n,providedIn:"root",factory:()=>new n})}return n})(),s1=class extends mn{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,RD()&&(this.destroyRef=ue(Pl,{optional:!0})??void 0,this.pendingTasks=ue(cc,{optional:!0})??void 0)}emit(e){let t=bt(null);try{super.next(e)}finally{bt(t)}}subscribe(e,t,r){let i=e,s=t||(()=>null),o=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof xn&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(t),r!==void 0&&this.pendingTasks?.remove(r)})}}},Hn=s1;function s0(...n){}function vk(n){let e,t;function r(){n=s0;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function OS(n){return queueMicrotask(()=>n()),()=>{n=s0}}var ay="isAngularZone",o0=ay+"_ID",E6=0,Nt=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Hn(!1);onMicrotaskEmpty=new Hn(!1);onStable=new Hn(!1);onError=new Hn(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=mk}=e;if(typeof Zone>"u")throw new Ue(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&r,o.shouldCoalesceRunChangeDetection=i,o.callbackScheduled=!1,o.scheduleInRootZone=s,b6(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(ay)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new Ue(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new Ue(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,w6,s0,s0);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},w6={};function cy(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function C6(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){vk(()=>{n.callbackScheduled=!1,o1(n),n.isCheckStableRunning=!0,cy(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),o1(n)}function b6(n){let e=()=>{C6(n)},t=E6++;n._inner=n._inner.fork({name:"angular",properties:{[ay]:!0,[o0]:t,[o0+t]:!0},onInvokeTask:(r,i,s,o,a,c)=>{if(I6(c))return r.invokeTask(s,o,a,c);try{return NS(n),r.invokeTask(s,o,a,c)}finally{(n.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),FS(n)}},onInvoke:(r,i,s,o,a,c,l)=>{try{return NS(n),r.invoke(s,o,a,c,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!T6(c)&&e(),FS(n)}},onHasTask:(r,i,s,o)=>{r.hasTask(s,o),i===s&&(o.change=="microTask"?(n._hasPendingMicrotasks=o.microTask,o1(n),cy(n)):o.change=="macroTask"&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,i,s,o)=>(r.handleError(s,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}function o1(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function NS(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function FS(n){n._nesting--,cy(n)}var a1=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Hn;onMicrotaskEmpty=new Hn;onStable=new Hn;onError=new Hn;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function I6(n){return yk(n,"__ignore_ng_zone__")}function T6(n){return yk(n,"__scheduler_tick__")}function yk(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var ro=class{_console=console;handleError(e){this._console.error("ERROR",e)}},S6=new je("",{providedIn:"root",factory:()=>{let n=ue(Nt),e=ue(ro);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function LS(n,e){return lD(n,e)}function D6(n){return lD(cD,n)}var xk=(LS.required=D6,LS);function k6(){return Ol(wr(),gt())}function Ol(n,e){return new Xn(Is(n,e))}var Xn=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=k6}return n})();function A6(n){return n instanceof Xn?n.nativeElement:n}function M6(n){return typeof n=="function"&&n[pi]!==void 0}function Mn(n,e){let t=WT(n),r=t[pi];return e?.equal&&(r.equal=e.equal),t.set=i=>cp(r,i),t.update=i=>qT(r,i),t.asReadonly=R6.bind(t),t}function R6(){let n=this[pi];if(n.readonlyFn===void 0){let e=()=>this();e[pi]=n,n.readonlyFn=e}return n.readonlyFn}function Ek(n){return M6(n)&&typeof n.set=="function"}function P6(){return this._results[Symbol.iterator]()}var c1=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new mn}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=_V(e);(this._changesDetected=!gV(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=P6};function wk(n){return(n.flags&128)===128}var Ck=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(Ck||{}),bk=new Map,O6=0;function N6(){return O6++}function F6(n){bk.set(n[x0],n)}function l1(n){bk.delete(n[x0])}var VS="__ngContext__";function Nl(n,e){Qo(e)?(n[VS]=e[x0],F6(e)):n[VS]=e}function Ik(n){return Sk(n[kd])}function Tk(n){return Sk(n[Zi])}function Sk(n){for(;n!==null&&!ao(n);)n=n[Zi];return n}var u1;function Dk(n){u1=n}function L6(){if(u1!==void 0)return u1;if(typeof document<"u")return document;throw new Ue(210,!1)}var ly=new je("",{providedIn:"root",factory:()=>V6}),V6="ng",uy=new je(""),lc=new je("",{providedIn:"platform",factory:()=>"unknown"});var dy=new je("",{providedIn:"root",factory:()=>L6().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var B6="h",U6="b";var kk=!1,j6=new je("",{providedIn:"root",factory:()=>kk});var fy=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(fy||{}),Fl=new je(""),BS=new Set;function hy(n){BS.has(n)||(BS.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var Ak=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=$6}return n})();function $6(){return new Ak(gt(),wr())}var vl=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(vl||{}),Mk=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=Ve({token:n,providedIn:"root",factory:()=>new n})}return n})(),H6=[vl.EarlyRead,vl.Write,vl.MixedReadWrite,vl.Read],z6=(()=>{class n{ngZone=ue(Nt);scheduler=ue(ic);errorHandler=ue(ro,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){ue(Fl,{optional:!0})}execute(){let t=this.sequences.size>0;t&&$t(16),this.executing=!0;for(let r of H6)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let s=i.hooks[r];return s(i.pipelinedValue)},i.snapshot))}catch(s){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(s)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&$t(17)}register(t){let{view:r}=t;r!==void 0?((r[xl]??=[]).push(t),Fd(r),r[tt]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(fy.AFTER_NEXT_RENDER,t):t()}static \u0275prov=Ve({token:n,providedIn:"root",factory:()=>new n})}return n})(),d1=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,i,s,o=null){this.impl=e,this.hooks=t,this.view=r,this.once=i,this.snapshot=o,this.unregisterOnDestroy=s?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[xl];e&&(this.view[xl]=e.filter(t=>t!==this))}};function py(n,e){!e?.injector&&G1(py);let t=e?.injector??ue(gn);return hy("NgAfterNextRender"),q6(n,t,e,!0)}function W6(n,e){if(n instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[e]=n,t}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function q6(n,e,t,r){let i=e.get(Mk);i.impl??=e.get(z6);let s=e.get(Fl,null,{optional:!0}),o=t?.phase??vl.MixedReadWrite,a=t?.manualCleanup!==!0?e.get(Pl):null,c=e.get(Ak,null,{optional:!0}),l=new d1(i.impl,W6(n,o),c?.view,r,a,s?.snapshot(null));return i.impl.register(l),l}var G6=()=>null;function Rk(n,e,t=!1){return G6(n,e,t)}function Pk(n,e){let t=n.contentQueries;if(t!==null){let r=bt(null);try{for(let i=0;i<t.length;i+=2){let s=t[i],o=t[i+1];if(o!==-1){let a=n.data[o];J1(s),a.contentQueries(2,e[o],o)}}}finally{bt(r)}}}function f1(n,e,t){J1(0);let r=bt(null);try{e(n,t)}finally{bt(r)}}function my(n,e,t){if(K1(e)){let r=bt(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=n.data[o];if(a.contentQueries){let c=t[o];a.contentQueries(1,c,o)}}}finally{bt(r)}}}var Cs=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Cs||{});var Lp;function K6(){if(Lp===void 0&&(Lp=null,Hv.trustedTypes))try{Lp=Hv.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Lp}function US(n){return K6()?.createScriptURL(n)||n}var a0=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${aD})`}};function Vd(n){return n instanceof a0?n.changingThisBreaksApplicationSecurity:n}function gy(n,e){let t=X6(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${aD})`)}return t===e}function X6(n){return n instanceof a0&&n.getTypeName()||null}var Y6=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Ok(n){return n=String(n),n.match(Y6)?n:"unsafe:"+n}var D0=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(D0||{});function Q6(n){let e=Fk();return e?e.sanitize(D0.URL,n)||"":gy(n,"URL")?Vd(n):Ok(eo(n))}function Z6(n){let e=Fk();if(e)return US(e.sanitize(D0.RESOURCE_URL,n)||"");if(gy(n,"ResourceURL"))return US(Vd(n));throw new Ue(904,!1)}function J6(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?Z6:Q6}function Nk(n,e,t){return J6(e,t)(n)}function Fk(){let n=gt();return n&&n[to].sanitizer}var eB=/^>|^->|<!--|-->|--!>|<!-$/g,tB=/(<|>)/g,nB="\u200B$1\u200B";function rB(n){return n.replace(eB,e=>e.replace(tB,nB))}function Lk(n){return n instanceof Function?n():n}function iB(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}var Vk="ng-template";function sB(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&iB(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(_y(n))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===t)return!0}return!1}function _y(n){return n.type===4&&n.value!==Vk}function oB(n,e,t){let r=n.type===4&&!t?Vk:n.value;return e===r}function aB(n,e,t){let r=4,i=n.attrs,s=i!==null?uB(i):0,o=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!o&&!Qi(r)&&!Qi(c))return!1;if(o&&Qi(c))continue;o=!1,r=c|r&1;continue}if(!o)if(r&4){if(r=2|r&1,c!==""&&!oB(n,c,t)||c===""&&e.length===1){if(Qi(r))return!1;o=!0}}else if(r&8){if(i===null||!sB(n,i,c,t)){if(Qi(r))return!1;o=!0}}else{let l=e[++a],u=cB(c,i,_y(n),t);if(u===-1){if(Qi(r))return!1;o=!0;continue}if(l!==""){let f;if(u>s?f="":f=i[u+1].toLowerCase(),r&2&&l!==f){if(Qi(r))return!1;o=!0}}}}return Qi(r)||o}function Qi(n){return(n&1)===0}function cB(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){let o=e[i];if(o===n)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return dB(e,n)}function lB(n,e,t=!1){for(let r=0;r<e.length;r++)if(aB(n,e[r],t))return!0;return!1}function uB(n){for(let e=0;e<n.length;e++){let t=n[e];if(ik(t))return e}return n.length}function dB(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function jS(n,e){return n?":not("+e.trim()+")":e}function fB(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if(typeof o=="string")if(r&2){let a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!Qi(o)&&(e+=jS(s,i),i=""),r=o,s=s||!Qi(r);t++}return i!==""&&(e+=jS(s,i)),e}function hB(n){return n.map(fB).join(",")}function pB(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let s=n[r];if(typeof s=="string")i===2?s!==""&&e.push(s,n[++r]):i===8&&t.push(s);else{if(!Qi(i))break;i=s}r++}return t.length&&e.push(1,...t),e}var Oi={};function mB(n,e){return n.createText(e)}function gB(n,e,t){n.setValue(e,t)}function _B(n,e){return n.createComment(rB(e))}function Bk(n,e,t){return n.createElement(e,t)}function c0(n,e,t,r,i){n.insertBefore(e,t,r,i)}function Uk(n,e,t){n.appendChild(e,t)}function $S(n,e,t,r,i){r!==null?c0(n,e,t,r,i):Uk(n,e,t)}function vB(n,e,t){n.removeChild(null,e,t)}function yB(n,e,t){n.setAttribute(e,"style",t)}function xB(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function jk(n,e,t){let{mergedAttrs:r,classes:i,styles:s}=t;r!==null&&c6(n,e,r),i!==null&&xB(n,e,i),s!==null&&yB(n,e,s)}function vy(n,e,t,r,i,s,o,a,c,l,u){let f=Hr+r,h=f+i,p=EB(f,h),y=typeof l=="function"?l():l;return p[mt]={type:n,blueprint:p,template:t,queries:null,viewQuery:a,declTNode:e,data:p.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:c,consts:y,incompleteFirstPass:!1,ssrId:u}}function EB(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Oi);return t}function wB(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=vy(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function yy(n,e,t,r,i,s,o,a,c,l,u){let f=e.blueprint.slice();return f[oo]=i,f[tt]=r|4|128|8|64|1024,(l!==null||n&&n[tt]&2048)&&(f[tt]|=2048),jD(f),f[xr]=f[Ml]=n,f[ni]=t,f[to]=o||n&&n[to],f[kn]=a||n&&n[kn],f[Dd]=c||n&&n[Dd]||null,f[es]=s,f[x0]=N6(),f[Yp]=u,f[PD]=l,f[ys]=e.type==2?n[ys]:f,f}function CB(n,e,t){let r=Is(e,n),i=wB(t),s=n[to].rendererFactory,o=xy(n,yy(n,i,null,$k(t),r,e,null,s.createRenderer(r,t),null,null,null));return n[e.index]=o}function $k(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function Hk(n,e,t,r){if(t===0)return-1;let i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function xy(n,e){return n[kd]?n[TS][Zi]=e:n[kd]=e,n[TS]=e,e}function C(n=1){zk(zn(),gt(),ia()+n,!1)}function zk(n,e,t,r){if(!r)if((e[tt]&3)===3){let s=n.preOrderCheckHooks;s!==null&&jp(e,s,t)}else{let s=n.preOrderHooks;s!==null&&$p(e,s,0,t)}nc(t)}var k0=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(k0||{});function h1(n,e,t,r){let i=bt(null);try{let[s,o,a]=n.inputs[t],c=null;(o&k0.SignalBased)!==0&&(c=e[s][pi]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,c,r,t,s):ND(e,c,s,r)}finally{bt(i)}}function Wk(n,e,t,r,i){let s=ia(),o=r&2;try{nc(-1),o&&e.length>Hr&&zk(n,e,Hr,!1),$t(o?2:0,i),t(r,i)}finally{nc(s),$t(o?3:1,i)}}function A0(n,e,t){kB(n,e,t),(t.flags&64)===64&&AB(n,e,t)}function Ey(n,e,t=Is){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?t(e,n):n[o];n[i++]=a}}}function bB(n,e,t,r){let s=r.get(j6,kk)||t===Cs.ShadowDom,o=n.selectRootElement(e,s);return IB(o),o}function IB(n){TB(n)}var TB=()=>null;function SB(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function qk(n,e,t,r,i,s,o,a){if(!a&&Cy(e,n,t,r,i)){Rl(e)&&DB(t,e.index);return}if(e.type&3){let c=Is(e,t);r=SB(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(c,r,i)}else e.type&12}function DB(n,e){let t=ws(e,n);t[tt]&16||(t[tt]|=64)}function kB(n,e,t){let r=t.directiveStart,i=t.directiveEnd;Rl(t)&&CB(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||i0(t,e);let s=t.initialInputs;for(let o=r;o<i;o++){let a=n.data[o],c=Ad(e,n,o,t);if(Nl(c,e),s!==null&&OB(e,o-r,c,a,t,s),xs(a)){let l=ws(t.index,e);l[ni]=Ad(e,n,o,t)}}}function AB(n,e,t){let r=t.directiveStart,i=t.directiveEnd,s=t.index,o=JV();try{nc(s);for(let a=r;a<i;a++){let c=n.data[a],l=e[a];Jv(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&MB(c,l)}}finally{nc(-1),Jv(o)}}function MB(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function wy(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let s=t[i];lB(e,s.selectors,!1)&&(r??=[],xs(s)?r.unshift(s):r.push(s))}return r}function RB(n,e,t,r,i,s){let o=Is(n,e);PB(e[kn],o,s,n.value,t,r,i)}function PB(n,e,t,r,i,s,o){if(s==null)n.removeAttribute(e,i,t);else{let a=o==null?eo(s):o(s,r||"",i);n.setAttribute(e,i,a,t)}}function OB(n,e,t,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;a+=2){let c=o[a],l=o[a+1];h1(r,t,c,l)}}function Gk(n,e){let t=n[Dd],r=t?t.get(ro,null):null;r&&r.handleError(e)}function Cy(n,e,t,r,i){let s=n.inputs?.[r],o=n.hostDirectiveInputs?.[r],a=!1;if(o)for(let c=0;c<o.length;c+=2){let l=o[c],u=o[c+1],f=e.data[l];h1(f,t[l],u,i),a=!0}if(s)for(let c of s){let l=t[c],u=e.data[c];h1(u,l,r,i),a=!0}return a}function NB(n,e){let t=ws(e,n),r=t[mt];FB(r,t);let i=t[oo];i!==null&&t[Yp]===null&&(t[Yp]=Rk(i,t[Dd])),$t(18),by(r,t,t[ni]),$t(19,t[ni])}function FB(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function by(n,e,t){ey(e);try{let r=n.viewQuery;r!==null&&f1(1,r,t);let i=n.template;i!==null&&Wk(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[no]?.finishViewCreation(n),n.staticContentQueries&&Pk(n,e),n.staticViewQueries&&f1(2,n.viewQuery,t);let s=n.components;s!==null&&LB(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[tt]&=-5,ty()}}function LB(n,e){for(let t=0;t<e.length;t++)NB(n,e[t])}function VB(n,e,t,r){let i=bt(null);try{let s=e.tView,a=n[tt]&4096?4096:16,c=yy(n,s,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];c[Ja]=l;let u=n[no];return u!==null&&(c[no]=u.createEmbeddedView(s)),by(s,c,t),c}finally{bt(i)}}function HS(n,e){return!e||e.firstChild===null||wk(n)}var BB;function Iy(n,e){return BB(n,e)}var bs=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(bs||{});function Kk(n){return(n.flags&32)===32}function yl(n,e,t,r,i){if(r!=null){let s,o=!1;ao(r)?s=r:Qo(r)&&(o=!0,r=r[oo]);let a=Es(r);n===0&&t!==null?i==null?Uk(e,t,a):c0(e,t,a,i||null,!0):n===1&&t!==null?c0(e,t,a,i||null,!0):n===2?vB(e,a,o):n===3&&e.destroyNode(a),s!=null&&QB(e,n,s,t,i)}}function UB(n,e){Xk(n,e),e[oo]=null,e[es]=null}function jB(n,e,t,r,i,s){r[oo]=i,r[es]=e,R0(n,r,t,1,i,s)}function Xk(n,e){e[to].changeDetectionScheduler?.notify(9),R0(n,e,e[kn],2,null,null)}function $B(n){let e=n[kd];if(!e)return Fv(n[mt],n);for(;e;){let t=null;if(Qo(e))t=e[kd];else{let r=e[_i];r&&(t=r)}if(!t){for(;e&&!e[Zi]&&e!==n;)Qo(e)&&Fv(e[mt],e),e=e[xr];e===null&&(e=n),Qo(e)&&Fv(e[mt],e),t=e&&e[Zi]}e=t}}function Ty(n,e){let t=n[bl],r=t.indexOf(e);t.splice(r,1)}function Yk(n,e){if(Nd(e))return;let t=e[kn];t.destroyNode&&R0(n,e,t,3,null,null),$B(e)}function Fv(n,e){if(Nd(e))return;let t=bt(null);try{e[tt]&=-129,e[tt]|=256,e[Ri]&&dv(e[Ri]),zB(n,e),HB(n,e),e[mt].type===1&&e[kn].destroy();let r=e[Ja];if(r!==null&&ao(e[xr])){r!==e[xr]&&Ty(r,e);let i=e[no];i!==null&&i.detachView(n)}l1(e)}finally{bt(t)}}function HB(n,e){let t=n.cleanup,r=e[Qp];if(t!==null)for(let o=0;o<t.length-1;o+=2)if(typeof t[o]=="string"){let a=t[o+3];a>=0?r[a]():r[-a].unsubscribe(),o+=2}else{let a=r[t[o+1]];t[o].call(a)}r!==null&&(e[Qp]=null);let i=e[Yo];if(i!==null){e[Yo]=null;for(let o=0;o<i.length;o++){let a=i[o];a()}}let s=e[Zp];if(s!==null){e[Zp]=null;for(let o of s)o.destroy()}}function zB(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof rc)){let s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],c=s[o+1];$t(4,a,c);try{c.call(a)}finally{$t(5,a,c)}}else{$t(4,i,s);try{s.call(i)}finally{$t(5,i,s)}}}}}function WB(n,e,t){return qB(n,e.parent,t)}function qB(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[oo];if(Rl(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===Cs.None||i===Cs.Emulated)return null}return Is(r,t)}function GB(n,e,t){return XB(n,e,t)}function KB(n,e,t){return n.type&40?Is(n,t):null}var XB=KB,zS;function M0(n,e,t,r){let i=WB(n,r,e),s=e[kn],o=r.parent||e[es],a=GB(o,r,e);if(i!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)$S(s,i,t[c],a,!1);else $S(s,i,t,a,!1);zS!==void 0&&zS(s,r,e,t,i)}function bd(n,e){if(e!==null){let t=e.type;if(t&3)return Is(e,n);if(t&4)return p1(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return bd(n,r);{let i=n[e.index];return ao(i)?p1(-1,i):Es(i)}}else{if(t&128)return bd(n,e.next);if(t&32)return Iy(e,n)()||Es(n[e.index]);{let r=Qk(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=tc(n[ys]);return bd(i,r)}else return bd(n,e.next)}}}return null}function Qk(n,e){if(e!==null){let r=n[ys][es],i=e.projection;return r.projection[i]}return null}function p1(n,e){let t=_i+n+1;if(t<e.length){let r=e[t],i=r[mt].firstChild;if(i!==null)return bd(r,i)}return e[ec]}function Sy(n,e,t,r,i,s,o){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],c=t.type;if(o&&e===0&&(a&&Nl(Es(a),r),t.flags|=2),!Kk(t))if(c&8)Sy(n,e,t.child,r,i,s,!1),yl(e,n,i,a,s);else if(c&32){let l=Iy(t,r),u;for(;u=l();)yl(e,n,i,u,s);yl(e,n,i,a,s)}else c&16?YB(n,e,r,t,i,s):yl(e,n,i,a,s);t=o?t.projectionNext:t.next}}function R0(n,e,t,r,i,s){Sy(t,r,n.firstChild,e,i,s,!1)}function YB(n,e,t,r,i,s){let o=t[ys],c=o[es].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];yl(e,n,i,u,s)}else{let l=c,u=o[xr];wk(r)&&(l.flags|=128),Sy(n,e,l,u,i,s,!0)}}function QB(n,e,t,r,i){let s=t[ec],o=Es(t);s!==o&&yl(e,n,r,s,i);for(let a=_i;a<t.length;a++){let c=t[a];R0(c[mt],c,n,e,r,s)}}function ZB(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let s=r.indexOf("-")===-1?void 0:bs.DashCase;i==null?n.removeStyle(t,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=bs.Important),n.setStyle(t,r,i,s))}}function l0(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let s=e[t.index];s!==null&&r.push(Es(s)),ao(s)&&JB(s,r);let o=t.type;if(o&8)l0(n,e,t.child,r);else if(o&32){let a=Iy(t,e),c;for(;c=a();)r.push(c)}else if(o&16){let a=Qk(e,t);if(Array.isArray(a))r.push(...a);else{let c=tc(e[ys]);l0(c[mt],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function JB(n,e){for(let t=_i;t<n.length;t++){let r=n[t],i=r[mt].firstChild;i!==null&&l0(r[mt],r,i,e)}n[ec]!==n[oo]&&e.push(n[ec])}function Zk(n){if(n[xl]!==null){for(let e of n[xl])e.impl.addSequence(e);n[xl].length=0}}var Jk=[];function e8(n){return n[Ri]??t8(n)}function t8(n){let e=Jk.pop()??Object.create(r8);return e.lView=n,e}function n8(n){n.lView[Ri]!==n&&(n.lView=null,Jk.push(n))}var r8=Ke(me({},_d),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{Fd(n.lView)},consumerOnSignalRead(){this.lView[Ri]=this}});function i8(n){let e=n[Ri]??Object.create(s8);return e.lView=n,e}var s8=Ke(me({},_d),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=tc(n.lView);for(;e&&!eA(e[mt]);)e=tc(e);e&&$D(e)},consumerOnSignalRead(){this.lView[Ri]=this}});function eA(n){return n.type!==2}function tA(n){if(n[Zp]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[Zp])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[tt]&8192)}}var o8=100;function nA(n,e=!0,t=0){let i=n[to].rendererFactory,s=!1;s||i.begin?.();try{a8(n,t)}catch(o){throw e&&Gk(n,o),o}finally{s||i.end?.()}}function a8(n,e){let t=KD();try{DS(!0),m1(n,e);let r=0;for(;C0(n);){if(r===o8)throw new Ue(103,!1);r++,m1(n,1)}}finally{DS(t)}}function c8(n,e,t,r){if(Nd(e))return;let i=e[tt],s=!1,o=!1;ey(e);let a=!0,c=null,l=null;s||(eA(n)?(l=e8(e),c=sp(l)):OT()===null?(a=!1,l=i8(e),c=sp(l)):e[Ri]&&(dv(e[Ri]),e[Ri]=null));try{jD(e),YV(n.bindingStartIndex),t!==null&&Wk(n,e,t,2,r);let u=(i&3)===3;if(!s)if(u){let p=n.preOrderCheckHooks;p!==null&&jp(e,p,null)}else{let p=n.preOrderHooks;p!==null&&$p(e,p,0,null),Pv(e,0)}if(o||l8(e),tA(e),rA(e,0),n.contentQueries!==null&&Pk(n,e),!s)if(u){let p=n.contentCheckHooks;p!==null&&jp(e,p)}else{let p=n.contentHooks;p!==null&&$p(e,p,1),Pv(e,1)}d8(n,e);let f=n.components;f!==null&&sA(e,f,0);let h=n.viewQuery;if(h!==null&&f1(2,h,r),!s)if(u){let p=n.viewCheckHooks;p!==null&&jp(e,p)}else{let p=n.viewHooks;p!==null&&$p(e,p,2),Pv(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Rv]){for(let p of e[Rv])p();e[Rv]=null}s||(Zk(e),e[tt]&=-73)}catch(u){throw s||Fd(e),u}finally{l!==null&&(lv(l,c),a&&n8(l)),ty()}}function rA(n,e){for(let t=Ik(n);t!==null;t=Tk(t))for(let r=_i;r<t.length;r++){let i=t[r];iA(i,e)}}function l8(n){for(let e=Ik(n);e!==null;e=Tk(e)){if(!(e[tt]&2))continue;let t=e[bl];for(let r=0;r<t.length;r++){let i=t[r];$D(i)}}}function u8(n,e,t){$t(18);let r=ws(e,n);iA(r,t),$t(19,r[ni])}function iA(n,e){X1(n)&&m1(n,e)}function m1(n,e){let r=n[mt],i=n[tt],s=n[Ri],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&uv(s)),o||=!1,s&&(s.dirty=!1),n[tt]&=-9217,o)c8(r,n,r.template,n[ni]);else if(i&8192){tA(n),rA(n,1);let a=r.components;a!==null&&sA(n,a,1),Zk(n)}}function sA(n,e,t){for(let r=0;r<e.length;r++)u8(n,e[r],t)}function d8(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)nc(~i);else{let s=i,o=t[++r],a=t[++r];ZV(o,s);let c=e[s];$t(24,c),a(2,c),$t(25,c)}}}finally{nc(-1)}}function Dy(n,e){let t=KD()?64:1088;for(n[to].changeDetectionScheduler?.notify(e);n;){n[tt]|=t;let r=tc(n);if(e0(n)&&!r)return n;n=r}return null}function oA(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function f8(n,e,t,r=!0){let i=e[mt];if(h8(i,e,n,t),r){let o=p1(t,n),a=e[kn],c=a.parentNode(n[ec]);c!==null&&jB(i,n[es],a,e,c,o)}let s=e[Yp];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function g1(n,e){if(n.length<=_i)return;let t=_i+e,r=n[t];if(r){let i=r[Ja];i!==null&&i!==n&&Ty(i,r),e>0&&(n[t-1][Zi]=r[Zi]);let s=Kp(n,_i+e);UB(r[mt],r);let o=s[no];o!==null&&o.detachView(s[mt]),r[xr]=null,r[Zi]=null,r[tt]&=-129}return r}function h8(n,e,t,r){let i=_i+r,s=t.length;r>0&&(t[i-1][Zi]=e),r<s-_i?(e[Zi]=t[i],ED(t,_i+r,e)):(t.push(e),e[Zi]=null),e[xr]=t;let o=e[Ja];o!==null&&t!==o&&aA(o,e);let a=e[no];a!==null&&a.insertView(n),Qv(e),e[tt]|=128}function aA(n,e){let t=n[bl],r=e[xr];if(Qo(r))n[tt]|=2;else{let i=r[xr][ys];e[ys]!==i&&(n[tt]|=2)}t===null?n[bl]=[e]:t.push(e)}var sc=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,t=e[mt];return l0(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r}get context(){return this._lView[ni]}set context(e){this._lView[ni]=e}get destroyed(){return Nd(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[xr];if(ao(e)){let t=e[Jp],r=t?t.indexOf(this):-1;r>-1&&(g1(e,r),Kp(t,r))}this._attachedToViewContainer=!1}Yk(this._lView[mt],this._lView)}onDestroy(e){HD(this._lView,e)}markForCheck(){Dy(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[tt]&=-129}reattach(){Qv(this._lView),this._lView[tt]|=128}detectChanges(){this._lView[tt]|=1024,nA(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ue(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=e0(this._lView),t=this._lView[Ja];t!==null&&!e&&Ty(t,this._lView),Xk(this._lView[mt],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Ue(902,!1);this._appRef=e;let t=e0(this._lView),r=this._lView[Ja];r!==null&&!t&&aA(r,this._lView),Qv(this._lView)}};var Jo=(()=>{class n{static __NG_ELEMENT_ID__=g8}return n})(),p8=Jo,m8=class extends p8{_declarationLView;_declarationTContainer;elementRef;constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=VB(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new sc(i)}};function g8(){return P0(wr(),gt())}function P0(n,e){return n.type&4?new m8(e,n,Ol(n,e)):null}function O0(n,e,t,r,i){let s=n.data[e];if(s===null)s=_8(n,e,t,r,i),QV()&&(s.flags|=32);else if(s.type&64){s.type=t,s.value=r,s.attrs=i;let o=KV();s.injectorIndex=o===null?-1:o.injectorIndex}return ac(s,!0),s}function _8(n,e,t,r,i){let s=qD(),o=Q1(),a=o?s:s&&s.parent,c=n.data[e]=y8(n,a,t,e,r,i);return v8(n,c,s,o),c}function v8(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function y8(n,e,t,r,i,s){let o=e?e.injectorIndex:-1,a=0;return WV()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var tpe=new RegExp(`^(\\d+)*(${U6}|${B6})*(.*)`);var x8=()=>null;function WS(n,e){return x8(n,e)}var _1=class{},u0=class{},v1=class{resolveComponentFactory(e){throw Error(`No component factory found for ${yr(e)}.`)}},Sl=class{static NULL=new v1},Dl=class{},ri=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>E8()}return n})();function E8(){let n=gt(),e=wr(),t=ws(e.index,n);return(Qo(t)?t:n)[kn]}var w8=(()=>{class n{static \u0275prov=Ve({token:n,providedIn:"root",factory:()=>null})}return n})();function y1(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=yS(i,a);else if(s==2){let c=a,l=e[++o];r=yS(r,c+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function xe(n,e=pt.Default){let t=gt();if(t===null)return Ze(n,e);let r=wr();return dk(r,t,jr(n),e)}function cA(){let n="invalid";throw new Error(n)}function ky(n,e,t,r,i){let s=r===null?null:{"":-1},o=i(n,t);if(o!==null){let a,c=null,l=null,u=b8(o);u===null?a=o:[a,c,l]=u,S8(n,e,t,a,s,c,l)}s!==null&&r!==null&&C8(t,r,s)}function C8(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let s=t[e[i+1]];if(s==null)throw new Ue(-301,!1);r.push(e[i],s)}}function b8(n){let e=null,t=!1;for(let o=0;o<n.length;o++){let a=n[o];if(o===0&&xs(a)&&(e=a),a.findHostDirectiveDefs!==null){t=!0;break}}if(!t)return null;let r=null,i=null,s=null;for(let o of n)o.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,s??=new Map,I8(o,r,s,i)),o===e&&(r??=[],r.push(o));return r!==null?(r.push(...e===null?n:n.slice(1)),[r,i,s]):null}function I8(n,e,t,r){let i=e.length;n.findHostDirectiveDefs(n,e,r),t.set(n,[i,e.length-1])}function T8(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function S8(n,e,t,r,i,s,o){let a=r.length,c=!1;for(let h=0;h<a;h++){let p=r[h];!c&&xs(p)&&(c=!0,T8(n,t,h)),n1(i0(t,e),n,p.type)}P8(t,n.data.length,a);for(let h=0;h<a;h++){let p=r[h];p.providersResolver&&p.providersResolver(p)}let l=!1,u=!1,f=Hk(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let h=0;h<a;h++){let p=r[h];if(t.mergedAttrs=Tl(t.mergedAttrs,p.hostAttrs),k8(n,t,e,f,p),R8(f,p,i),o!==null&&o.has(p)){let[v,w]=o.get(p);t.directiveToIndex.set(p.type,[f,v+t.directiveStart,w+t.directiveStart])}else(s===null||!s.has(p))&&t.directiveToIndex.set(p.type,f);p.contentQueries!==null&&(t.flags|=4),(p.hostBindings!==null||p.hostAttrs!==null||p.hostVars!==0)&&(t.flags|=64);let y=p.type.prototype;!l&&(y.ngOnChanges||y.ngOnInit||y.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),l=!0),!u&&(y.ngOnChanges||y.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),u=!0),f++}D8(n,t,s)}function D8(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))qS(0,e,i,r),qS(1,e,i,r),KS(e,r,!1);else{let s=t.get(i);GS(0,e,s,r),GS(1,e,s,r),KS(e,r,!0)}}}function qS(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let s in i)if(i.hasOwnProperty(s)){let o;n===0?o=e.inputs??={}:o=e.outputs??={},o[s]??=[],o[s].push(r),lA(e,s)}}function GS(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let s in i)if(i.hasOwnProperty(s)){let o=i[s],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[o]??=[],a[o].push(r,s),lA(e,o)}}function lA(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function KS(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:s}=n;if(r===null||!t&&i===null||t&&s===null||_y(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let o=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!t&&i.hasOwnProperty(c)){let l=i[c];for(let u of l)if(u===e){o??=[],o.push(c,r[a+1]);break}}else if(t&&s.hasOwnProperty(c)){let l=s[c];for(let u=0;u<l.length;u+=2)if(l[u]===e){o??=[],o.push(l[u+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(o)}function k8(n,e,t,r,i){n.data[r]=i;let s=i.factory||(i.factory=Qa(i.type,!0)),o=new rc(s,xs(i),xe);n.blueprint[r]=o,t[r]=o,A8(n,e,r,Hk(n,t,i.hostVars,Oi),i)}function A8(n,e,t,r,i){let s=i.hostBindings;if(s){let o=n.hostBindingOpCodes;o===null&&(o=n.hostBindingOpCodes=[]);let a=~e.index;M8(o)!=a&&o.push(a),o.push(t,r,s)}}function M8(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function R8(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;xs(e)&&(t[""]=n)}}function P8(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function uA(n,e,t,r,i,s,o,a){let c=e.consts,l=Il(c,o),u=O0(e,n,2,r,l);return s&&ky(e,t,u,Il(c,a),i),u.mergedAttrs=Tl(u.mergedAttrs,u.attrs),u.attrs!==null&&y1(u,u.attrs,!1),u.mergedAttrs!==null&&y1(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function dA(n,e){ry(n,e),K1(e)&&n.queries.elementEnd(e)}var d0=class extends Sl{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Zo(e);return new kl(t,this.ngModule)}};function O8(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],s={propName:t,templateName:e,isSignal:(r&k0.SignalBased)!==0};return i&&(s.transform=i),s})}function N8(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function F8(n,e,t){let r=e instanceof $r?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new e1(t,r):t}function L8(n){let e=n.get(Dl,null);if(e===null)throw new Ue(407,!1);let t=n.get(w8,null),r=n.get(ic,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r}}function V8(n,e){let t=(n.selectors[0][0]||"div").toLowerCase();return Bk(e,t,t==="svg"?NV:t==="math"?FV:null)}var kl=class extends u0{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=O8(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=N8(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=hB(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i){$t(22);let s=bt(null);try{let o=this.componentDef,a=r?["ng-version","19.2.1"]:pB(this.componentDef.selectors[0]),c=vy(0,null,null,1,0,null,null,null,null,[a],null),l=F8(o,i||this.ngModule,e),u=L8(l),f=u.rendererFactory.createRenderer(null,o),h=r?bB(f,r,o.encapsulation,l):V8(o,f),p=yy(null,c,null,512|$k(o),null,null,u,f,l,null,Rk(h,l,!0));p[Hr]=h,ey(p);let y=null;try{let v=uA(Hr,c,p,"#host",()=>[this.componentDef],!0,0);h&&(jk(f,h,v),Nl(h,p)),A0(c,p,v),my(c,v,p),dA(c,v),t!==void 0&&B8(v,this.ngContentSelectors,t),y=ws(v.index,p),p[ni]=y[ni],by(c,p,null)}catch(v){throw y!==null&&l1(y),l1(p),v}finally{$t(23),ty()}return new x1(this.componentType,p)}finally{bt(s)}}},x1=class extends _1{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t){super(),this._rootLView=t,this._tNode=UD(t[mt],Hr),this.location=Ol(this._tNode,t),this.instance=ws(this._tNode.index,t)[ni],this.hostView=this.changeDetectorRef=new sc(t,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,s=Cy(r,i[mt],i,e,t);this.previousInputValues.set(e,t);let o=ws(r.index,i);Dy(o,1)}get injector(){return new Ya(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function B8(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let s=t[i];r.push(s!=null&&s.length?Array.from(s):null)}}var co=(()=>{class n{static __NG_ELEMENT_ID__=U8}return n})();function U8(){let n=wr();return hA(n,gt())}var j8=co,fA=class extends j8{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Ol(this._hostTNode,this._hostLView)}get injector(){return new Ya(this._hostTNode,this._hostLView)}get parentInjector(){let e=iy(this._hostTNode,this._hostLView);if(sk(e)){let t=n0(e,this._hostLView),r=t0(e),i=t[mt].data[r+8];return new Ya(i,t)}else return new Ya(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=XS(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-_i}createEmbeddedView(e,t,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=WS(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},s,o);return this.insertImpl(a,i,HS(this._hostTNode,o)),a}createComponent(e,t,r,i,s){let o=e&&!MV(e),a;if(o)a=t;else{let y=t||{};a=y.index,r=y.injector,i=y.projectableNodes,s=y.environmentInjector||y.ngModuleRef}let c=o?e:new kl(Zo(e)),l=r||this.parentInjector;if(!s&&c.ngModule==null){let v=(o?l:this.parentInjector).get($r,null);v&&(s=v)}let u=Zo(c.componentType??{}),f=WS(this._lContainer,u?.id??null),h=f?.firstChild??null,p=c.create(l,i,h,s);return this.insertImpl(p.hostView,a,HS(this._hostTNode,f)),p}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(VV(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[xr],l=new fA(c,c[es],c[xr]);l.detach(l.indexOf(e))}}let s=this._adjustIndex(t),o=this._lContainer;return f8(o,i,s,r),e.attachToViewContainerRef(),ED(Lv(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=XS(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=g1(this._lContainer,t);r&&(Kp(Lv(this._lContainer),t),Yk(r[mt],r))}detach(e){let t=this._adjustIndex(e,-1),r=g1(this._lContainer,t);return r&&Kp(Lv(this._lContainer),t)!=null?new sc(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function XS(n){return n[Jp]}function Lv(n){return n[Jp]||(n[Jp]=[])}function hA(n,e){let t,r=e[n.index];return ao(r)?t=r:(t=oA(r,e,null,n),e[n.index]=t,xy(e,t)),H8(t,e,n,r),new fA(t,n,e)}function $8(n,e){let t=n[kn],r=t.createComment(""),i=Is(e,n),s=t.parentNode(i);return c0(t,s,r,t.nextSibling(i),!1),r}var H8=q8,z8=()=>!1;function W8(n,e,t){return z8(n,e,t)}function q8(n,e,t,r){if(n[ec])return;let i;t.type&8?i=Es(r):i=$8(e,t),n[ec]=i}var E1=class n{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},w1=class n{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let s=0;s<r;s++){let o=t.getByIndex(s),a=this.queries[o.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)Ay(e,t).matches!==null&&this.queries[t].setDirty()}},f0=class{flags;read;predicate;constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=e5(e):this.predicate=e}},C1=class n{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,t!==null?t.push(s):t=[s])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},b1=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let s=r[i];this.matchTNodeWithReadOption(e,t,G8(t,s)),this.matchTNodeWithReadOption(e,t,Hp(t,e,s,!1,!1))}else r===Jo?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Hp(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Xn||i===co||i===Jo&&t.type&4)this.addMatch(t.index,-2);else{let s=Hp(t,e,i,!1,!1);s!==null&&this.addMatch(t.index,s)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function G8(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function K8(n,e){return n.type&11?Ol(n,e):n.type&4?P0(n,e):null}function X8(n,e,t,r){return t===-1?K8(e,n):t===-2?Y8(n,e,r):Ad(n,n[mt],t,e)}function Y8(n,e,t){if(t===Xn)return Ol(e,n);if(t===Jo)return P0(e,n);if(t===co)return hA(e,n)}function pA(n,e,t,r){let i=e[no].queries[r];if(i.matches===null){let s=n.data,o=t.matches,a=[];for(let c=0;o!==null&&c<o.length;c+=2){let l=o[c];if(l<0)a.push(null);else{let u=s[l];a.push(X8(e,u,o[c+1],t.metadata.read))}}i.matches=a}return i.matches}function I1(n,e,t,r){let i=n.queries.getByIndex(t),s=i.matches;if(s!==null){let o=pA(n,e,i,t);for(let a=0;a<s.length;a+=2){let c=s[a];if(c>0)r.push(o[a/2]);else{let l=s[a+1],u=e[-c];for(let f=_i;f<u.length;f++){let h=u[f];h[Ja]===h[xr]&&I1(h[mt],h,l,r)}if(u[bl]!==null){let f=u[bl];for(let h=0;h<f.length;h++){let p=f[h];I1(p[mt],p,l,r)}}}}}return r}function Q8(n,e){return n[no].queries[e].queryList}function mA(n,e,t){let r=new c1((t&4)===4);return jV(n,e,r,r.destroy),(e[no]??=new w1).queries.push(new E1(r))-1}function Z8(n,e,t){let r=zn();return r.firstCreatePass&&(gA(r,new f0(n,e,t),-1),(e&2)===2&&(r.staticViewQueries=!0)),mA(r,gt(),e)}function J8(n,e,t,r){let i=zn();if(i.firstCreatePass){let s=wr();gA(i,new f0(e,t,r),s.index),t5(i,n),(t&2)===2&&(i.staticContentQueries=!0)}return mA(i,gt(),t)}function e5(n){return n.split(",").map(e=>e.trim())}function gA(n,e,t){n.queries===null&&(n.queries=new C1),n.queries.track(new b1(e,t))}function t5(n,e){let t=n.contentQueries||(n.contentQueries=[]),r=t.length?t[t.length-1]:-1;e!==r&&t.push(n.queries.length-1,e)}function Ay(n,e){return n.queries.getByIndex(e)}function n5(n,e){let t=n[mt],r=Ay(t,e);return r.crossesNgTemplate?I1(t,n,e,[]):pA(t,n,r,e)}var ea=class{},Md=class{};var T1=class extends ea{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new d0(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let s=bD(e);this._bootstrapComponents=Lk(s.bootstrap),this._r3Injector=pk(e,t,[{provide:ea,useValue:this},{provide:Sl,useValue:this.componentFactoryResolver},...r],yr(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},S1=class extends Md{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new T1(this.moduleType,e,[])}};var h0=class extends ea{injector;componentFactoryResolver=new d0(this);instance=null;constructor(e){super();let t=new Sd([...e.providers,{provide:ea,useValue:this},{provide:Sl,useValue:this.componentFactoryResolver}],e.parent||q1(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function N0(n,e,t=null){return new h0({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var r5=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=DD(!1,t.type),i=r.length>0?N0([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=Ve({token:n,providedIn:"environment",factory:()=>new n(Ze($r))})}return n})();function _t(n){return Pd(()=>{let e=_A(n),t=Ke(me({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Ck.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(r5).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Cs.Emulated,styles:n.styles||Mi,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&hy("NgStandalone"),vA(t);let r=n.dependencies;return t.directiveDefs=YS(r,!1),t.pipeDefs=YS(r,!0),t.id=c5(t),t})}function i5(n){return Zo(n)||ID(n)}function s5(n){return n!==null}function sa(n){return Pd(()=>({type:n.type,bootstrap:n.bootstrap||Mi,declarations:n.declarations||Mi,imports:n.imports||Mi,exports:n.exports||Mi,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function o5(n,e){if(n==null)return Za;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],s,o,a,c;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s,c=i[3]||null):(s=i,o=i,a=k0.None,c=null),t[s]=[r,a,c],e[s]=o}return t}function a5(n){if(n==null)return Za;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function Ft(n){return Pd(()=>{let e=_A(n);return vA(e),e})}function Ts(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function _A(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||Za,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||Mi,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:o5(n.inputs,e),outputs:a5(n.outputs),debugInfo:null}}function vA(n){n.features?.forEach(e=>e(n))}function YS(n,e){if(!n)return null;let t=e?TD:i5;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(s5)}function c5(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let s of r.join("|"))e=Math.imul(31,e)+s.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function l5(n){return Object.getPrototypeOf(n.prototype).constructor}function zr(n){let e=l5(n.type),t=!0,r=[n];for(;e;){let i;if(xs(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Ue(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let o=n;o.inputs=Vv(n.inputs),o.declaredInputs=Vv(n.declaredInputs),o.outputs=Vv(n.outputs);let a=i.hostBindings;a&&p5(n,a);let c=i.viewQuery,l=i.contentQueries;if(c&&f5(n,c),l&&h5(n,l),u5(n,i),J3(n.outputs,i.outputs),xs(i)&&i.data.animation){let u=n.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(n),a===zr&&(t=!1)}}e=Object.getPrototypeOf(e)}d5(r)}function u5(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function d5(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Tl(i.hostAttrs,t=Tl(t,i.hostAttrs))}}function Vv(n){return n===Za?{}:n===Mi?[]:n}function f5(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function h5(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,s)=>{e(r,i,s),t(r,i,s)}:n.contentQueries=e}function p5(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function yA(n){return My(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function m5(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function My(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function F0(n,e,t){return n[e]=t}function g5(n,e){return n[e]}function io(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function Ry(n,e,t,r){let i=io(n,e,t);return io(n,e+1,r)||i}function xA(n,e,t,r,i){let s=Ry(n,e,t,r);return io(n,e+2,i)||s}function _5(n,e,t,r,i,s,o,a,c){let l=e.consts,u=O0(e,n,4,o||null,a||null);Y1()&&ky(e,t,u,Il(l,c),wy),u.mergedAttrs=Tl(u.mergedAttrs,u.attrs),ry(e,u);let f=u.tView=vy(2,u,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,u),f.queries=e.queries.embeddedTView(u)),u}function v5(n,e,t,r,i,s,o,a,c,l){let u=t+Hr,f=e.firstCreatePass?_5(u,e,n,r,i,s,o,a,c):e.data[u];ac(f,!1);let h=y5(e,n,f,t);I0()&&M0(e,n,h,f),Nl(h,n);let p=oA(h,n,h,f);return n[u]=p,xy(n,p),W8(p,f,n),E0(f)&&A0(e,n,f),c!=null&&Ey(n,f,l),f}function Z(n,e,t,r,i,s,o,a){let c=gt(),l=zn(),u=Il(l.consts,s);return v5(c,l,n,e,t,r,i,u,o,a),Z}var y5=x5;function x5(n,e,t,r){return T0(!0),e[kn].createComment("")}var Py=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Ve({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var EA=new je("");var E5=(()=>{class n{static \u0275prov=Ve({token:n,providedIn:"root",factory:()=>new D1})}return n})(),D1=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),this.queuedEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,t]of this.queues)e===null?this.flushQueue(t):e.run(()=>this.flushQueue(t))}flushQueue(e){for(let t of e)e.delete(t),this.queuedEffectCount--,t.run()}};function oa(n){return!!n&&typeof n.then=="function"}function Oy(n){return!!n&&typeof n.subscribe=="function"}var L0=new je("");var wA=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=ue(L0,{optional:!0})??[];injector=ue(gn);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let s=Er(this.injector,i);if(oa(s))t.push(s);else if(Oy(s)){let o=new Promise((a,c)=>{s.subscribe({complete:a,error:c})});t.push(o)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Ve({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),V0=new je("");function w5(){zT(()=>{throw new Ue(600,!1)})}function C5(n){return n.isBoundToModule}var b5=10;var ta=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=ue(S6);afterRenderManager=ue(Mk);zonelessEnabled=ue(oy);rootEffectScheduler=ue(E5);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new mn;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=ue(cc).hasPendingTasks.pipe(ut(t=>!t));constructor(){ue(Fl,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=ue($r);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){$t(10);let i=t instanceof u0;if(!this._injector.get(wA).done){let h=!i&&SD(t),p=!1;throw new Ue(405,p)}let o;i?o=t:o=this._injector.get(Sl).resolveComponentFactory(t),this.componentTypes.push(o.componentType);let a=C5(o)?void 0:this._injector.get(ea),c=r||o.selector,l=o.create(gn.NULL,[],c,a),u=l.location.nativeElement,f=l.injector.get(EA,null);return f?.registerApplication(u),l.onDestroy(()=>{this.detachView(l.hostView),zp(this.components,l),f?.unregisterApplication(u)}),this._loadComponent(l),$t(11,l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){$t(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(fy.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new Ue(101,!1);let t=bt(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,bt(t),this.afterTick.next(),$t(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Dl,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<b5;)$t(14),this.synchronizeOnce(),$t(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let t=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)I5(r,i,t,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>C0(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;zp(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(V0,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>zp(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new Ue(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Ve({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function zp(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function I5(n,e,t,r){if(!t&&!C0(n))return;nA(n,e,t&&!r?0:1)}function uc(n,e,t,r){let i=gt(),s=b0();if(io(i,s,e)){let o=zn(),a=ny();RB(a,i,n,e,t,r)}return uc}function T5(n,e,t,r){return io(n,b0(),t)?e+eo(t)+r:Oi}function S5(n,e,t,r,i,s){let o=XD(),a=Ry(n,o,t,i);return Z1(2),a?e+eo(t)+r+eo(i)+s:Oi}function D5(n,e,t,r,i,s,o,a){let c=XD(),l=xA(n,c,t,i,o);return Z1(3),l?e+eo(t)+r+eo(i)+s+eo(o)+a:Oi}function Vp(n,e){return n<<17|e<<2}function oc(n){return n>>17&32767}function k5(n){return(n&2)==2}function A5(n,e){return n&131071|e<<17}function k1(n){return n|2}function Al(n){return(n&131068)>>2}function Bv(n,e){return n&-131069|e<<2}function M5(n){return(n&1)===1}function A1(n){return n|1}function R5(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=oc(o),c=Al(o);n[r]=t;let l=!1,u;if(Array.isArray(t)){let f=t;u=f[1],(u===null||Od(f,u)>0)&&(l=!0)}else u=t;if(i)if(c!==0){let h=oc(n[a+1]);n[r+1]=Vp(h,a),h!==0&&(n[h+1]=Bv(n[h+1],r)),n[a+1]=A5(n[a+1],r)}else n[r+1]=Vp(a,0),a!==0&&(n[a+1]=Bv(n[a+1],r)),a=r;else n[r+1]=Vp(c,0),a===0?a=r:n[c+1]=Bv(n[c+1],r),c=r;l&&(n[r+1]=k1(n[r+1])),QS(n,u,r,!0),QS(n,u,r,!1),P5(e,u,n,r,s),o=Vp(a,c),s?e.classBindings=o:e.styleBindings=o}function P5(n,e,t,r,i){let s=i?n.residualClasses:n.residualStyles;s!=null&&typeof e=="string"&&Od(s,e)>=0&&(t[r+1]=A1(t[r+1]))}function QS(n,e,t,r){let i=n[t+1],s=e===null,o=r?oc(i):Al(i),a=!1;for(;o!==0&&(a===!1||s);){let c=n[o],l=n[o+1];O5(c,e)&&(a=!0,n[o+1]=r?A1(l):k1(l)),o=r?oc(l):Al(l)}a&&(n[t+1]=r?k1(i):A1(i))}function O5(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Od(n,e)>=0:!1}function W(n,e,t){let r=gt(),i=b0();if(io(r,i,e)){let s=zn(),o=ny();qk(s,o,r,n,e,r[kn],t,!1)}return W}function ZS(n,e,t,r,i){Cy(e,n,t,i?"class":"style",r)}function ii(n,e){return N5(n,e,null,!0),ii}function N5(n,e,t,r){let i=gt(),s=zn(),o=Z1(2);if(s.firstUpdatePass&&L5(s,n,o,r),e!==Oi&&io(i,o,e)){let a=s.data[ia()];$5(s,a,i,i[kn],n,i[o+1]=H5(e,t),r,o)}}function F5(n,e){return e>=n.expandoStartIndex}function L5(n,e,t,r){let i=n.data;if(i[t+1]===null){let s=i[ia()],o=F5(n,t);z5(s,r)&&e===null&&!o&&(e=!1),e=V5(i,s,e,r),R5(i,s,e,t,o,r)}}function V5(n,e,t,r){let i=e6(n),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=Uv(null,n,e,t,r),t=Rd(t,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||n[o]!==i)if(t=Uv(i,n,e,t,r),s===null){let c=B5(n,e,r);c!==void 0&&Array.isArray(c)&&(c=Uv(null,n,e,c[1],r),c=Rd(c,e.attrs,r),U5(n,e,r,c))}else s=j5(n,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),t}function B5(n,e,t){let r=t?e.classBindings:e.styleBindings;if(Al(r)!==0)return n[oc(r)]}function U5(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[oc(i)]=r}function j5(n,e,t){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=n[s].hostAttrs;r=Rd(r,o,t)}return Rd(r,e.attrs,t)}function Uv(n,e,t,r,i){let s=null,o=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<o&&(s=e[a],r=Rd(r,s.hostAttrs,i),s!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function Rd(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),yV(n,o,t?!0:e[++s]))}return n===void 0?null:n}function $5(n,e,t,r,i,s,o,a){if(!(e.type&3))return;let c=n.data,l=c[a+1],u=M5(l)?JS(c,e,t,i,Al(l),o):void 0;if(!p0(u)){p0(s)||k5(l)&&(s=JS(c,null,t,i,a,o));let f=BD(ia(),t);ZB(r,o,f,i,s)}}function JS(n,e,t,r,i,s){let o=e===null,a;for(;i>0;){let c=n[i],l=Array.isArray(c),u=l?c[1]:c,f=u===null,h=t[i+1];h===Oi&&(h=f?Mi:void 0);let p=f?Av(h,r):u===r?h:void 0;if(l&&!p0(p)&&(p=Av(c,r)),p0(p)&&(a=p,o))return a;let y=n[i+1];i=o?oc(y):Al(y)}if(e!==null){let c=s?e.residualClasses:e.residualStyles;c!=null&&(a=Av(c,r))}return a}function p0(n){return n!==void 0}function H5(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=yr(Vd(n)))),n}function z5(n,e){return(n.flags&(e?8:16))!==0}function _(n,e,t,r){let i=gt(),s=zn(),o=Hr+n,a=i[kn],c=s.firstCreatePass?uA(o,s,i,e,wy,Y1(),t,r):s.data[o],l=W5(s,i,c,a,e,n);i[o]=l;let u=E0(c);return ac(c,!0),jk(a,l,c),!Kk(c)&&I0()&&M0(s,i,l,c),($V()===0||u)&&Nl(l,i),HV(),u&&(A0(s,i,c),my(s,c,i)),r!==null&&Ey(i,c),_}function g(){let n=wr();Q1()?GD():(n=n.parent,ac(n,!1));let e=n;qV(e)&&GV(),zV();let t=zn();return t.firstCreatePass&&dA(t,e),e.classesWithoutHost!=null&&o6(e)&&ZS(t,e,gt(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&a6(e)&&ZS(t,e,gt(),e.stylesWithoutHost,!1),g}function be(n,e,t,r){return _(n,e,t,r),g(),be}var W5=(n,e,t,r,i,s)=>(T0(!0),Bk(r,i,r6()));function q5(n,e,t,r,i){let s=e.consts,o=Il(s,r),a=O0(e,n,8,"ng-container",o);o!==null&&y1(a,o,!0);let c=Il(s,i);return Y1()&&ky(e,t,a,c,wy),a.mergedAttrs=Tl(a.mergedAttrs,a.attrs),e.queries!==null&&e.queries.elementStart(e,a),a}function qe(n,e,t){let r=gt(),i=zn(),s=n+Hr,o=i.firstCreatePass?q5(s,i,r,e,t):i.data[s];ac(o,!0);let a=G5(i,r,o,n);return r[s]=a,I0()&&M0(i,r,a,o),Nl(a,r),E0(o)&&(A0(i,r,o),my(i,o,r)),t!=null&&Ey(r,o),qe}function Ge(){let n=wr(),e=zn();return Q1()?GD():(n=n.parent,ac(n,!1)),e.firstCreatePass&&(ry(e,n),K1(n)&&e.queries.elementEnd(n)),Ge}var G5=(n,e,t,r)=>(T0(!0),_B(e[kn],""));function De(){return gt()}var m0="en-US";var K5=m0;function X5(n){typeof n=="string"&&(K5=n.toLowerCase().replace(/_/g,"-"))}var Y5=(n,e,t)=>{};function ae(n,e,t,r){let i=gt(),s=zn(),o=wr();return CA(s,i,i[kn],o,n,e,r),ae}function Q5(n,e,t,r){let i=n.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===t&&i[s+1]===r){let a=e[Qp],c=i[s+2];return a.length>c?a[c]:null}typeof o=="string"&&(s+=2)}return null}function CA(n,e,t,r,i,s,o){let a=E0(r),l=n.firstCreatePass?WD(n):null,u=e[ni],f=zD(e),h=!0;if(r.type&3||o){let p=Is(r,e),y=o?o(p):p,v=f.length,w=o?V=>o(Es(V[r.index])):r.index,F=null;if(!o&&a&&(F=Q5(n,e,i,r.index)),F!==null){let V=F.__ngLastListenerFn__||F;V.__ngNextListenerFn__=s,F.__ngLastListenerFn__=s,h=!1}else{s=nD(r,e,u,s),Y5(y,i,s);let V=t.listen(y,i,s);f.push(s,V),l&&l.push(i,w,v,v+1)}}else s=nD(r,e,u,s);if(h){let p=r.outputs?.[i],y=r.hostDirectiveOutputs?.[i];if(y&&y.length)for(let v=0;v<y.length;v+=2){let w=y[v],F=y[v+1];eD(r,n,e,w,F,i,s,f,l)}if(p&&p.length)for(let v of p)eD(r,n,e,v,i,i,s,f,l)}}function eD(n,e,t,r,i,s,o,a,c){let l=t[r],f=e.data[r].outputs[i],p=l[f].subscribe(o),y=a.length;a.push(o,p),c&&c.push(s,n.index,y,-(y+1))}function tD(n,e,t,r){let i=bt(null);try{return $t(6,e,t),t(r)!==!1}catch(s){return Gk(n,s),!1}finally{$t(7,e,t),bt(i)}}function nD(n,e,t,r){return function i(s){if(s===Function)return r;let o=Rl(n)?ws(n.index,e):e;Dy(o,5);let a=tD(e,t,r,s),c=i.__ngNextListenerFn__;for(;c;)a=tD(e,t,c,s)&&a,c=c.__ngNextListenerFn__;return a}}function D(n=1){return n6(n)}function bA(n,e,t,r){J8(n,e,t,r)}function B0(n,e,t){Z8(n,e,t)}function Ll(n){let e=gt(),t=zn(),r=YD();J1(r+1);let i=Ay(t,r);if(n.dirty&&LV(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let s=n5(e,r);n.reset(s,A6),n.notifyOnChanges()}return!0}return!1}function Vl(){return Q8(gt(),YD())}function Z5(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function Lt(n){let e=XV();return w0(e,Hr+n)}function E(n,e=""){let t=gt(),r=zn(),i=n+Hr,s=r.firstCreatePass?O0(r,i,1,e,null):r.data[i],o=J5(r,t,s,e,n);t[i]=o,I0()&&M0(r,t,o,s),ac(s,!1)}var J5=(n,e,t,r,i)=>(T0(!0),mB(e[kn],r));function pe(n){return ge("",n,""),pe}function ge(n,e,t){let r=gt(),i=T5(r,n,e,t);return i!==Oi&&Fy(r,ia(),i),ge}function _n(n,e,t,r,i){let s=gt(),o=S5(s,n,e,t,r,i);return o!==Oi&&Fy(s,ia(),o),_n}function Ny(n,e,t,r,i,s,o){let a=gt(),c=D5(a,n,e,t,r,i,s,o);return c!==Oi&&Fy(a,ia(),c),Ny}function Fy(n,e,t){let r=BD(e,n);gB(n[kn],r,t)}function Zt(n,e,t){Ek(e)&&(e=e());let r=gt(),i=b0();if(io(r,i,e)){let s=zn(),o=ny();qk(s,o,r,n,e,r[kn],t,!1)}return Zt}function rn(n,e){let t=Ek(n);return t&&n.set(e),t}function Jt(n,e){let t=gt(),r=zn(),i=wr();return CA(r,t,t[kn],i,n,e),Jt}function eU(n,e,t){let r=zn();if(r.firstCreatePass){let i=xs(n);M1(t,r.data,r.blueprint,i,!0),M1(e,r.data,r.blueprint,i,!1)}}function M1(n,e,t,r,i){if(n=jr(n),Array.isArray(n))for(let s=0;s<n.length;s++)M1(n[s],e,t,r,i);else{let s=zn(),o=gt(),a=wr(),c=Cl(n)?n:jr(n.provide),l=MD(n),u=a.providerIndexes&1048575,f=a.directiveStart,h=a.providerIndexes>>20;if(Cl(n)||!n.multi){let p=new rc(l,i,xe),y=$v(c,e,i?u:u+h,f);y===-1?(n1(i0(a,o),s,c),jv(s,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(p),o.push(p)):(t[y]=p,o[y]=p)}else{let p=$v(c,e,u+h,f),y=$v(c,e,u,u+h),v=p>=0&&t[p],w=y>=0&&t[y];if(i&&!w||!i&&!v){n1(i0(a,o),s,c);let F=rU(i?nU:tU,t.length,i,r,l);!i&&w&&(t[y].providerFactory=F),jv(s,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(F),o.push(F)}else{let F=IA(t[i?y:p],l,!i&&r);jv(s,n,p>-1?p:y,F)}!i&&r&&w&&t[y].componentProviders++}}}function jv(n,e,t,r){let i=Cl(e),s=IV(e);if(i||s){let c=(s?jr(e.useClass):e).prototype.ngOnDestroy;if(c){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let u=l.indexOf(t);u===-1?l.push(t,[r,c]):l[u+1].push(r,c)}else l.push(t,c)}}}function IA(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function $v(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function tU(n,e,t,r){return R1(this.multi,[])}function nU(n,e,t,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=Ad(t,t[mt],this.providerFactory.index,r);s=a.slice(0,o),R1(i,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],R1(i,s);return s}function R1(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function rU(n,e,t,r,i){let s=new rc(n,t,xe);return s.multi=[],s.index=e,s.componentProviders=0,IA(s,i,r&&!t),s}function ts(n,e=[]){return t=>{t.providersResolver=(r,i)=>eU(r,i?i(n):n,e)}}function U0(n,e,t){let r=Ld()+n,i=gt();return i[r]===Oi?F0(i,r,t?e.call(t):e()):g5(i,r)}function j0(n,e,t,r,i){return TA(gt(),Ld(),n,e,t,r,i)}function Ly(n,e){let t=n[e];return t===Oi?void 0:t}function iU(n,e,t,r,i,s){let o=e+t;return io(n,o,i)?F0(n,o+1,s?r.call(s,i):r(i)):Ly(n,o+1)}function TA(n,e,t,r,i,s,o){let a=e+t;return Ry(n,a,i,s)?F0(n,a+2,o?r.call(o,i,s):r(i,s)):Ly(n,a+2)}function sU(n,e,t,r,i,s,o,a){let c=e+t;return xA(n,c,i,s,o)?F0(n,c+3,a?r.call(a,i,s,o):r(i,s,o)):Ly(n,c+3)}function In(n,e){let t=zn(),r,i=n+Hr;t.firstCreatePass?(r=oU(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let s=r.factory||(r.factory=Qa(r.type,!0)),o,a=ti(xe);try{let c=r0(!1),l=s();return r0(c),Z5(t,gt(),i,l),l}finally{ti(a)}}function oU(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function $0(n,e,t){let r=n+Hr,i=gt(),s=w0(i,r);return By(i,r)?iU(i,Ld(),e,s.transform,t,s):s.transform(t)}function Cr(n,e,t,r){let i=n+Hr,s=gt(),o=w0(s,i);return By(s,i)?TA(s,Ld(),e,o.transform,t,r,o):o.transform(t,r)}function Vy(n,e,t,r,i){let s=n+Hr,o=gt(),a=w0(o,s);return By(o,s)?sU(o,Ld(),e,a.transform,t,r,i,a):a.transform(t,r,i)}function By(n,e){return n[mt].data[e].pure}function un(n,e){return P0(n,e)}var so=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},SA=new so("19.2.1"),P1=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},H0=(()=>{class n{compileModuleSync(t){return new S1(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=bD(t),s=Lk(i.declarations).reduce((o,a)=>{let c=Zo(a);return c&&o.push(new kl(c)),o},[]);return new P1(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Ve({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var aU=(()=>{class n{zone=ue(Nt);changeDetectionScheduler=ue(ic);applicationRef=ue(ta);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Ve({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function cU({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new Nt(Ke(me({},lU()),{scheduleInRootZone:t})),[{provide:Nt,useFactory:n},{provide:wl,multi:!0,useFactory:()=>{let r=ue(aU,{optional:!0});return()=>r.initialize()}},{provide:wl,multi:!0,useFactory:()=>{let r=ue(uU);return()=>{r.initialize()}}},e===!0?{provide:gk,useValue:!0}:[],{provide:_k,useValue:t??mk}]}function lU(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var uU=(()=>{class n{subscription=new xn;initialized=!1;zone=ue(Nt);pendingTasks=ue(cc);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Nt.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Nt.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Ve({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var dU=(()=>{class n{appRef=ue(ta);taskService=ue(cc);ngZone=ue(Nt);zonelessEnabled=ue(oy);tracing=ue(Fl,{optional:!0});disableScheduling=ue(gk,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new xn;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(o0):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(ue(_k,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof a1||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?OS:vk;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(o0+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,OS(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Ve({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function fU(){return typeof $localize<"u"&&$localize.locale||m0}var Uy=new je("",{providedIn:"root",factory:()=>ue(Uy,pt.Optional|pt.SkipSelf)||fU()});var O1=new je(""),hU=new je("");function wd(n){return!n.moduleRef}function pU(n){let e=wd(n)?n.r3Injector:n.moduleRef.injector,t=e.get(Nt);return t.run(()=>{wd(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(ro,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:s=>{r.handleError(s)}})}),wd(n)){let s=()=>e.destroy(),o=n.platformInjector.get(O1);o.add(s),e.onDestroy(()=>{i.unsubscribe(),o.delete(s)})}else{let s=()=>n.moduleRef.destroy(),o=n.platformInjector.get(O1);o.add(s),n.moduleRef.onDestroy(()=>{zp(n.allPlatformModules,n.moduleRef),i.unsubscribe(),o.delete(s)})}return gU(r,t,()=>{let s=e.get(wA);return s.runInitializers(),s.donePromise.then(()=>{let o=e.get(Uy,m0);if(X5(o||m0),!e.get(hU,!0))return wd(n)?e.get(ta):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(wd(n)){let c=e.get(ta);return n.rootComponent!==void 0&&c.bootstrap(n.rootComponent),c}else return mU(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function mU(n,e){let t=n.injector.get(ta);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new Ue(-403,!1);e.push(n)}function gU(n,e,t){try{let r=t();return oa(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var Wp=null;function _U(n=[],e){return gn.create({name:e,providers:[{provide:y0,useValue:"platform"},{provide:O1,useValue:new Set([()=>Wp=null])},...n]})}function vU(n=[]){if(Wp)return Wp;let e=_U(n);return Wp=e,w5(),yU(e),e}function yU(n){let e=n.get(uy,null);Er(n,()=>{e?.forEach(t=>t())})}function jy(){return!1}var lo=(()=>{class n{static __NG_ELEMENT_ID__=xU}return n})();function xU(n){return EU(wr(),gt(),(n&16)===16)}function EU(n,e,t){if(Rl(n)&&!t){let r=ws(n.index,e);return new sc(r,r)}else if(n.type&175){let r=e[ys];return new sc(r,e)}return null}var N1=class{constructor(){}supports(e){return yA(e)}create(e){return new F1(e)}},wU=(n,e)=>e,F1=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||wU}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){let o=!r||t&&t.currentIndex<rD(r,i,s)?t:r,a=rD(o,i,s),c=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,o.previousIndex==null)i++;else{s||(s=[]);let l=a-i,u=c-i;if(l!=u){for(let h=0;h<l;h++){let p=h<s.length?s[h]:s[h]=0,y=p+h;u<=y&&y<l&&(s[h]=p+1)}let f=o.previousIndex;s[f]=u-l}}a!==c&&e(o,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!yA(e))throw new Ue(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),t===null||!Object.is(t.trackById,o)?(t=this._mismatch(t,s,o,a),r=!0):(r&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)),t=t._next}else i=0,m5(e,a=>{o=this._trackByFn(i,a),t===null||!Object.is(t.trackById,o)?(t=this._mismatch(t,a,o,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,o,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new L1(t,r),s,i)),e}_verifyReinsertion(e,t,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new g0),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new g0),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},L1=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},V1=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},g0=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new V1,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function rD(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}var B1=class{constructor(){}supports(e){return e instanceof Map||My(e)}create(){return new U1}},U1=class{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let t;for(t=this._mapHead;t!==null;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;t!==null;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;t!==null;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||My(e)))throw new Ue(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{let s=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){let r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){let i=this._records.get(e);this._maybeAddToChanges(i,t);let s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}let r=new j1(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}},j1=class{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(e){this.key=e}};function iD(){return new $y([new N1])}var $y=(()=>{class n{factories;static \u0275prov=Ve({token:n,providedIn:"root",factory:iD});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||iD()),deps:[[n,new xD,new An]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new Ue(901,!1)}}return n})();function sD(){return new Hy([new B1])}var Hy=(()=>{class n{static \u0275prov=Ve({token:n,providedIn:"root",factory:sD});factories;constructor(t){this.factories=t}static create(t,r){if(r){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||sD()),deps:[[n,new xD,new An]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r)return r;throw new Ue(901,!1)}}return n})();function DA(n){$t(8);try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=vU(r),s=[cU({}),{provide:ic,useExisting:dU},...t||[]],o=new h0({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return pU({r3Injector:o.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{$t(9)}}function aa(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function Ni(n){let e=bt(null);try{return n()}finally{bt(e)}}function Bl(n,e){let t=jT(n);return e?.equal&&(t[pi].equal=e.equal),t}var oD=class{[pi];constructor(e){this[pi]=e}destroy(){this[pi].destroy()}};function kA(n){let e=Zo(n);if(!e)return null;let t=new kl(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var NA=null;function fo(){return NA}function FA(n){NA??=n}var z0=class{};var si=new je(""),Qy=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Ve({token:n,factory:()=>ue(CU),providedIn:"platform"})}return n})(),LA=new je(""),CU=(()=>{class n extends Qy{_location;_history;_doc=ue(si);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return fo().getBaseHref(this._doc)}onPopState(t){let r=fo().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=fo().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Ve({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function Zy(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function AA(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function uo(n){return n&&n[0]!=="?"?`?${n}`:n}var ho=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Ve({token:n,factory:()=>ue(Jy),providedIn:"root"})}return n})(),VA=new je(""),Jy=(()=>{class n extends ho{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??ue(si).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Zy(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+uo(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+uo(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+uo(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(Ze(Qy),Ze(VA,8))};static \u0275prov=Ve({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),BA=(()=>{class n extends ho{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=Zy(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+uo(s))||this._platformLocation.pathname;this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+uo(s))||this._platformLocation.pathname;this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(Ze(Qy),Ze(VA,8))};static \u0275prov=Ve({token:n,factory:n.\u0275fac})}return n})(),Ul=(()=>{class n{_subject=new mn;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=TU(AA(MA(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+uo(r))}normalize(t){return n.stripTrailingSlash(IU(this._basePath,MA(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+uo(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+uo(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=uo;static joinWithSlash=Zy;static stripTrailingSlash=AA;static \u0275fac=function(r){return new(r||n)(Ze(ho))};static \u0275prov=Ve({token:n,factory:()=>bU(),providedIn:"root"})}return n})();function bU(){return new Ul(Ze(ho))}function IU(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function MA(n){return n.replace(/\/index.html$/,"")}function TU(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}function UA(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,s]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var zy=/\s+/,RA=[],jA=(()=>{class n{_ngEl;_renderer;initialClasses=RA;rawClass;stateMap=new Map;constructor(t,r){this._ngEl=t,this._renderer=r}set klass(t){this.initialClasses=t!=null?t.trim().split(zy):RA}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(zy):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(zy).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||n)(xe(Xn),xe(ri))};static \u0275dir=Ft({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var Wy=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Rn=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Wy(i.item,this._ngForOf,-1,-1),o===null?void 0:o);else if(o==null)r.remove(s===null?void 0:s);else if(s!==null){let a=r.get(s);r.move(a,o),PA(a,i)}});for(let i=0,s=r.length;i<s;i++){let a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let s=r.get(i.currentIndex);PA(s,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(xe(co),xe(Jo),xe($y))};static \u0275dir=Ft({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function PA(n,e){n.context.$implicit=e.item}var Ht=(()=>{class n{_viewContainer;_context=new qy;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){OA("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){OA("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(xe(co),xe(Jo))};static \u0275dir=Ft({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),qy=class{$implicit=null;ngIf=null};function OA(n,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${yr(e)}'.`)}var Gy=class{_viewContainerRef;_templateRef;_created=!1;constructor(e,t){this._viewContainerRef=e,this._templateRef=t}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}},ex=(()=>{class n{_defaultViews=[];_defaultUsed=!1;_caseCount=0;_lastCaseCheckIndex=0;_lastCasesMatched=!1;_ngSwitch;set ngSwitch(t){this._ngSwitch=t,this._caseCount===0&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews.push(t)}_matchCase(t){let r=t===this._ngSwitch;return this._lastCasesMatched||=r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews.length>0&&t!==this._defaultUsed){this._defaultUsed=t;for(let r of this._defaultViews)r.enforceState(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Ft({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}})}return n})(),$A=(()=>{class n{ngSwitch;_view;ngSwitchCase;constructor(t,r,i){this.ngSwitch=i,i._addCase(),this._view=new Gy(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static \u0275fac=function(r){return new(r||n)(xe(co),xe(Jo),xe(ex,9))};static \u0275dir=Ft({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}})}return n})();var HA=(()=>{class n{_ngEl;_differs;_renderer;_ngStyle=null;_differ=null;constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){let t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){let[i,s]=t.split("."),o=i.indexOf("-")===-1?void 0:bs.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,i,s?`${r}${s}`:r,o):this._renderer.removeStyle(this._ngEl.nativeElement,i,o)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static \u0275fac=function(r){return new(r||n)(xe(Xn),xe(Hy),xe(ri))};static \u0275dir=Ft({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}})}return n})();function tx(n,e){return new Ue(2100,!1)}var Ky=class{createSubscription(e,t){return Ni(()=>e.subscribe({next:t,error:r=>{throw r}}))}dispose(e){Ni(()=>e.unsubscribe())}},Xy=class{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}},SU=new Xy,DU=new Ky,zA=(()=>{class n{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;constructor(t){this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if(oa(t))return SU;if(Oy(t))return DU;throw tx(n,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||n)(xe(lo,16))};static \u0275pipe=Ts({name:"async",type:n,pure:!1})}return n})();var kU=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g,WA=(()=>{class n{transform(t){if(t==null)return null;if(typeof t!="string")throw tx(n,t);return t.replace(kU,r=>r[0].toUpperCase()+r.slice(1).toLowerCase())}static \u0275fac=function(r){return new(r||n)};static \u0275pipe=Ts({name:"titlecase",type:n,pure:!0})}return n})();var jl=(()=>{class n{transform(t,r,i){if(t==null)return null;if(!(typeof t=="string"||Array.isArray(t)))throw tx(n,t);return t.slice(r,i)}static \u0275fac=function(r){return new(r||n)};static \u0275pipe=Ts({name:"slice",type:n,pure:!1})}return n})();var At=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=sa({type:n});static \u0275inj=na({})}return n})(),qA="browser",AU="server";function nx(n){return n===AU}var GA=(()=>{class n{static \u0275prov=Ve({token:n,providedIn:"root",factory:()=>new Yy(ue(si),window)})}return n})(),Yy=class{document;window;offset=()=>[0,0];constructor(e,t){this.document=e,this.window=t}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=MU(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}};function MU(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let s=i.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}var W0=class{};var ix=class extends z0{supportsDOMEvents=!0},sx=class n extends ix{static makeCurrent(){FA(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=RU();return t==null?null:PU(t)}resetBaseElement(){Bd=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return UA(document.cookie,e)}},Bd=null;function RU(){return Bd=Bd||document.querySelector("base"),Bd?Bd.getAttribute("href"):null}function PU(n){return new URL(n,document.baseURI).pathname}var OU=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Ve({token:n,factory:n.\u0275fac})}return n})(),ox=new je(""),JA=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,s){return this._findPluginFor(r).addEventListener(t,r,i,s)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(s=>s.supports(t)),!r)throw new Ue(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(Ze(ox),Ze(Nt))};static \u0275prov=Ve({token:n,factory:n.\u0275fac})}return n})(),G0=class{_doc;constructor(e){this._doc=e}manager},q0="ng-app-id";function KA(n){for(let e of n)e.remove()}function XA(n,e){let t=e.createElement("style");return t.textContent=n,t}function NU(n,e,t,r){let i=n.head?.querySelectorAll(`style[${q0}="${e}"],link[${q0}="${e}"]`);if(i)for(let s of i)s.removeAttribute(q0),s instanceof HTMLLinkElement?r.set(s.href.slice(s.href.lastIndexOf("/")+1),{usage:0,elements:[s]}):s.textContent&&t.set(s.textContent,{usage:0,elements:[s]})}function ax(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var e2=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,r,i,s={}){this.doc=t,this.appId=r,this.nonce=i,this.isServer=nx(s),NU(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,XA);r?.forEach(i=>this.addUsage(i,this.external,ax))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let s=r.get(t);s?s.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(o=>this.addElement(o,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(KA(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])KA(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,XA(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,ax(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(q0,this.appId),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(Ze(si),Ze(ly),Ze(dy,8),Ze(lc))};static \u0275prov=Ve({token:n,factory:n.\u0275fac})}return n})(),rx={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},lx=/%COMP%/g;var t2="%COMP%",FU=`_nghost-${t2}`,LU=`_ngcontent-${t2}`,VU=!0,BU=new je("",{providedIn:"root",factory:()=>VU});function UU(n){return LU.replace(lx,n)}function jU(n){return FU.replace(lx,n)}function n2(n,e){return e.map(t=>t.replace(lx,n))}var YA=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,s,o,a,c,l=null,u=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=c,this.nonce=l,this.tracingService=u,this.platformIsServer=nx(a),this.defaultRenderer=new Ud(t,o,c,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Cs.ShadowDom&&(r=Ke(me({},r),{encapsulation:Cs.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof K0?i.applyToHost(t):i instanceof jd&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,s=i.get(r.id);if(!s){let o=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,f=this.platformIsServer,h=this.tracingService;switch(r.encapsulation){case Cs.Emulated:s=new K0(c,l,r,this.appId,u,o,a,f,h);break;case Cs.ShadowDom:return new cx(c,l,t,r,o,a,this.nonce,f,h);default:s=new jd(c,l,r,u,o,a,f,h);break}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(Ze(JA),Ze(e2),Ze(ly),Ze(BU),Ze(si),Ze(lc),Ze(Nt),Ze(dy),Ze(Fl,8))};static \u0275prov=Ve({token:n,factory:n.\u0275fac})}return n})(),Ud=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,s){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=s}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(rx[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(QA(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(QA(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new Ue(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let s=rx[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=rx[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(bs.DashCase|bs.Important)?e.style.setProperty(t,r,i&bs.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&bs.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=fo().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);let s=this.decoratePreventDefault(r);return this.tracingService!==null&&this.tracingService.wrapEventListener&&(s=this.tracingService.wrapEventListener(e,t,s)),this.eventManager.addEventListener(e,t,s,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function QA(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var cx=class extends Ud{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,s,o,a,c,l){super(e,s,o,c,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=i.styles;u=n2(i.id,u);for(let h of u){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}let f=i.getExternalStyles?.();if(f)for(let h of f){let p=ax(h,s);a&&p.setAttribute("nonce",a),this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},jd=class extends Ud{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,s,o,a,c,l){super(e,s,o,a,c),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let u=r.styles;this.styles=l?n2(l,u):u,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},K0=class extends jd{contentAttr;hostAttr;constructor(e,t,r,i,s,o,a,c,l){let u=i+"-"+r.id;super(e,t,r,s,o,a,c,l,u),this.contentAttr=UU(u),this.hostAttr=jU(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}},$U=(()=>{class n extends G0{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,s){return t.addEventListener(r,i,s),()=>this.removeEventListener(t,r,i,s)}removeEventListener(t,r,i,s){return t.removeEventListener(r,i,s)}static \u0275fac=function(r){return new(r||n)(Ze(si))};static \u0275prov=Ve({token:n,factory:n.\u0275fac})}return n})(),ZA=["alt","control","meta","shift"],HU={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},zU={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},WU=(()=>{class n extends G0{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,s){let o=n.parseEventName(r),a=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>fo().onAndCancel(t,o.domEventName,a,s))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let s=n._normalizeKey(r.pop()),o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),ZA.forEach(l=>{let u=r.indexOf(l);u>-1&&(r.splice(u,1),o+=l+".")}),o+=s,r.length!=0||s.length===0)return null;let c={};return c.domEventName=i,c.fullKey=o,c}static matchEventFullKeyCode(t,r){let i=HU[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),ZA.forEach(o=>{if(o!==i){let a=zU[o];a(t)&&(s+=o+".")}}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(Ze(si))};static \u0275prov=Ve({token:n,factory:n.\u0275fac})}return n})();function r2(n,e){return DA(me({rootComponent:n},qU(e)))}function qU(n){return{appProviders:[...QU,...n?.providers??[]],platformProviders:YU}}function GU(){sx.makeCurrent()}function KU(){return new ro}function XU(){return Dk(document),document}var YU=[{provide:lc,useValue:qA},{provide:uy,useValue:GU,multi:!0},{provide:si,useFactory:XU,deps:[]}];var QU=[{provide:y0,useValue:"root"},{provide:ro,useFactory:KU,deps:[]},{provide:ox,useClass:$U,multi:!0,deps:[si]},{provide:ox,useClass:WU,multi:!0,deps:[si]},YA,e2,JA,{provide:Dl,useExisting:YA},{provide:W0,useClass:OU,deps:[]},[]];var i2=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(Ze(si))};static \u0275prov=Ve({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var s2=()=>{};var a2=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},JU=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=n[t++],o=n[t++],a=n[t++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let s=n[t++],o=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},X0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let s=n[i],o=i+1<n.length,a=o?n[i+1]:0,c=i+2<n.length,l=c?n[i+2]:0,u=s>>2,f=(s&3)<<4|a>>4,h=(a&15)<<2|l>>6,p=l&63;c||(p=64,o||(h=64)),r.push(t[u],t[f],t[h],t[p])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(a2(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):JU(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let f=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||a==null||l==null||f==null)throw new dx;let h=s<<2|a>>4;if(r.push(h),l!==64){let p=a<<4&240|l>>2;if(r.push(p),f!==64){let y=l<<6&192|f;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},dx=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},e9=function(n){let e=a2(n);return X0.encodeByteArray(e,!0)},$d=function(n){return e9(n).replace(/\./g,"")},Y0=function(n){try{return X0.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function c2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var t9=()=>c2().__FIREBASE_DEFAULTS__,n9=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},r9=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Y0(n[1]);return e&&JSON.parse(e)},Q0=()=>{try{return s2()||t9()||n9()||r9()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},hx=n=>{var e,t;return(t=(e=Q0())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},Z0=n=>{let e=hx(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},px=()=>{var n;return(n=Q0())===null||n===void 0?void 0:n.config},mx=n=>{var e;return(e=Q0())===null||e===void 0?void 0:e[`_${n}`]};var dc=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function J0(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[$d(JSON.stringify(t)),$d(JSON.stringify(o)),""].join(".")}function Yn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function l2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Yn())}function i9(){var n;let e=(n=Q0())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function u2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function d2(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function f2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function h2(){let n=Yn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function p2(){return!i9()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Hd(){try{return typeof indexedDB=="object"}catch{return!1}}function m2(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}var s9="FirebaseError",Wr=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=s9,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ns.prototype.create)}},ns=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?o9(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Wr(i,a,r)}};function o9(n,e){return n.replace(a9,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var a9=/\{\$([^}]+)}/g;function g2(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Fi(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let s=n[i],o=e[i];if(o2(s)&&o2(o)){if(!Fi(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function o2(n){return n!==null&&typeof n=="object"}function zd(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function $l(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Hl(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function _2(n,e){let t=new fx(n,e);return t.subscribe.bind(t)}var fx=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");c9(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=ux),i.error===void 0&&(i.error=ux),i.complete===void 0&&(i.complete=ux);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function c9(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function ux(){}var n0e=4*60*60*1e3;function zt(n){return n&&n._delegate?n._delegate:n}var lr=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var fc="[DEFAULT]";var gx=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new dc;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(u9(e))try{this.getOrInitializeService({instanceIdentifier:fc})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=fc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return B(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=fc){return this.instances.has(e)}getOptions(e=fc){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:l9(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=fc){return this.component?this.component.multipleInstances?e:fc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function l9(n){return n===fc?void 0:n}function u9(n){return n.instantiationMode==="EAGER"}var em=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new gx(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var d9=[],yt=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(yt||{}),f9={debug:yt.DEBUG,verbose:yt.VERBOSE,info:yt.INFO,warn:yt.WARN,error:yt.ERROR,silent:yt.SILENT},h9=yt.INFO,p9={[yt.DEBUG]:"log",[yt.VERBOSE]:"log",[yt.INFO]:"info",[yt.WARN]:"warn",[yt.ERROR]:"error"},m9=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=p9[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Ss=class{constructor(e){this.name=e,this._logLevel=h9,this._logHandler=m9,this._userLogHandler=null,d9.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in yt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?f9[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,yt.DEBUG,...e),this._logHandler(this,yt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,yt.VERBOSE,...e),this._logHandler(this,yt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,yt.INFO,...e),this._logHandler(this,yt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,yt.WARN,...e),this._logHandler(this,yt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,yt.ERROR,...e),this._logHandler(this,yt.ERROR,...e)}};var g9=(n,e)=>e.some(t=>n instanceof t),v2,y2;function _9(){return v2||(v2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function v9(){return y2||(y2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var x2=new WeakMap,vx=new WeakMap,E2=new WeakMap,_x=new WeakMap,xx=new WeakMap;function y9(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(Ds(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&x2.set(t,n)}).catch(()=>{}),xx.set(e,n),e}function x9(n){if(vx.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});vx.set(n,e)}var yx={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return vx.get(n);if(e==="objectStoreNames")return n.objectStoreNames||E2.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ds(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function w2(n){yx=n(yx)}function E9(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(tm(this),e,...t);return E2.set(r,e.sort?e.sort():[e]),Ds(r)}:v9().includes(n)?function(...e){return n.apply(tm(this),e),Ds(x2.get(this))}:function(...e){return Ds(n.apply(tm(this),e))}}function w9(n){return typeof n=="function"?E9(n):(n instanceof IDBTransaction&&x9(n),g9(n,_9())?new Proxy(n,yx):n)}function Ds(n){if(n instanceof IDBRequest)return y9(n);if(_x.has(n))return _x.get(n);let e=w9(n);return e!==n&&(_x.set(n,e),xx.set(e,n)),e}var tm=n=>xx.get(n);function b2(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(n,e),a=Ds(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Ds(o.result),c.oldVersion,c.newVersion,Ds(o.transaction),c)}),t&&o.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var C9=["get","getKey","getAll","getAllKeys","count"],b9=["put","add","delete","clear"],Ex=new Map;function C2(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Ex.get(e))return Ex.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=b9.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||C9.includes(t)))return;let s=function(o,...a){return B(this,null,function*(){let c=this.transaction(o,i?"readwrite":"readonly"),l=c.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[t](...a),i&&c.done]))[0]})};return Ex.set(e,s),s}w2(n=>Ke(me({},n),{get:(e,t,r)=>C2(e,t)||n.get(e,t,r),has:(e,t)=>!!C2(e,t)||n.has(e,t)}));var Cx=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(I9(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function I9(n){let e=n.getComponent();return e?.type==="VERSION"}var bx="@firebase/app",I2="0.11.2";var po=new Ss("@firebase/app"),T9="@firebase/app-compat",S9="@firebase/analytics-compat",D9="@firebase/analytics",k9="@firebase/app-check-compat",A9="@firebase/app-check",M9="@firebase/auth",R9="@firebase/auth-compat",P9="@firebase/database",O9="@firebase/data-connect",N9="@firebase/database-compat",F9="@firebase/functions",L9="@firebase/functions-compat",V9="@firebase/installations",B9="@firebase/installations-compat",U9="@firebase/messaging",j9="@firebase/messaging-compat",$9="@firebase/performance",H9="@firebase/performance-compat",z9="@firebase/remote-config",W9="@firebase/remote-config-compat",q9="@firebase/storage",G9="@firebase/storage-compat",K9="@firebase/firestore",X9="@firebase/vertexai",Y9="@firebase/firestore-compat",Q9="firebase",Z9="11.4.0";var Ix="[DEFAULT]",J9={[bx]:"fire-core",[T9]:"fire-core-compat",[D9]:"fire-analytics",[S9]:"fire-analytics-compat",[A9]:"fire-app-check",[k9]:"fire-app-check-compat",[M9]:"fire-auth",[R9]:"fire-auth-compat",[P9]:"fire-rtdb",[O9]:"fire-data-connect",[N9]:"fire-rtdb-compat",[F9]:"fire-fn",[L9]:"fire-fn-compat",[V9]:"fire-iid",[B9]:"fire-iid-compat",[U9]:"fire-fcm",[j9]:"fire-fcm-compat",[$9]:"fire-perf",[H9]:"fire-perf-compat",[z9]:"fire-rc",[W9]:"fire-rc-compat",[q9]:"fire-gcs",[G9]:"fire-gcs-compat",[K9]:"fire-fst",[Y9]:"fire-fst-compat",[X9]:"fire-vertex","fire-js":"fire-js",[Q9]:"fire-js-all"};var Wd=new Map,ej=new Map,Tx=new Map;function T2(n,e){try{n.container.addComponent(e)}catch(t){po.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function yi(n){let e=n.name;if(Tx.has(e))return po.debug(`There were multiple attempts to register component ${e}.`),!1;Tx.set(e,n);for(let t of Wd.values())T2(t,n);for(let t of ej.values())T2(t,n);return!0}function la(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Ir(n){return n==null?!1:n.settings!==void 0}var tj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ca=new ns("app","Firebase",tj);var Sx=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new lr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ca.create("app-deleted",{appName:this._name})}};var ks=Z9;function Ax(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Ix,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ca.create("bad-app-name",{appName:String(i)});if(t||(t=px()),!t)throw ca.create("no-options");let s=Wd.get(i);if(s){if(Fi(t,s.options)&&Fi(r,s.config))return s;throw ca.create("duplicate-app",{appName:i})}let o=new em(i);for(let c of Tx.values())o.addComponent(c);let a=new Sx(t,r,o);return Wd.set(i,a),a}function mo(n=Ix){let e=Wd.get(n);if(!e&&n===Ix&&px())return Ax();if(!e)throw ca.create("no-app",{appName:n});return e}function nm(){return Array.from(Wd.values())}function Xt(n,e,t){var r;let i=(r=J9[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),po.warn(a.join(" "));return}yi(new lr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var nj="firebase-heartbeat-database",rj=1,qd="firebase-heartbeat-store",wx=null;function A2(){return wx||(wx=b2(nj,rj,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(qd)}catch(t){console.warn(t)}}}}).catch(n=>{throw ca.create("idb-open",{originalErrorMessage:n.message})})),wx}function ij(n){return B(this,null,function*(){try{let t=(yield A2()).transaction(qd),r=yield t.objectStore(qd).get(M2(n));return yield t.done,r}catch(e){if(e instanceof Wr)po.warn(e.message);else{let t=ca.create("idb-get",{originalErrorMessage:e?.message});po.warn(t.message)}}})}function S2(n,e){return B(this,null,function*(){try{let r=(yield A2()).transaction(qd,"readwrite");yield r.objectStore(qd).put(e,M2(n)),yield r.done}catch(t){if(t instanceof Wr)po.warn(t.message);else{let r=ca.create("idb-set",{originalErrorMessage:t?.message});po.warn(r.message)}}})}function M2(n){return`${n.name}!${n.options.appId}`}var sj=1024,oj=30,Dx=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new kx(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return B(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=D2();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>oj){let o=cj(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){po.warn(r)}})}getHeartbeatsHeader(){return B(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=D2(),{heartbeatsToSend:r,unsentEntries:i}=aj(this._heartbeatsCache.heartbeats),s=$d(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return po.warn(t),""}})}};function D2(){return new Date().toISOString().substring(0,10)}function aj(n,e=sj){let t=[],r=n.slice();for(let i of n){let s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),k2(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),k2(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var kx=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return B(this,null,function*(){return Hd()?m2().then(()=>!0).catch(()=>!1):!1})}read(){return B(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield ij(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return B(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return S2(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return B(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return S2(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function k2(n){return $d(JSON.stringify({version:2,heartbeats:n})).length}function cj(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function lj(n){yi(new lr("platform-logger",e=>new Cx(e),"PRIVATE")),yi(new lr("heartbeat",e=>new Dx(e),"PRIVATE")),Xt(bx,I2,n),Xt(bx,I2,"esm2017"),Xt("fire-js","")}lj("");var uj="firebase",dj="11.4.0";Xt(uj,dj,"app");function Mx(n){n===void 0&&(G1(Mx),n=ue(gn));let e=n.get(S0);return t=>new lt(r=>{let i=e.add(),s=!1;function o(){s||(i(),s=!0)}let a=t.subscribe({next:c=>{r.next(c),o()},complete:()=>{r.complete(),o()},error:c=>{r.error(c),o()}});return a.add(()=>{r.unsubscribe(),o()}),a})}var As=new so("ANGULARFIRE2_VERSION");function pc(n,e,t){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===t);if(s.length===1)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var ua=(n,e)=>{let t=e?[e]:nm(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},zl=function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n}(zl||{}),R2=jy()&&typeof Zone<"u"?zl.WARN:zl.SILENT;var rm=class{zone;delegate;constructor(e,t=bv){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,s=function(o){i?i.runGuarded(()=>{e.apply(this,[o])}):e.apply(this,[o])};return this.delegate.schedule(s,t,r)}},Ms=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=ue(Nt);this.outsideAngular=t.runOutsideAngular(()=>new rm(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new rm(typeof Zone>"u"?void 0:Zone.current,Cv))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Ve({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),P2=!1;function fj(n,e){!P2&&(R2>zl.SILENT||jy())&&(P2=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),R2>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function hj(n){let e=ue(Nt,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function hc(n){let e=ue(Nt,{optional:!0});return e?e.run(()=>n()):n()}var pj=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),Er(t,()=>hc(()=>n.apply(void 0,r)))),sn=(n,e,t)=>(t||=e?zl.WARN:zl.VERBOSE,function(){let r,i=arguments,s,o,a;try{s=ue(Ms),o=ue(S0),a=ue($r)}catch{return fj(n,t),n.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=hc(()=>o.add())),i[l]=pj(i[l],r,a));let c=hj(()=>n.apply(this,i));return e?c instanceof lt?c.pipe(Wo(s.outsideAngular),zo(s.insideAngular),Mx(a)):c instanceof Promise?hc(()=>new Promise((l,u)=>{o.run(()=>c).then(f=>Er(a,()=>hc(()=>l(f))),f=>Er(a,()=>hc(()=>u(f))))})):typeof c=="function"&&r?function(){return setTimeout(r,0),c.apply(this,arguments)}:hc(()=>c):c instanceof lt?c.pipe(Wo(s.outsideAngular),zo(s.insideAngular)):hc(()=>c)});var rs=class{constructor(e){return e}},go=class{constructor(){return nm()}};function mj(n){return n&&n.length===1?n[0]:new rs(mo())}var Rx=new je("angularfire2._apps"),gj={provide:rs,useFactory:mj,deps:[[new An,Rx]]},_j={provide:go,deps:[[new An,Rx]]};function vj(n){return(e,t)=>{let r=t.get(lc);Xt("angularfire",As.full,"core"),Xt("angularfire",As.full,"app"),Xt("angular",SA.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new rs(i)}}function O2(n,...e){return Ji([gj,_j,{provide:Rx,useFactory:vj(n),multi:!0,deps:[Nt,gn,Ms,...e]}])}var N2=sn(Ax,!0);var yj=new Map,xj={activated:!1,tokenObservers:[]},Ej={initialized:!1,enabled:!1};function is(n){return yj.get(n)||Object.assign({},xj)}function B2(){return Ej}var wj="https://content-firebaseappcheck.googleapis.com/v1";var Cj="exchangeDebugToken",F2={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},ame=24*60*60*1e3;var Nx=class{constructor(e,t,r,i,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return B(this,null,function*(){this.stop();try{this.pending=new dc,this.pending.promise.catch(t=>{}),yield bj(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new dc,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function bj(n){return new Promise(e=>{setTimeout(e,n)})}var Ij={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},da=new ns("appCheck","AppCheck",Ij);function U2(n){if(!is(n).activated)throw da.create("use-before-activation",{appName:n.name})}function j2(r,i){return B(this,arguments,function*({url:n,body:e},t){let s={"Content-Type":"application/json"},o=t.getImmediate({optional:!0});if(o){let p=yield o.getHeartbeatsHeader();p&&(s["X-Firebase-Client"]=p)}let a={method:"POST",body:JSON.stringify(e),headers:s},c;try{c=yield fetch(n,a)}catch(p){throw da.create("fetch-network-error",{originalErrorMessage:p?.message})}if(c.status!==200)throw da.create("fetch-status-error",{httpStatus:c.status});let l;try{l=yield c.json()}catch(p){throw da.create("fetch-parse-error",{originalErrorMessage:p?.message})}let u=l.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw da.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let f=Number(u[1])*1e3,h=Date.now();return{token:l.token,expireTimeMillis:h+f,issuedAtTimeMillis:h}})}function $2(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${wj}/projects/${t}/apps/${r}:${Cj}?key=${i}`,body:{debug_token:e}}}var Tj="firebase-app-check-database",Sj=1,Fx="firebase-app-check-store";var im=null;function Dj(){return im||(im=new Promise((n,e)=>{try{let t=indexedDB.open(Tj,Sj);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(da.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Fx,{keyPath:"compositeKey"})}}}catch(t){e(da.create("storage-open",{originalErrorMessage:t?.message}))}}),im)}function kj(n,e){return Aj(Mj(n),e)}function Aj(n,e){return B(this,null,function*(){let r=(yield Dj()).transaction(Fx,"readwrite"),s=r.objectStore(Fx).put({compositeKey:n,value:e});return new Promise((o,a)=>{s.onsuccess=c=>{o()},r.onerror=c=>{var l;a(da.create("storage-set",{originalErrorMessage:(l=c.target.error)===null||l===void 0?void 0:l.message}))}})})}function Mj(n){return`${n.options.appId}-${n.name}`}var Gd=new Ss("@firebase/app-check");function Px(n,e){return Hd()?kj(n,e).catch(t=>{Gd.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function H2(){return B2().enabled}function z2(){return B(this,null,function*(){let n=B2();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var Rj={error:"UNKNOWN_ERROR"};function Pj(n){return X0.encodeString(JSON.stringify(n),!1)}function Lx(n,e=!1){return B(this,null,function*(){let t=n.app;U2(t);let r=is(t),i=r.token,s;if(i&&!Kd(i)&&(r.token=void 0,i=void 0),!i){let c=yield r.cachedTokenPromise;c&&(Kd(c)?i=c:yield Px(t,void 0))}if(!e&&i&&Kd(i))return{token:i.token};let o=!1;if(H2())try{r.exchangeTokenPromise||(r.exchangeTokenPromise=j2($2(t,yield z2()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);let c=yield r.exchangeTokenPromise;return yield Px(t,c),r.token=c,{token:c.token}}catch(c){return c.code==="appCheck/throttled"?Gd.warn(c.message):Gd.error(c),Ox(c)}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield is(t).exchangeTokenPromise}catch(c){c.code==="appCheck/throttled"?Gd.warn(c.message):Gd.error(c),s=c}let a;return i?s?Kd(i)?a={token:i.token,internalError:s}:a=Ox(s):(a={token:i.token},r.token=i,yield Px(t,i)):a=Ox(s),o&&Lj(t,a),a})}function Oj(n){return B(this,null,function*(){let e=n.app;U2(e);let{provider:t}=is(e);if(H2()){let r=yield z2(),{token:i}=yield j2($2(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function Nj(n,e,t,r){let{app:i}=n,s=is(i),o={next:t,error:r,type:e};if(s.tokenObservers=[...s.tokenObservers,o],s.token&&Kd(s.token)){let a=s.token;Promise.resolve().then(()=>{t({token:a.token}),L2(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>L2(n))}function W2(n,e){let t=is(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function L2(n){let{app:e}=n,t=is(e),r=t.tokenRefresher;r||(r=Fj(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function Fj(n){let{app:e}=n;return new Nx(()=>B(this,null,function*(){let t=is(e),r;if(t.token?r=yield Lx(n,!0):r=yield Lx(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=is(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},F2.RETRIAL_MIN_WAIT,F2.RETRIAL_MAX_WAIT)}function Lj(n,e){let t=is(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Kd(n){return n.expireTimeMillis-Date.now()>0}function Ox(n){return{token:Pj(Rj),error:n}}var Vx=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=is(this.app);for(let t of e)W2(this.app,t.next);return Promise.resolve()}};function Vj(n,e){return new Vx(n,e)}function Bj(n){return{getToken:e=>Lx(n,e),getLimitedUseToken:()=>Oj(n),addTokenListener:e=>Nj(n,"INTERNAL",e),removeTokenListener:e=>W2(n.app,e)}}var Uj="@firebase/app-check",jj="0.8.12";var $j="app-check",V2="app-check-internal";function Hj(){yi(new lr($j,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return Vj(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(V2).initialize()})),yi(new lr(V2,n=>{let e=n.getProvider("app-check").getImmediate();return Bj(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Xt(Uj,jj)}Hj();var zj="app-check";var fa=class{constructor(){return ua(zj)}};var Wj=["localhost","0.0.0.0","127.0.0.1"],xme=typeof window<"u"&&Wj.includes(window.location.hostname);function aM(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var cM=aM,lM=new ns("auth","Firebase",aM());var um=new Ss("@firebase/auth");function qj(n,...e){um.logLevel<=yt.WARN&&um.warn(`Auth (${ks}): ${n}`,...e)}function om(n,...e){um.logLevel<=yt.ERROR&&um.error(`Auth (${ks}): ${n}`,...e)}function Ps(n,...e){throw lE(n,...e)}function mc(n,...e){return lE(n,...e)}function uM(n,e,t){let r=Object.assign(Object.assign({},cM()),{[e]:t});return new ns("auth","Firebase",r).create(e,{appName:n.name})}function yo(n){return uM(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function lE(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return lM.create(n,...e)}function Ye(n,e,...t){if(!n)throw lE(e,...t)}function _o(n){let e="INTERNAL ASSERTION FAILED: "+n;throw om(e),new Error(e)}function pa(n,e){n||_o(e)}function $x(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function Gj(){return q2()==="http:"||q2()==="https:"}function q2(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function Kj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Gj()||d2()||"connection"in navigator)?navigator.onLine:!0}function Xj(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var gc=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,pa(t>e,"Short delay should be less than long delay!"),this.isMobile=l2()||f2()}get(){return Kj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function uE(n,e){pa(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var dm=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;_o("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;_o("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;_o("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var Yj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var Qj=new gc(3e4,6e4);function ma(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function xo(s,o,a,c){return B(this,arguments,function*(n,e,t,r,i={}){return dM(n,i,()=>B(this,null,function*(){let l={},u={};r&&(e==="GET"?u=r:l={body:JSON.stringify(r)});let f=zd(Object.assign({key:n.config.apiKey},u)).slice(1),h=yield n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);let p=Object.assign({method:e,headers:h},l);return u2()||(p.referrerPolicy="no-referrer"),dm.fetch()(fM(n,n.config.apiHost,t,f),p)}))})}function dM(n,e,t){return B(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},Yj),e);try{let i=new Hx(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw sm(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw sm(n,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw sm(n,"email-already-in-use",o);if(c==="USER_DISABLED")throw sm(n,"user-disabled",o);let u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw uM(n,u,l);Ps(n,u)}}catch(i){if(i instanceof Wr)throw i;Ps(n,"network-request-failed",{message:String(i)})}})}function nf(s,o,a,c){return B(this,arguments,function*(n,e,t,r,i={}){let l=yield xo(n,e,t,r,i);return"mfaPendingCredential"in l&&Ps(n,"multi-factor-auth-required",{_serverResponse:l}),l})}function fM(n,e,t,r){let i=`${e}${t}?${r}`;return n.config.emulator?uE(n.config,i):`${n.config.apiScheme}://${i}`}function Zj(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Hx=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(mc(this.auth,"network-request-failed")),Qj.get())})}};function sm(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=mc(n,e,r);return i.customData._tokenResponse=t,i}function G2(n){return n!==void 0&&n.enterprise!==void 0}var zx=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Zj(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function Jj(n,e){return B(this,null,function*(){return xo(n,"GET","/v2/recaptchaConfig",ma(n,e))})}function e7(n,e){return B(this,null,function*(){return xo(n,"POST","/v1/accounts:delete",e)})}function hM(n,e){return B(this,null,function*(){return xo(n,"POST","/v1/accounts:lookup",e)})}function Yd(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function dE(n,e=!1){return B(this,null,function*(){let t=zt(n),r=yield t.getIdToken(e),i=fE(r);Ye(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Yd(Bx(i.auth_time)),issuedAtTime:Yd(Bx(i.iat)),expirationTime:Yd(Bx(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function Bx(n){return Number(n)*1e3}function fE(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return om("JWT malformed, contained fewer than 3 sections"),null;try{let i=Y0(t);return i?JSON.parse(i):(om("Failed to decode base64 JWT payload"),null)}catch(i){return om("Caught error parsing JWT payload as JSON",i?.toString()),null}}function K2(n){let e=fE(n);return Ye(e,"internal-error"),Ye(typeof e.exp<"u","internal-error"),Ye(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Wl(n,e,t=!1){return B(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof Wr&&t7(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function t7({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var Wx=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>B(this,null,function*(){yield this.iteration()}),t)}iteration(){return B(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Zd=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yd(this.lastLoginAt),this.creationTime=Yd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function fm(n){return B(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield Wl(n,hM(t,{idToken:r}));Ye(i?.users.length,t,"internal-error");let s=i.users[0];n._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?pM(s.providerUserInfo):[],a=n7(n.providerData,o),c=n.isAnonymous,l=!(n.email&&s.passwordHash)&&!a?.length,u=c?l:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Zd(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(n,f)})}function hE(n){return B(this,null,function*(){let e=zt(n);yield fm(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function n7(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function pM(n){return n.map(e=>{var{providerId:t}=e,r=Iv(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function r7(n,e){return B(this,null,function*(){let t=yield dM(n,{},()=>B(this,null,function*(){let r=zd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=fM(n,i,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",dm.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function i7(n,e){return B(this,null,function*(){return xo(n,"POST","/v2/accounts:revokeToken",ma(n,e))})}var Qd=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ye(e.idToken,"internal-error"),Ye(typeof e.idToken<"u","internal-error"),Ye(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):K2(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ye(e.length!==0,"internal-error");let t=K2(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return B(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ye(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return B(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield r7(e,t);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new n;return r&&(Ye(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Ye(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Ye(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return _o("not implemented")}};function ha(n,e){Ye(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var ql=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=Iv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Wx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Zd(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return B(this,null,function*(){let t=yield Wl(this,this.stsTokenManager.getToken(this.auth,e));return Ye(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return dE(this,e)}reload(){return hE(this)}_assign(e){this!==e&&(Ye(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return B(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield fm(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return B(this,null,function*(){if(Ir(this.auth.app))return Promise.reject(yo(this.auth));let e=yield this.getIdToken();return yield Wl(this,e7(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,c,l,u;let f=(r=t.displayName)!==null&&r!==void 0?r:void 0,h=(i=t.email)!==null&&i!==void 0?i:void 0,p=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,y=(o=t.photoURL)!==null&&o!==void 0?o:void 0,v=(a=t.tenantId)!==null&&a!==void 0?a:void 0,w=(c=t._redirectEventId)!==null&&c!==void 0?c:void 0,F=(l=t.createdAt)!==null&&l!==void 0?l:void 0,V=(u=t.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:k,emailVerified:X,isAnonymous:se,providerData:G,stsTokenManager:b}=t;Ye(k&&b,e,"internal-error");let I=Qd.fromJSON(this.name,b);Ye(typeof k=="string",e,"internal-error"),ha(f,e.name),ha(h,e.name),Ye(typeof X=="boolean",e,"internal-error"),Ye(typeof se=="boolean",e,"internal-error"),ha(p,e.name),ha(y,e.name),ha(v,e.name),ha(w,e.name),ha(F,e.name),ha(V,e.name);let T=new n({uid:k,auth:e,email:h,emailVerified:X,displayName:f,isAnonymous:se,photoURL:y,phoneNumber:p,tenantId:v,stsTokenManager:I,createdAt:F,lastLoginAt:V});return G&&Array.isArray(G)&&(T.providerData=G.map(R=>Object.assign({},R))),w&&(T._redirectEventId=w),T}static _fromIdTokenResponse(e,t,r=!1){return B(this,null,function*(){let i=new Qd;i.updateFromServerResponse(t);let s=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield fm(s),s})}static _fromGetAccountInfoResponse(e,t,r){return B(this,null,function*(){let i=t.users[0];Ye(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?pM(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new Qd;a.updateFromIdToken(r);let c=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Zd(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(c,l),c})}};var X2=new Map;function vo(n){pa(n instanceof Function,"Expected a class definition");let e=X2.get(n);return e?(pa(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,X2.set(n,e),e)}var s7=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return B(this,null,function*(){return!0})}_set(t,r){return B(this,null,function*(){this.storage[t]=r})}_get(t){return B(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return B(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),qx=s7;function am(n,e,t){return`firebase:${n}:${e}:${t}`}var hm=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=am(this.userKey,i.apiKey,s),this.fullPersistenceKey=am("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return B(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?ql._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return B(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return B(this,null,function*(){if(!t.length)return new n(vo(qx),e,r);let i=(yield Promise.all(t.map(l=>B(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),s=i[0]||vo(qx),o=am(r,e.config.apiKey,e.name),a=null;for(let l of t)try{let u=yield l._get(o);if(u){let f=ql._fromJSON(e,u);l!==s&&(a=f),s=l;break}}catch{}let c=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new n(s,e,r):(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(l=>B(this,null,function*(){if(l!==s)try{yield l._remove(o)}catch{}}))),new n(s,e,r))})}};function Y2(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(vM(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(mM(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(xM(e))return"Blackberry";if(EM(e))return"Webos";if(gM(e))return"Safari";if((e.includes("chrome/")||_M(e))&&!e.includes("edge/"))return"Chrome";if(yM(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function mM(n=Yn()){return/firefox\//i.test(n)}function gM(n=Yn()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _M(n=Yn()){return/crios\//i.test(n)}function vM(n=Yn()){return/iemobile/i.test(n)}function yM(n=Yn()){return/android/i.test(n)}function xM(n=Yn()){return/blackberry/i.test(n)}function EM(n=Yn()){return/webos/i.test(n)}function pE(n=Yn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function o7(n=Yn()){var e;return pE(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function a7(){return h2()&&document.documentMode===10}function wM(n=Yn()){return pE(n)||yM(n)||EM(n)||xM(n)||/windows phone/i.test(n)||vM(n)}function CM(n,e=[]){let t;switch(n){case"Browser":t=Y2(Yn());break;case"Worker":t=`${Y2(Yn())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ks}/${r}`}var Gx=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=s=>new Promise((o,a)=>{try{let c=e(s);o(c)}catch(c){a(c)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return B(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function c7(t){return B(this,arguments,function*(n,e={}){return xo(n,"GET","/v2/passwordPolicy",ma(n,e))})}var l7=6,Kx=class{constructor(e){var t,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:l7,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,o,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(t=c.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var Xx=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new pm(this),this.idTokenSubscription=new pm(this),this.beforeStateQueue=new Gx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lM,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=vo(t)),this._initializationPromise=this.queue(()=>B(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield hm.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return B(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return B(this,null,function*(){try{let t=yield hM(this,{idToken:e}),r=yield ql._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return B(this,null,function*(){var t;if(Ir(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!o||o===a)&&c?.user&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ye(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return B(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return B(this,null,function*(){try{yield fm(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=Xj()}_delete(){return B(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return B(this,null,function*(){if(Ir(this.app))return Promise.reject(yo(this));let t=e?zt(e):null;return t&&Ye(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return B(this,null,function*(){if(!this._deleted)return e&&Ye(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>B(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return B(this,null,function*(){return Ir(this.app)?Promise.reject(yo(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Ir(this.app)?Promise.reject(yo(this)):this.queue(()=>B(this,null,function*(){yield this.assertedPersistence.setPersistence(vo(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return B(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return B(this,null,function*(){let e=yield c7(this),t=new Kx(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ns("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return B(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield i7(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return B(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return B(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&vo(e)||this._popupRedirectResolver;Ye(t,this,"argument-error"),this.redirectPersistenceManager=yield hm.create(this,[vo(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return B(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>B(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return B(this,null,function*(){if(e===this.currentUser)return this.queue(()=>B(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let s=typeof t=="function"?t:t.next.bind(t),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ye(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof t=="function"){let c=e.addObserver(t,r,i);return()=>{o=!0,c()}}else{let c=e.addObserver(t);return()=>{o=!0,c()}}}directlySetCurrentUser(e){return B(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=CM(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return B(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return B(this,null,function*(){var e;if(Ir(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&qj(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function vc(n){return zt(n)}var pm=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=_2(t=>this.observer=t)}get next(){return Ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Em={loadJS(){return B(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function u7(n){Em=n}function bM(n){return Em.loadJS(n)}function d7(){return Em.recaptchaEnterpriseScript}function f7(){return Em.gapiScript}function IM(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var Yx=class{constructor(){this.enterprise=new Qx}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},Qx=class{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}};var h7="recaptcha-enterprise",TM="NO_RECAPTCHA",Zx=class{constructor(e){this.type=h7,this.auth=vc(e)}verify(e="verify",t=!1){return B(this,null,function*(){function r(s){return B(this,null,function*(){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>B(this,null,function*(){Jj(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new zx(c);return s.tenantId==null?s._agentRecaptchaConfig=l:s._tenantRecaptchaConfigs[s.tenantId]=l,o(l.siteKey)}}).catch(c=>{a(c)})}))})}function i(s,o,a){let c=window.grecaptcha;G2(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(l=>{o(l)}).catch(()=>{o(TM)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Yx().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!t&&G2(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=d7();c.length!==0&&(c+=a),bM(c).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})})}};function Xd(n,e,t,r=!1,i=!1){return B(this,null,function*(){let s=new Zx(n),o;if(i)o=TM;else try{o=yield s.verify(t)}catch{o=yield s.verify(t,!0)}let a=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let c=a.phoneEnrollmentInfo.phoneNumber,l=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function Jx(n,e,t,r,i){return B(this,null,function*(){var s,o;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=yield Xd(n,e,t,t==="getOobCode");return r(n,a)}else return r(n,e).catch(a=>B(this,null,function*(){if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let c=yield Xd(n,e,t,t==="getOobCode");return r(n,c)}else return Promise.reject(a)}));else if(i==="PHONE_PROVIDER")if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("PHONE_PROVIDER")){let a=yield Xd(n,e,t);return r(n,a).catch(c=>B(this,null,function*(){var l;if(((l=n._getRecaptchaConfig())===null||l===void 0?void 0:l.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(c.code==="auth/missing-recaptcha-token"||c.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);let u=yield Xd(n,e,t,!1,!0);return r(n,u)}return Promise.reject(c)}))}else{let a=yield Xd(n,e,t,!1,!0);return r(n,a)}else return Promise.reject(i+" provider is not supported.")})}function mE(n,e){let t=la(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),s=t.getOptions();if(Fi(s,e??{}))return i;Ps(i,"already-initialized")}return t.initialize({options:e})}function p7(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(vo);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function gE(n,e,t){let r=vc(n);Ye(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,s=SM(e),{host:o,port:a}=m7(e),c=a===null?"":`:${a}`,l={url:`${s}//${o}${c}/`},u=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Ye(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ye(Fi(l,r.config.emulator)&&Fi(u,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,i||g7()}function SM(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function m7(n){let e=SM(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:Q2(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:Q2(o)}}}function Q2(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function g7(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var Jd=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return _o("not implemented")}_getIdTokenResponse(e){return _o("not implemented")}_linkToIdToken(e,t){return _o("not implemented")}_getReauthenticationResolver(e){return _o("not implemented")}};function _7(n,e){return B(this,null,function*(){return xo(n,"POST","/v1/accounts:update",e)})}function v7(n,e){return B(this,null,function*(){return xo(n,"POST","/v1/accounts:signUp",e)})}function y7(n,e){return B(this,null,function*(){return nf(n,"POST","/v1/accounts:signInWithPassword",ma(n,e))})}function x7(n,e){return B(this,null,function*(){return nf(n,"POST","/v1/accounts:signInWithEmailLink",ma(n,e))})}function E7(n,e){return B(this,null,function*(){return nf(n,"POST","/v1/accounts:signInWithEmailLink",ma(n,e))})}var ef=class n extends Jd{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return B(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Jx(e,t,"signInWithPassword",y7,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return x7(e,{email:this._email,oobCode:this._password});default:Ps(e,"internal-error")}})}_linkToIdToken(e,t){return B(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Jx(e,r,"signUpPassword",v7,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return E7(e,{idToken:t,email:this._email,oobCode:this._password});default:Ps(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function Ux(n,e){return B(this,null,function*(){return nf(n,"POST","/v1/accounts:signInWithIdp",ma(n,e))})}function w7(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function C7(n){let e=$l(Hl(n)).link,t=e?$l(Hl(e)).deep_link_id:null,r=$l(Hl(n)).deep_link_id;return(r?$l(Hl(r)).link:null)||r||t||e||n}var mm=class n{constructor(e){var t,r,i,s,o,a;let c=$l(Hl(e)),l=(t=c.apiKey)!==null&&t!==void 0?t:null,u=(r=c.oobCode)!==null&&r!==void 0?r:null,f=w7((i=c.mode)!==null&&i!==void 0?i:null);Ye(l&&u&&f,"argument-error"),this.apiKey=l,this.operation=f,this.code=u,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=C7(e);try{return new n(t)}catch{return null}}};var wm=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return ef._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=mm.parseLink(r);return Ye(i,"argument-error"),ef._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),gm=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var eE=class extends gm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function b7(n,e){return B(this,null,function*(){return nf(n,"POST","/v1/accounts:signUp",ma(n,e))})}var Gl=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return B(this,null,function*(){let s=yield ql._fromIdTokenResponse(e,r,i),o=Z2(r);return new n({user:s,providerId:o,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return B(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=Z2(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function Z2(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var tE=class n extends Wr{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function DM(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?tE._fromErrorAndOperation(n,s,e,r):s})}function I7(n,e,t=!1){return B(this,null,function*(){let r=yield Wl(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Gl._forOperation(n,"link",r)})}function kM(n,e,t=!1){return B(this,null,function*(){let{auth:r}=n;if(Ir(r.app))return Promise.reject(yo(r));let i="reauthenticate";try{let s=yield Wl(n,DM(r,i,e,n),t);Ye(s.idToken,r,"internal-error");let o=fE(s.idToken);Ye(o,r,"internal-error");let{sub:a}=o;return Ye(n.uid===a,r,"user-mismatch"),Gl._forOperation(n,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&Ps(r,"user-mismatch"),s}})}function AM(n,e,t=!1){return B(this,null,function*(){if(Ir(n.app))return Promise.reject(yo(n));let r="signIn",i=yield DM(n,r,e),s=yield Gl._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(s.user)),s})}function _E(n,e){return B(this,null,function*(){return AM(vc(n),e)})}function Cm(n,e){return B(this,null,function*(){return kM(zt(n),e)})}function MM(n){return B(this,null,function*(){let e=vc(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function vE(n,e,t){return B(this,null,function*(){if(Ir(n.app))return Promise.reject(yo(n));let r=vc(n),o=yield Jx(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",b7,"EMAIL_PASSWORD_PROVIDER").catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&MM(n),c}),a=yield Gl._fromIdTokenResponse(r,"signIn",o);return yield r._updateCurrentUser(a.user),a})}function yE(n,e,t){return Ir(n.app)?Promise.reject(yo(n)):_E(zt(n),wm.credential(e,t)).catch(r=>B(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&MM(n),r}))}function bm(n,e){return T7(zt(n),null,e)}function T7(n,e,t){return B(this,null,function*(){let{auth:r}=n,s={idToken:yield n.getIdToken(),returnSecureToken:!0};e&&(s.email=e),t&&(s.password=t);let o=yield Wl(n,_7(r,s));yield n._updateTokensIfNecessary(o,!0)})}function Im(n,e,t,r){return zt(n).onIdTokenChanged(e,t,r)}function xE(n,e,t){return zt(n).beforeAuthStateChanged(e,t)}function rf(n,e,t,r){return zt(n).onAuthStateChanged(e,t,r)}function EE(n){return zt(n).signOut()}var _m="__sak";var vm=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(_m,"1"),this.storage.removeItem(_m),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var S7=1e3,D7=10,k7=(()=>{class n extends vm{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=wM(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&t(r,s,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});return}let i=t.key;r?this.detachListener():this.stopPolling();let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);a7()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,D7):s()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},S7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return B(this,null,function*(){yield $o(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return B(this,null,function*(){let r=yield $o(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return B(this,null,function*(){yield $o(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),RM=k7;var A7=(()=>{class n extends vm{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),wE=A7;function M7(n){return Promise.all(n.map(e=>B(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var R7=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(s=>s.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return B(this,null,function*(){let r=t,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let c=Array.from(a).map(u=>B(this,null,function*(){return u(r.origin,o)})),l=yield M7(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:l})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function PM(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var nE=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return B(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{let l=PM("",20);i.port1.start();let u=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){let h=f;if(h.data.eventId===l)switch(h.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(u),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function Rs(){return window}function P7(n){Rs().location.href=n}function OM(){return typeof Rs().WorkerGlobalScope<"u"&&typeof Rs().importScripts=="function"}function O7(){return B(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function N7(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function F7(){return OM()?self:null}var NM="firebaseLocalStorageDb",L7=1,ym="firebaseLocalStorage",FM="fbase_key",_c=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function Tm(n,e){return n.transaction([ym],e?"readwrite":"readonly").objectStore(ym)}function V7(){let n=indexedDB.deleteDatabase(NM);return new _c(n).toPromise()}function rE(){let n=indexedDB.open(NM,L7);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(ym,{keyPath:FM})}catch(i){t(i)}}),n.addEventListener("success",()=>B(this,null,function*(){let r=n.result;r.objectStoreNames.contains(ym)?e(r):(r.close(),yield V7(),e(yield rE()))}))})}function J2(n,e,t){return B(this,null,function*(){let r=Tm(n,!0).put({[FM]:e,value:t});return new _c(r).toPromise()})}function B7(n,e){return B(this,null,function*(){let t=Tm(n,!1).get(e),r=yield new _c(t).toPromise();return r===void 0?null:r.value})}function eM(n,e){let t=Tm(n,!0).delete(e);return new _c(t).toPromise()}var U7=800,j7=3,$7=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return B(this,null,function*(){return this.db?this.db:(this.db=yield rE(),this.db)})}_withRetries(t){return B(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>j7)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return B(this,null,function*(){return OM()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return B(this,null,function*(){this.receiver=R7._getInstance(F7()),this.receiver._subscribe("keyChanged",(t,r)=>B(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>B(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return B(this,null,function*(){var t,r;if(this.activeServiceWorker=yield O7(),!this.activeServiceWorker)return;this.sender=new nE(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return B(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||N7()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return B(this,null,function*(){try{if(!indexedDB)return!1;let t=yield rE();return yield J2(t,_m,"1"),yield eM(t,_m),!0}catch{}return!1})}_withPendingWrite(t){return B(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return B(this,null,function*(){return this._withPendingWrite(()=>B(this,null,function*(){return yield this._withRetries(i=>J2(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return B(this,null,function*(){let r=yield this._withRetries(i=>B7(i,t));return this.localCache[t]=r,r})}_remove(t){return B(this,null,function*(){return this._withPendingWrite(()=>B(this,null,function*(){return yield this._withRetries(r=>eM(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return B(this,null,function*(){let t=yield this._withRetries(s=>{let o=Tm(s,!1).getAll();return new _c(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:s,value:o}of t)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>B(this,null,function*(){return this._poll()}),U7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),LM=$7;var Dme=IM("rcb"),kme=new gc(3e4,6e4);function H7(n,e){return e?vo(e):(Ye(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var tf=class extends Jd{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ux(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ux(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ux(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function z7(n){return AM(n.auth,new tf(n),n.bypassAuthState)}function W7(n){let{auth:e,user:t}=n;return Ye(t,e,"internal-error"),kM(t,new tf(n),n.bypassAuthState)}function q7(n){return B(this,null,function*(){let{auth:e,user:t}=n;return Ye(t,e,"internal-error"),I7(t,new tf(n),n.bypassAuthState)})}var iE=class{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>B(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return B(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let c={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return z7;case"linkViaPopup":case"linkViaRedirect":return q7;case"reauthViaPopup":case"reauthViaRedirect":return W7;default:Ps(this.auth,"internal-error")}}resolve(e){pa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){pa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var Ame=new gc(2e3,1e4);var G7="pendingRedirect",cm=new Map,sE=class n extends iE{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return B(this,null,function*(){let e=cm.get(this.auth._key());if(!e){try{let r=(yield K7(this.resolver,this.auth))?yield $o(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}cm.set(this.auth._key(),e)}return this.bypassAuthState||cm.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return B(this,null,function*(){if(e.type==="signInViaRedirect")return $o(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,$o(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return B(this,null,function*(){})}cleanUp(){}};function K7(n,e){return B(this,null,function*(){let t=Q7(e),r=Y7(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function X7(n,e){cm.set(n._key(),e)}function Y7(n){return vo(n._redirectPersistence)}function Q7(n){return am(G7,n.config.apiKey,n.name)}function Z7(n,e,t=!1){return B(this,null,function*(){if(Ir(n.app))return Promise.reject(yo(n));let r=vc(n),i=H7(r,e),o=yield new sE(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var J7=10*60*1e3,oE=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!e$(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!VM(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(mc(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=J7&&this.cachedEventUids.clear(),this.cachedEventUids.has(tM(e))}saveEventToCache(e){this.cachedEventUids.add(tM(e)),this.lastProcessedEventTime=Date.now()}};function tM(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function VM({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function e$(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return VM(n);default:return!1}}function t$(t){return B(this,arguments,function*(n,e={}){return xo(n,"GET","/v1/projects",e)})}var n$=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,r$=/^https?/;function i$(n){return B(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield t$(n);for(let t of e)try{if(s$(t))return}catch{}Ps(n,"unauthorized-domain")})}function s$(n){let e=$x(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let o=new URL(n);return o.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===r}if(!r$.test(t))return!1;if(n$.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var o$=new gc(3e4,6e4);function nM(){let n=Rs().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function a$(n){return new Promise((e,t)=>{var r,i,s;function o(){nM(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{nM(),t(mc(n,"network-request-failed"))},timeout:o$.get()})}if(!((i=(r=Rs().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Rs().gapi)===null||s===void 0)&&s.load)o();else{let a=IM("iframefcb");return Rs()[a]=()=>{gapi.load?o():t(mc(n,"network-request-failed"))},bM(`${f7()}?onload=${a}`).catch(c=>t(c))}}).catch(e=>{throw lm=null,e})}var lm=null;function c$(n){return lm=lm||a$(n),lm}var l$=new gc(5e3,15e3),u$="__/auth/iframe",d$="emulator/auth/iframe",f$={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},h$=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function p$(n){let e=n.config;Ye(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?uE(e,d$):`https://${n.config.authDomain}/${u$}`,r={apiKey:e.apiKey,appName:n.name,v:ks},i=h$.get(n.config.apiHost);i&&(r.eid=i);let s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${zd(r).slice(1)}`}function m$(n){return B(this,null,function*(){let e=yield c$(n),t=Rs().gapi;return Ye(t,n,"internal-error"),e.open({where:document.body,url:p$(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:f$,dontclear:!0},r=>new Promise((i,s)=>B(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=mc(n,"network-request-failed"),a=Rs().setTimeout(()=>{s(o)},l$.get());function c(){Rs().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{s(o)})})))})}var g$={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_$=500,v$=600,y$="_blank",x$="http://localhost",xm=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function E$(n,e,t,r=_$,i=v$){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},g$),{width:r.toString(),height:i.toString(),top:s,left:o}),l=Yn().toLowerCase();t&&(a=_M(l)?y$:t),mM(l)&&(e=e||x$,c.scrollbars="yes");let u=Object.entries(c).reduce((h,[p,y])=>`${h}${p}=${y},`,"");if(o7(l)&&a!=="_self")return w$(e||"",a),new xm(null);let f=window.open(e||"",a,u);Ye(f,n,"popup-blocked");try{f.focus()}catch{}return new xm(f)}function w$(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var C$="__/auth/handler",b$="emulator/auth/handler",I$=encodeURIComponent("fac");function rM(n,e,t,r,i,s){return B(this,null,function*(){Ye(n.config.authDomain,n,"auth-domain-config-required"),Ye(n.config.apiKey,n,"invalid-api-key");let o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:ks,eventId:i};if(e instanceof gm){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",g2(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[u,f]of Object.entries(s||{}))o[u]=f}if(e instanceof eE){let u=e.getScopes().filter(f=>f!=="");u.length>0&&(o.scopes=u.join(","))}n.tenantId&&(o.tid=n.tenantId);let a=o;for(let u of Object.keys(a))a[u]===void 0&&delete a[u];let c=yield n._getAppCheckToken(),l=c?`#${I$}=${encodeURIComponent(c)}`:"";return`${T$(n)}?${zd(a).slice(1)}${l}`})}function T$({config:n}){return n.emulator?uE(n,b$):`https://${n.authDomain}/${C$}`}var jx="webStorageSupport",aE=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=wE,this._completeRedirectFn=Z7,this._overrideRedirectResult=X7}_openPopup(e,t,r,i){return B(this,null,function*(){var s;pa((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield rM(e,t,r,$x(),i);return E$(e,o,PM())})}_openRedirect(e,t,r,i){return B(this,null,function*(){yield this._originValidation(e);let s=yield rM(e,t,r,$x(),i);return P7(s),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(pa(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return B(this,null,function*(){let t=yield m$(e),r=new oE(e);return t.register("authEvent",i=>(Ye(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(jx,{type:jx},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[jx];o!==void 0&&t(!!o),Ps(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=i$(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return wM()||gM()||pE()}},BM=aE;var iM="@firebase/auth",sM="1.9.1";var cE=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return B(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function S$(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function D$(n){yi(new lr("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Ye(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:CM(n)},l=new Xx(r,i,s,c);return p7(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),yi(new lr("auth-internal",e=>{let t=vc(e.getProvider("auth").getImmediate());return(r=>new cE(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xt(iM,sM,S$(n)),Xt(iM,sM,"esm2017")}var k$=5*60,A$=mx("authIdTokenMaxAge")||k$,oM=null,M$=n=>e=>B(void 0,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>A$)return;let i=t?.token;oM!==i&&(oM=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function sf(n=mo()){let e=la(n,"auth");if(e.isInitialized())return e.getImmediate();let t=mE(n,{popupRedirectResolver:BM,persistence:[LM,RM,wE]}),r=mx("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=M$(s.toString());xE(t,o,()=>o(t.currentUser)),Im(t,a=>o(a))}}let i=hx("auth");return i&&gE(t,`http://${i}`),t}function R$(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}u7({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let s=mc("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",R$().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});D$("Browser");function jM(n){return new lt(function(e){var t=rf(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:t}})}var $M="auth",xi=class{constructor(e){return e}},yc=class{constructor(){return ua($M)}};var CE=new je("angularfire2.auth-instances");function _H(n,e){let t=pc($M,n,e);return t&&new xi(t)}function vH(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new xi(r)}}var yH={provide:yc,deps:[[new An,CE]]},xH={provide:xi,useFactory:_H,deps:[[new An,CE],rs]};function HM(n,...e){return Xt("angularfire",As.full,"auth"),Ji([xH,yH,{provide:CE,useFactory:vH(n),multi:!0,deps:[Nt,gn,Ms,go,[new An,fa],...e]}])}var zM=sn(jM,!0);var WM=sn(vE,!0,2);var qM=sn(sf,!0);var of=sn(rf,!0);var GM=sn(yE,!0,2);var KM=sn(EE,!0,2);var XM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},YM={};var Eo,IE;(function(){var n;function e(b,I){function T(){}T.prototype=I.prototype,b.D=I.prototype,b.prototype=new T,b.prototype.constructor=b,b.C=function(R,P,A){for(var N=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)N[Oe-2]=arguments[Oe];return I.prototype[P].apply(R,N)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(b,I,T){T||(T=0);var R=Array(16);if(typeof I=="string")for(var P=0;16>P;++P)R[P]=I.charCodeAt(T++)|I.charCodeAt(T++)<<8|I.charCodeAt(T++)<<16|I.charCodeAt(T++)<<24;else for(P=0;16>P;++P)R[P]=I[T++]|I[T++]<<8|I[T++]<<16|I[T++]<<24;I=b.g[0],T=b.g[1],P=b.g[2];var A=b.g[3],N=I+(A^T&(P^A))+R[0]+3614090360&4294967295;I=T+(N<<7&4294967295|N>>>25),N=A+(P^I&(T^P))+R[1]+3905402710&4294967295,A=I+(N<<12&4294967295|N>>>20),N=P+(T^A&(I^T))+R[2]+606105819&4294967295,P=A+(N<<17&4294967295|N>>>15),N=T+(I^P&(A^I))+R[3]+3250441966&4294967295,T=P+(N<<22&4294967295|N>>>10),N=I+(A^T&(P^A))+R[4]+4118548399&4294967295,I=T+(N<<7&4294967295|N>>>25),N=A+(P^I&(T^P))+R[5]+1200080426&4294967295,A=I+(N<<12&4294967295|N>>>20),N=P+(T^A&(I^T))+R[6]+2821735955&4294967295,P=A+(N<<17&4294967295|N>>>15),N=T+(I^P&(A^I))+R[7]+4249261313&4294967295,T=P+(N<<22&4294967295|N>>>10),N=I+(A^T&(P^A))+R[8]+1770035416&4294967295,I=T+(N<<7&4294967295|N>>>25),N=A+(P^I&(T^P))+R[9]+2336552879&4294967295,A=I+(N<<12&4294967295|N>>>20),N=P+(T^A&(I^T))+R[10]+4294925233&4294967295,P=A+(N<<17&4294967295|N>>>15),N=T+(I^P&(A^I))+R[11]+2304563134&4294967295,T=P+(N<<22&4294967295|N>>>10),N=I+(A^T&(P^A))+R[12]+1804603682&4294967295,I=T+(N<<7&4294967295|N>>>25),N=A+(P^I&(T^P))+R[13]+4254626195&4294967295,A=I+(N<<12&4294967295|N>>>20),N=P+(T^A&(I^T))+R[14]+2792965006&4294967295,P=A+(N<<17&4294967295|N>>>15),N=T+(I^P&(A^I))+R[15]+1236535329&4294967295,T=P+(N<<22&4294967295|N>>>10),N=I+(P^A&(T^P))+R[1]+4129170786&4294967295,I=T+(N<<5&4294967295|N>>>27),N=A+(T^P&(I^T))+R[6]+3225465664&4294967295,A=I+(N<<9&4294967295|N>>>23),N=P+(I^T&(A^I))+R[11]+643717713&4294967295,P=A+(N<<14&4294967295|N>>>18),N=T+(A^I&(P^A))+R[0]+3921069994&4294967295,T=P+(N<<20&4294967295|N>>>12),N=I+(P^A&(T^P))+R[5]+3593408605&4294967295,I=T+(N<<5&4294967295|N>>>27),N=A+(T^P&(I^T))+R[10]+38016083&4294967295,A=I+(N<<9&4294967295|N>>>23),N=P+(I^T&(A^I))+R[15]+3634488961&4294967295,P=A+(N<<14&4294967295|N>>>18),N=T+(A^I&(P^A))+R[4]+3889429448&4294967295,T=P+(N<<20&4294967295|N>>>12),N=I+(P^A&(T^P))+R[9]+568446438&4294967295,I=T+(N<<5&4294967295|N>>>27),N=A+(T^P&(I^T))+R[14]+3275163606&4294967295,A=I+(N<<9&4294967295|N>>>23),N=P+(I^T&(A^I))+R[3]+4107603335&4294967295,P=A+(N<<14&4294967295|N>>>18),N=T+(A^I&(P^A))+R[8]+1163531501&4294967295,T=P+(N<<20&4294967295|N>>>12),N=I+(P^A&(T^P))+R[13]+2850285829&4294967295,I=T+(N<<5&4294967295|N>>>27),N=A+(T^P&(I^T))+R[2]+4243563512&4294967295,A=I+(N<<9&4294967295|N>>>23),N=P+(I^T&(A^I))+R[7]+1735328473&4294967295,P=A+(N<<14&4294967295|N>>>18),N=T+(A^I&(P^A))+R[12]+2368359562&4294967295,T=P+(N<<20&4294967295|N>>>12),N=I+(T^P^A)+R[5]+4294588738&4294967295,I=T+(N<<4&4294967295|N>>>28),N=A+(I^T^P)+R[8]+2272392833&4294967295,A=I+(N<<11&4294967295|N>>>21),N=P+(A^I^T)+R[11]+1839030562&4294967295,P=A+(N<<16&4294967295|N>>>16),N=T+(P^A^I)+R[14]+4259657740&4294967295,T=P+(N<<23&4294967295|N>>>9),N=I+(T^P^A)+R[1]+2763975236&4294967295,I=T+(N<<4&4294967295|N>>>28),N=A+(I^T^P)+R[4]+1272893353&4294967295,A=I+(N<<11&4294967295|N>>>21),N=P+(A^I^T)+R[7]+4139469664&4294967295,P=A+(N<<16&4294967295|N>>>16),N=T+(P^A^I)+R[10]+3200236656&4294967295,T=P+(N<<23&4294967295|N>>>9),N=I+(T^P^A)+R[13]+681279174&4294967295,I=T+(N<<4&4294967295|N>>>28),N=A+(I^T^P)+R[0]+3936430074&4294967295,A=I+(N<<11&4294967295|N>>>21),N=P+(A^I^T)+R[3]+3572445317&4294967295,P=A+(N<<16&4294967295|N>>>16),N=T+(P^A^I)+R[6]+76029189&4294967295,T=P+(N<<23&4294967295|N>>>9),N=I+(T^P^A)+R[9]+3654602809&4294967295,I=T+(N<<4&4294967295|N>>>28),N=A+(I^T^P)+R[12]+3873151461&4294967295,A=I+(N<<11&4294967295|N>>>21),N=P+(A^I^T)+R[15]+530742520&4294967295,P=A+(N<<16&4294967295|N>>>16),N=T+(P^A^I)+R[2]+3299628645&4294967295,T=P+(N<<23&4294967295|N>>>9),N=I+(P^(T|~A))+R[0]+4096336452&4294967295,I=T+(N<<6&4294967295|N>>>26),N=A+(T^(I|~P))+R[7]+1126891415&4294967295,A=I+(N<<10&4294967295|N>>>22),N=P+(I^(A|~T))+R[14]+2878612391&4294967295,P=A+(N<<15&4294967295|N>>>17),N=T+(A^(P|~I))+R[5]+4237533241&4294967295,T=P+(N<<21&4294967295|N>>>11),N=I+(P^(T|~A))+R[12]+1700485571&4294967295,I=T+(N<<6&4294967295|N>>>26),N=A+(T^(I|~P))+R[3]+2399980690&4294967295,A=I+(N<<10&4294967295|N>>>22),N=P+(I^(A|~T))+R[10]+4293915773&4294967295,P=A+(N<<15&4294967295|N>>>17),N=T+(A^(P|~I))+R[1]+2240044497&4294967295,T=P+(N<<21&4294967295|N>>>11),N=I+(P^(T|~A))+R[8]+1873313359&4294967295,I=T+(N<<6&4294967295|N>>>26),N=A+(T^(I|~P))+R[15]+4264355552&4294967295,A=I+(N<<10&4294967295|N>>>22),N=P+(I^(A|~T))+R[6]+2734768916&4294967295,P=A+(N<<15&4294967295|N>>>17),N=T+(A^(P|~I))+R[13]+1309151649&4294967295,T=P+(N<<21&4294967295|N>>>11),N=I+(P^(T|~A))+R[4]+4149444226&4294967295,I=T+(N<<6&4294967295|N>>>26),N=A+(T^(I|~P))+R[11]+3174756917&4294967295,A=I+(N<<10&4294967295|N>>>22),N=P+(I^(A|~T))+R[2]+718787259&4294967295,P=A+(N<<15&4294967295|N>>>17),N=T+(A^(P|~I))+R[9]+3951481745&4294967295,b.g[0]=b.g[0]+I&4294967295,b.g[1]=b.g[1]+(P+(N<<21&4294967295|N>>>11))&4294967295,b.g[2]=b.g[2]+P&4294967295,b.g[3]=b.g[3]+A&4294967295}r.prototype.u=function(b,I){I===void 0&&(I=b.length);for(var T=I-this.blockSize,R=this.B,P=this.h,A=0;A<I;){if(P==0)for(;A<=T;)i(this,b,A),A+=this.blockSize;if(typeof b=="string"){for(;A<I;)if(R[P++]=b.charCodeAt(A++),P==this.blockSize){i(this,R),P=0;break}}else for(;A<I;)if(R[P++]=b[A++],P==this.blockSize){i(this,R),P=0;break}}this.h=P,this.o+=I},r.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var I=1;I<b.length-8;++I)b[I]=0;var T=8*this.o;for(I=b.length-8;I<b.length;++I)b[I]=T&255,T/=256;for(this.u(b),b=Array(16),I=T=0;4>I;++I)for(var R=0;32>R;R+=8)b[T++]=this.g[I]>>>R&255;return b};function s(b,I){var T=a;return Object.prototype.hasOwnProperty.call(T,b)?T[b]:T[b]=I(b)}function o(b,I){this.h=I;for(var T=[],R=!0,P=b.length-1;0<=P;P--){var A=b[P]|0;R&&A==I||(T[P]=A,R=!1)}this.g=T}var a={};function c(b){return-128<=b&&128>b?s(b,function(I){return new o([I|0],0>I?-1:0)}):new o([b|0],0>b?-1:0)}function l(b){if(isNaN(b)||!isFinite(b))return f;if(0>b)return w(l(-b));for(var I=[],T=1,R=0;b>=T;R++)I[R]=b/T|0,T*=4294967296;return new o(I,0)}function u(b,I){if(b.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(b.charAt(0)=="-")return w(u(b.substring(1),I));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=l(Math.pow(I,8)),R=f,P=0;P<b.length;P+=8){var A=Math.min(8,b.length-P),N=parseInt(b.substring(P,P+A),I);8>A?(A=l(Math.pow(I,A)),R=R.j(A).add(l(N))):(R=R.j(T),R=R.add(l(N)))}return R}var f=c(0),h=c(1),p=c(16777216);n=o.prototype,n.m=function(){if(v(this))return-w(this).m();for(var b=0,I=1,T=0;T<this.g.length;T++){var R=this.i(T);b+=(0<=R?R:4294967296+R)*I,I*=4294967296}return b},n.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(y(this))return"0";if(v(this))return"-"+w(this).toString(b);for(var I=l(Math.pow(b,6)),T=this,R="";;){var P=X(T,I).g;T=F(T,P.j(I));var A=((0<T.g.length?T.g[0]:T.h)>>>0).toString(b);if(T=P,y(T))return A+R;for(;6>A.length;)A="0"+A;R=A+R}},n.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function y(b){if(b.h!=0)return!1;for(var I=0;I<b.g.length;I++)if(b.g[I]!=0)return!1;return!0}function v(b){return b.h==-1}n.l=function(b){return b=F(this,b),v(b)?-1:y(b)?0:1};function w(b){for(var I=b.g.length,T=[],R=0;R<I;R++)T[R]=~b.g[R];return new o(T,~b.h).add(h)}n.abs=function(){return v(this)?w(this):this},n.add=function(b){for(var I=Math.max(this.g.length,b.g.length),T=[],R=0,P=0;P<=I;P++){var A=R+(this.i(P)&65535)+(b.i(P)&65535),N=(A>>>16)+(this.i(P)>>>16)+(b.i(P)>>>16);R=N>>>16,A&=65535,N&=65535,T[P]=N<<16|A}return new o(T,T[T.length-1]&-2147483648?-1:0)};function F(b,I){return b.add(w(I))}n.j=function(b){if(y(this)||y(b))return f;if(v(this))return v(b)?w(this).j(w(b)):w(w(this).j(b));if(v(b))return w(this.j(w(b)));if(0>this.l(p)&&0>b.l(p))return l(this.m()*b.m());for(var I=this.g.length+b.g.length,T=[],R=0;R<2*I;R++)T[R]=0;for(R=0;R<this.g.length;R++)for(var P=0;P<b.g.length;P++){var A=this.i(R)>>>16,N=this.i(R)&65535,Oe=b.i(P)>>>16,Ce=b.i(P)&65535;T[2*R+2*P]+=N*Ce,V(T,2*R+2*P),T[2*R+2*P+1]+=A*Ce,V(T,2*R+2*P+1),T[2*R+2*P+1]+=N*Oe,V(T,2*R+2*P+1),T[2*R+2*P+2]+=A*Oe,V(T,2*R+2*P+2)}for(R=0;R<I;R++)T[R]=T[2*R+1]<<16|T[2*R];for(R=I;R<2*I;R++)T[R]=0;return new o(T,0)};function V(b,I){for(;(b[I]&65535)!=b[I];)b[I+1]+=b[I]>>>16,b[I]&=65535,I++}function k(b,I){this.g=b,this.h=I}function X(b,I){if(y(I))throw Error("division by zero");if(y(b))return new k(f,f);if(v(b))return I=X(w(b),I),new k(w(I.g),w(I.h));if(v(I))return I=X(b,w(I)),new k(w(I.g),I.h);if(30<b.g.length){if(v(b)||v(I))throw Error("slowDivide_ only works with positive integers.");for(var T=h,R=I;0>=R.l(b);)T=se(T),R=se(R);var P=G(T,1),A=G(R,1);for(R=G(R,2),T=G(T,2);!y(R);){var N=A.add(R);0>=N.l(b)&&(P=P.add(T),A=N),R=G(R,1),T=G(T,1)}return I=F(b,P.j(I)),new k(P,I)}for(P=f;0<=b.l(I);){for(T=Math.max(1,Math.floor(b.m()/I.m())),R=Math.ceil(Math.log(T)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),A=l(T),N=A.j(I);v(N)||0<N.l(b);)T-=R,A=l(T),N=A.j(I);y(A)&&(A=h),P=P.add(A),b=F(b,N)}return new k(P,b)}n.A=function(b){return X(this,b).h},n.and=function(b){for(var I=Math.max(this.g.length,b.g.length),T=[],R=0;R<I;R++)T[R]=this.i(R)&b.i(R);return new o(T,this.h&b.h)},n.or=function(b){for(var I=Math.max(this.g.length,b.g.length),T=[],R=0;R<I;R++)T[R]=this.i(R)|b.i(R);return new o(T,this.h|b.h)},n.xor=function(b){for(var I=Math.max(this.g.length,b.g.length),T=[],R=0;R<I;R++)T[R]=this.i(R)^b.i(R);return new o(T,this.h^b.h)};function se(b){for(var I=b.g.length+1,T=[],R=0;R<I;R++)T[R]=b.i(R)<<1|b.i(R-1)>>>31;return new o(T,b.h)}function G(b,I){var T=I>>5;I%=32;for(var R=b.g.length-T,P=[],A=0;A<R;A++)P[A]=0<I?b.i(A+T)>>>I|b.i(A+T+1)<<32-I:b.i(A+T);return new o(P,b.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,IE=YM.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=u,Eo=YM.Integer=o}).apply(typeof XM<"u"?XM:typeof self<"u"?self:typeof window<"u"?window:{});var Sm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},wo={};var TE,EH,Kl,SE,af,Dm,DE,kE,AE;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,m,x){return d==Array.prototype||d==Object.prototype||(d[m]=x.value),d};function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Sm=="object"&&Sm];for(var m=0;m<d.length;++m){var x=d[m];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var r=t(this);function i(d,m){if(m)e:{var x=r;d=d.split(".");for(var M=0;M<d.length-1;M++){var Q=d[M];if(!(Q in x))break e;x=x[Q]}d=d[d.length-1],M=x[d],m=m(M),m!=M&&m!=null&&e(x,d,{configurable:!0,writable:!0,value:m})}}function s(d,m){d instanceof String&&(d+="");var x=0,M=!1,Q={next:function(){if(!M&&x<d.length){var ce=x++;return{value:m(ce,d[ce]),done:!1}}return M=!0,{done:!0,value:void 0}}};return Q[Symbol.iterator]=function(){return Q},Q}i("Array.prototype.values",function(d){return d||function(){return s(this,function(m,x){return x})}});var o=o||{},a=this||self;function c(d){var m=typeof d;return m=m!="object"?m:d?Array.isArray(d)?"array":m:"null",m=="array"||m=="object"&&typeof d.length=="number"}function l(d){var m=typeof d;return m=="object"&&d!=null||m=="function"}function u(d,m,x){return d.call.apply(d.bind,arguments)}function f(d,m,x){if(!d)throw Error();if(2<arguments.length){var M=Array.prototype.slice.call(arguments,2);return function(){var Q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Q,M),d.apply(m,Q)}}return function(){return d.apply(m,arguments)}}function h(d,m,x){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:f,h.apply(null,arguments)}function p(d,m){var x=Array.prototype.slice.call(arguments,1);return function(){var M=x.slice();return M.push.apply(M,arguments),d.apply(this,M)}}function y(d,m){function x(){}x.prototype=m.prototype,d.aa=m.prototype,d.prototype=new x,d.prototype.constructor=d,d.Qb=function(M,Q,ce){for(var Ie=Array(arguments.length-2),Gt=2;Gt<arguments.length;Gt++)Ie[Gt-2]=arguments[Gt];return m.prototype[Q].apply(M,Ie)}}function v(d){let m=d.length;if(0<m){let x=Array(m);for(let M=0;M<m;M++)x[M]=d[M];return x}return[]}function w(d,m){for(let x=1;x<arguments.length;x++){let M=arguments[x];if(c(M)){let Q=d.length||0,ce=M.length||0;d.length=Q+ce;for(let Ie=0;Ie<ce;Ie++)d[Q+Ie]=M[Ie]}else d.push(M)}}class F{constructor(m,x){this.i=m,this.j=x,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function V(d){return/^[\s\xa0]*$/.test(d)}function k(){var d=a.navigator;return d&&(d=d.userAgent)?d:""}function X(d){return X[" "](d),d}X[" "]=function(){};var se=k().indexOf("Gecko")!=-1&&!(k().toLowerCase().indexOf("webkit")!=-1&&k().indexOf("Edge")==-1)&&!(k().indexOf("Trident")!=-1||k().indexOf("MSIE")!=-1)&&k().indexOf("Edge")==-1;function G(d,m,x){for(let M in d)m.call(x,d[M],M,d)}function b(d,m){for(let x in d)m.call(void 0,d[x],x,d)}function I(d){let m={};for(let x in d)m[x]=d[x];return m}let T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(d,m){let x,M;for(let Q=1;Q<arguments.length;Q++){M=arguments[Q];for(x in M)d[x]=M[x];for(let ce=0;ce<T.length;ce++)x=T[ce],Object.prototype.hasOwnProperty.call(M,x)&&(d[x]=M[x])}}function P(d){var m=1;d=d.split(":");let x=[];for(;0<m&&d.length;)x.push(d.shift()),m--;return d.length&&x.push(d.join(":")),x}function A(d){a.setTimeout(()=>{throw d},0)}function N(){var d=ke;let m=null;return d.g&&(m=d.g,d.g=d.g.next,d.g||(d.h=null),m.next=null),m}class Oe{constructor(){this.h=this.g=null}add(m,x){let M=Ce.get();M.set(m,x),this.h?this.h.next=M:this.g=M,this.h=M}}var Ce=new F(()=>new $e,d=>d.reset());class $e{constructor(){this.next=this.g=this.h=null}set(m,x){this.h=m,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let Ne,ft=!1,ke=new Oe,Be=()=>{let d=a.Promise.resolve(void 0);Ne=()=>{d.then(fe)}};var fe=()=>{for(var d;d=N();){try{d.h.call(d.g)}catch(x){A(x)}var m=Ce;m.j(d),100>m.h&&(m.h++,d.next=m.g,m.g=d)}ft=!1};function z(){this.s=this.s,this.C=this.C}z.prototype.s=!1,z.prototype.ma=function(){this.s||(this.s=!0,this.N())},z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function J(d,m){this.type=d,this.g=this.target=m,this.defaultPrevented=!1}J.prototype.h=function(){this.defaultPrevented=!0};var Y=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var d=!1,m=Object.defineProperty({},"passive",{get:function(){d=!0}});try{let x=()=>{};a.addEventListener("test",x,m),a.removeEventListener("test",x,m)}catch{}return d}();function K(d,m){if(J.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var x=this.type=d.type,M=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=m,m=d.relatedTarget){if(se){e:{try{X(m.nodeName);var Q=!0;break e}catch{}Q=!1}Q||(m=null)}}else x=="mouseover"?m=d.fromElement:x=="mouseout"&&(m=d.toElement);this.relatedTarget=m,M?(this.clientX=M.clientX!==void 0?M.clientX:M.pageX,this.clientY=M.clientY!==void 0?M.clientY:M.pageY,this.screenX=M.screenX||0,this.screenY=M.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:he[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&K.aa.h.call(this)}}y(K,J);var he={2:"touch",3:"pen",4:"mouse"};K.prototype.h=function(){K.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Me="closure_listenable_"+(1e6*Math.random()|0),Se=0;function Re(d,m,x,M,Q){this.listener=d,this.proxy=null,this.src=m,this.type=x,this.capture=!!M,this.ha=Q,this.key=++Se,this.da=this.fa=!1}function _e(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function ht(d){this.src=d,this.g={},this.h=0}ht.prototype.add=function(d,m,x,M,Q){var ce=d.toString();d=this.g[ce],d||(d=this.g[ce]=[],this.h++);var Ie=qt(d,m,M,Q);return-1<Ie?(m=d[Ie],x||(m.fa=!1)):(m=new Re(m,this.src,ce,!!M,Q),m.fa=x,d.push(m)),m};function q(d,m){var x=m.type;if(x in d.g){var M=d.g[x],Q=Array.prototype.indexOf.call(M,m,void 0),ce;(ce=0<=Q)&&Array.prototype.splice.call(M,Q,1),ce&&(_e(m),d.g[x].length==0&&(delete d.g[x],d.h--))}}function qt(d,m,x,M){for(var Q=0;Q<d.length;++Q){var ce=d[Q];if(!ce.da&&ce.listener==m&&ce.capture==!!x&&ce.ha==M)return Q}return-1}var vt="closure_lm_"+(1e6*Math.random()|0),Pt={};function ct(d,m,x,M,Q){if(M&&M.once)return Br(d,m,x,M,Q);if(Array.isArray(m)){for(var ce=0;ce<m.length;ce++)ct(d,m[ce],x,M,Q);return null}return x=ki(x),d&&d[Me]?d.K(m,x,l(M)?!!M.capture:!!M,Q):Ae(d,m,x,!1,M,Q)}function Ae(d,m,x,M,Q,ce){if(!m)throw Error("Invalid event type");var Ie=l(Q)?!!Q.capture:!!Q,Gt=ir(d);if(Gt||(d[vt]=Gt=new ht(d)),x=Gt.add(m,x,M,Ie,ce),x.proxy)return x;if(M=pn(),x.proxy=M,M.src=d,M.listener=x,d.addEventListener)Y||(Q=Ie),Q===void 0&&(Q=!1),d.addEventListener(m.toString(),M,Q);else if(d.attachEvent)d.attachEvent(Vo(m.toString()),M);else if(d.addListener&&d.removeListener)d.addListener(M);else throw Error("addEventListener and attachEvent are unavailable.");return x}function pn(){function d(x){return m.call(d.src,d.listener,x)}let m=ms;return d}function Br(d,m,x,M,Q){if(Array.isArray(m)){for(var ce=0;ce<m.length;ce++)Br(d,m[ce],x,M,Q);return null}return x=ki(x),d&&d[Me]?d.L(m,x,l(M)?!!M.capture:!!M,Q):Ae(d,m,x,!0,M,Q)}function ui(d,m,x,M,Q){if(Array.isArray(m))for(var ce=0;ce<m.length;ce++)ui(d,m[ce],x,M,Q);else M=l(M)?!!M.capture:!!M,x=ki(x),d&&d[Me]?(d=d.i,m=String(m).toString(),m in d.g&&(ce=d.g[m],x=qt(ce,x,M,Q),-1<x&&(_e(ce[x]),Array.prototype.splice.call(ce,x,1),ce.length==0&&(delete d.g[m],d.h--)))):d&&(d=ir(d))&&(m=d.g[m.toString()],d=-1,m&&(d=qt(m,x,M,Q)),(x=-1<d?m[d]:null)&&di(x))}function di(d){if(typeof d!="number"&&d&&!d.da){var m=d.src;if(m&&m[Me])q(m.i,d);else{var x=d.type,M=d.proxy;m.removeEventListener?m.removeEventListener(x,M,d.capture):m.detachEvent?m.detachEvent(Vo(x),M):m.addListener&&m.removeListener&&m.removeListener(M),(x=ir(m))?(q(x,d),x.h==0&&(x.src=null,m[vt]=null)):_e(d)}}}function Vo(d){return d in Pt?Pt[d]:Pt[d]="on"+d}function ms(d,m){if(d.da)d=!0;else{m=new K(m,this);var x=d.listener,M=d.ha||d.src;d.fa&&di(d),d=x.call(M,m)}return d}function ir(d){return d=d[vt],d instanceof ht?d:null}var fi="__closure_events_fn_"+(1e9*Math.random()>>>0);function ki(d){return typeof d=="function"?d:(d[fi]||(d[fi]=function(m){return d.handleEvent(m)}),d[fi])}function vn(){z.call(this),this.i=new ht(this),this.M=this,this.F=null}y(vn,z),vn.prototype[Me]=!0,vn.prototype.removeEventListener=function(d,m,x,M){ui(this,d,m,x,M)};function Ot(d,m){var x,M=d.F;if(M)for(x=[];M;M=M.F)x.push(M);if(d=d.M,M=m.type||m,typeof m=="string")m=new J(m,d);else if(m instanceof J)m.target=m.target||d;else{var Q=m;m=new J(M,d),R(m,Q)}if(Q=!0,x)for(var ce=x.length-1;0<=ce;ce--){var Ie=m.g=x[ce];Q=Ur(Ie,M,!0,m)&&Q}if(Ie=m.g=d,Q=Ur(Ie,M,!0,m)&&Q,Q=Ur(Ie,M,!1,m)&&Q,x)for(ce=0;ce<x.length;ce++)Ie=m.g=x[ce],Q=Ur(Ie,M,!1,m)&&Q}vn.prototype.N=function(){if(vn.aa.N.call(this),this.i){var d=this.i,m;for(m in d.g){for(var x=d.g[m],M=0;M<x.length;M++)_e(x[M]);delete d.g[m],d.h--}}this.F=null},vn.prototype.K=function(d,m,x,M){return this.i.add(String(d),m,!1,x,M)},vn.prototype.L=function(d,m,x,M){return this.i.add(String(d),m,!0,x,M)};function Ur(d,m,x,M){if(m=d.i.g[String(m)],!m)return!0;m=m.concat();for(var Q=!0,ce=0;ce<m.length;++ce){var Ie=m[ce];if(Ie&&!Ie.da&&Ie.capture==x){var Gt=Ie.listener,or=Ie.ha||Ie.src;Ie.fa&&q(d.i,Ie),Q=Gt.call(or,M)!==!1&&Q}}return Q&&!M.defaultPrevented}function ot(d,m,x){if(typeof d=="function")x&&(d=h(d,x));else if(d&&typeof d.handleEvent=="function")d=h(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:a.setTimeout(d,m||0)}function ln(d){d.g=ot(()=>{d.g=null,d.i&&(d.i=!1,ln(d))},d.l);let m=d.h;d.h=null,d.m.apply(null,m)}class Zr extends z{constructor(m,x){super(),this.m=m,this.l=x,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ln(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function tn(d){z.call(this),this.h=d,this.g={}}y(tn,z);var gs=[];function id(d){G(d.g,function(m,x){this.g.hasOwnProperty(x)&&di(m)},d),d.g={}}tn.prototype.N=function(){tn.aa.N.call(this),id(this)},tn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var sd=a.JSON.stringify,Q_=a.JSON.parse,jh=class{stringify(d){return a.JSON.stringify(d,void 0)}parse(d){return a.JSON.parse(d,void 0)}};function Yc(){}Yc.prototype.h=null;function od(d){return d.h||(d.h=d.i())}function $h(){}var Va={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Bo(){J.call(this,"d")}y(Bo,J);function ad(){J.call(this,"c")}y(ad,J);var Gs={},Hh=null;function Qc(){return Hh=Hh||new vn}Gs.La="serverreachability";function zh(d){J.call(this,Gs.La,d)}y(zh,J);function Ba(d){let m=Qc();Ot(m,new zh(m))}Gs.STAT_EVENT="statevent";function Wh(d,m){J.call(this,Gs.STAT_EVENT,d),this.stat=m}y(Wh,J);function sr(d){let m=Qc();Ot(m,new Wh(m,d))}Gs.Ma="timingevent";function Zc(d,m){J.call(this,Gs.Ma,d),this.size=m}y(Zc,J);function Ua(d,m){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){d()},m)}function ja(){this.g=!0}ja.prototype.xa=function(){this.g=!1};function Z_(d,m,x,M,Q,ce){d.info(function(){if(d.g)if(ce)for(var Ie="",Gt=ce.split("&"),or=0;or<Gt.length;or++){var Rt=Gt[or].split("=");if(1<Rt.length){var _r=Rt[0];Rt=Rt[1];var vr=_r.split("_");Ie=2<=vr.length&&vr[1]=="type"?Ie+(_r+"="+Rt+"&"):Ie+(_r+"=redacted&")}}else Ie=null;else Ie=ce;return"XMLHTTP REQ ("+M+") [attempt "+Q+"]: "+m+`
`+x+`
`+Ie})}function S(d,m,x,M,Q,ce,Ie){d.info(function(){return"XMLHTTP RESP ("+M+") [ attempt "+Q+"]: "+m+`
`+x+`
`+ce+" "+Ie})}function U(d,m,x,M){d.info(function(){return"XMLHTTP TEXT ("+m+"): "+L(d,x)+(M?" "+M:"")})}function O(d,m){d.info(function(){return"TIMEOUT: "+m})}ja.prototype.info=function(){};function L(d,m){if(!d.g)return m;if(!m)return null;try{var x=JSON.parse(m);if(x){for(d=0;d<x.length;d++)if(Array.isArray(x[d])){var M=x[d];if(!(2>M.length)){var Q=M[1];if(Array.isArray(Q)&&!(1>Q.length)){var ce=Q[0];if(ce!="noop"&&ce!="stop"&&ce!="close")for(var Ie=1;Ie<Q.length;Ie++)Q[Ie]=""}}}}return sd(x)}catch{return m}}var j={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},H={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},te;function le(){}y(le,Yc),le.prototype.g=function(){return new XMLHttpRequest},le.prototype.i=function(){return{}},te=new le;function ee(d,m,x,M){this.j=d,this.i=m,this.l=x,this.R=M||1,this.U=new tn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ne}function ne(){this.i=null,this.g="",this.h=!1}var oe={},ye={};function Ee(d,m,x){d.L=1,d.v=Kh(Xs(m)),d.m=x,d.P=!0,Le(d,null)}function Le(d,m){d.F=Date.now(),Xe(d),d.A=Xs(d.v);var x=d.A,M=d.R;Array.isArray(M)||(M=[String(M)]),cT(x.i,"t",M),d.C=0,x=d.j.J,d.h=new ne,d.g=TT(d.j,x?m:null,!d.m),0<d.O&&(d.M=new Zr(h(d.Y,d,d.g),d.O)),m=d.U,x=d.g,M=d.ca;var Q="readystatechange";Array.isArray(Q)||(Q&&(gs[0]=Q.toString()),Q=gs);for(var ce=0;ce<Q.length;ce++){var Ie=ct(x,Q[ce],M||m.handleEvent,!1,m.h||m);if(!Ie)break;m.g[Ie.key]=Ie}m=d.H?I(d.H):{},d.m?(d.u||(d.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,m)):(d.u="GET",d.g.ea(d.A,d.u,null,m)),Ba(),Z_(d.i,d.u,d.A,d.l,d.R,d.m)}ee.prototype.ca=function(d){d=d.target;let m=this.M;m&&Ys(d)==3?m.j():this.Y(d)},ee.prototype.Y=function(d){try{if(d==this.g)e:{let vr=Ys(this.g);var m=this.g.Ba();let nl=this.g.Z();if(!(3>vr)&&(vr!=3||this.g&&(this.h.h||this.g.oa()||mT(this.g)))){this.J||vr!=4||m==7||(m==8||0>=nl?Ba(3):Ba(2)),Kn(this);var x=this.g.Z();this.X=x;t:if(we(this)){var M=mT(this.g);d="";var Q=M.length,ce=Ys(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){bn(this),Yt(this);var Ie="";break t}this.h.i=new a.TextDecoder}for(m=0;m<Q;m++)this.h.h=!0,d+=this.h.i.decode(M[m],{stream:!(ce&&m==Q-1)});M.length=0,this.h.g+=d,this.C=0,Ie=this.h.g}else Ie=this.g.oa();if(this.o=x==200,S(this.i,this.u,this.A,this.l,this.R,vr,x),this.o){if(this.T&&!this.K){t:{if(this.g){var Gt,or=this.g;if((Gt=or.g?or.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(Gt)){var Rt=Gt;break t}}Rt=null}if(x=Rt)U(this.i,this.l,x,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ks(this,x);else{this.o=!1,this.s=3,sr(12),bn(this),Yt(this);break e}}if(this.P){x=!0;let Xi;for(;!this.J&&this.C<Ie.length;)if(Xi=Te(this,Ie),Xi==ye){vr==4&&(this.s=4,sr(14),x=!1),U(this.i,this.l,null,"[Incomplete Response]");break}else if(Xi==oe){this.s=4,sr(15),U(this.i,this.l,Ie,"[Invalid Chunk]"),x=!1;break}else U(this.i,this.l,Xi,null),Ks(this,Xi);if(we(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),vr!=4||Ie.length!=0||this.h.h||(this.s=1,sr(16),x=!1),this.o=this.o&&x,!x)U(this.i,this.l,Ie,"[Invalid Chunked Response]"),bn(this),Yt(this);else if(0<Ie.length&&!this.W){this.W=!0;var _r=this.j;_r.g==this&&_r.ba&&!_r.M&&(_r.j.info("Great, no buffering proxy detected. Bytes received: "+Ie.length),iv(_r),_r.M=!0,sr(11))}}else U(this.i,this.l,Ie,null),Ks(this,Ie);vr==4&&bn(this),this.o&&!this.J&&(vr==4?wT(this.j,this):(this.o=!1,Xe(this)))}else p3(this.g),x==400&&0<Ie.indexOf("Unknown SID")?(this.s=3,sr(12)):(this.s=0,sr(13)),bn(this),Yt(this)}}}catch{}finally{}};function we(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Te(d,m){var x=d.C,M=m.indexOf(`
`,x);return M==-1?ye:(x=Number(m.substring(x,M)),isNaN(x)?oe:(M+=1,M+x>m.length?ye:(m=m.slice(M,M+x),d.C=M+x,m)))}ee.prototype.cancel=function(){this.J=!0,bn(this)};function Xe(d){d.S=Date.now()+d.I,jt(d,d.I)}function jt(d,m){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Ua(h(d.ba,d),m)}function Kn(d){d.B&&(a.clearTimeout(d.B),d.B=null)}ee.prototype.ba=function(){this.B=null;let d=Date.now();0<=d-this.S?(O(this.i,this.A),this.L!=2&&(Ba(),sr(17)),bn(this),this.s=2,Yt(this)):jt(this,this.S-d)};function Yt(d){d.j.G==0||d.J||wT(d.j,d)}function bn(d){Kn(d);var m=d.M;m&&typeof m.ma=="function"&&m.ma(),d.M=null,id(d.U),d.g&&(m=d.g,d.g=null,m.abort(),m.ma())}function Ks(d,m){try{var x=d.j;if(x.G!=0&&(x.g==d||J_(x.h,d))){if(!d.K&&J_(x.h,d)&&x.G==3){try{var M=x.Da.g.parse(m)}catch{M=null}if(Array.isArray(M)&&M.length==3){var Q=M;if(Q[0]==0){e:if(!x.u){if(x.g)if(x.g.F+3e3<d.F)Jh(x),Qh(x);else break e;rv(x),sr(18)}}else x.za=Q[1],0<x.za-x.T&&37500>Q[2]&&x.F&&x.v==0&&!x.C&&(x.C=Ua(h(x.Za,x),6e3));if(1>=Ai(x.h)&&x.ca){try{x.ca()}catch{}x.ca=void 0}}else za(x,11)}else if((d.K||x.g==d)&&Jh(x),!V(m))for(Q=x.Da.g.parse(m),m=0;m<Q.length;m++){let Rt=Q[m];if(x.T=Rt[0],Rt=Rt[1],x.G==2)if(Rt[0]=="c"){x.K=Rt[1],x.ia=Rt[2];let _r=Rt[3];_r!=null&&(x.la=_r,x.j.info("VER="+x.la));let vr=Rt[4];vr!=null&&(x.Aa=vr,x.j.info("SVER="+x.Aa));let nl=Rt[5];nl!=null&&typeof nl=="number"&&0<nl&&(M=1.5*nl,x.L=M,x.j.info("backChannelRequestTimeoutMs_="+M)),M=x;let Xi=d.g;if(Xi){let tp=Xi.g?Xi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(tp){var ce=M.h;ce.g||tp.indexOf("spdy")==-1&&tp.indexOf("quic")==-1&&tp.indexOf("h2")==-1||(ce.j=ce.l,ce.g=new Set,ce.h&&(ev(ce,ce.h),ce.h=null))}if(M.D){let sv=Xi.g?Xi.g.getResponseHeader("X-HTTP-Session-Id"):null;sv&&(M.ya=sv,nn(M.I,M.D,sv))}}x.G=3,x.l&&x.l.ua(),x.ba&&(x.R=Date.now()-d.F,x.j.info("Handshake RTT: "+x.R+"ms")),M=x;var Ie=d;if(M.qa=IT(M,M.J?M.ia:null,M.W),Ie.K){eT(M.h,Ie);var Gt=Ie,or=M.L;or&&(Gt.I=or),Gt.B&&(Kn(Gt),Xe(Gt)),M.g=Ie}else xT(M);0<x.i.length&&Zh(x)}else Rt[0]!="stop"&&Rt[0]!="close"||za(x,7);else x.G==3&&(Rt[0]=="stop"||Rt[0]=="close"?Rt[0]=="stop"?za(x,7):nv(x):Rt[0]!="noop"&&x.l&&x.l.ta(Rt),x.v=0)}}Ba(4)}catch{}}var $a=class{constructor(d,m){this.g=d,this.map=m}};function _s(d){this.l=d||10,a.PerformanceNavigationTiming?(d=a.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Jc(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Ai(d){return d.h?1:d.g?d.g.size:0}function J_(d,m){return d.h?d.h==m:d.g?d.g.has(m):!1}function ev(d,m){d.g?d.g.add(m):d.h=m}function eT(d,m){d.h&&d.h==m?d.h=null:d.g&&d.g.has(m)&&d.g.delete(m)}_s.prototype.cancel=function(){if(this.i=tT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let d of this.g.values())d.cancel();this.g.clear()}};function tT(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let m=d.i;for(let x of d.g.values())m=m.concat(x.D);return m}return v(d.i)}function JL(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(c(d)){for(var m=[],x=d.length,M=0;M<x;M++)m.push(d[M]);return m}m=[],x=0;for(M in d)m[x++]=d[M];return m}function e3(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(c(d)||typeof d=="string"){var m=[];d=d.length;for(var x=0;x<d;x++)m.push(x);return m}m=[],x=0;for(let M in d)m[x++]=M;return m}}}function nT(d,m){if(d.forEach&&typeof d.forEach=="function")d.forEach(m,void 0);else if(c(d)||typeof d=="string")Array.prototype.forEach.call(d,m,void 0);else for(var x=e3(d),M=JL(d),Q=M.length,ce=0;ce<Q;ce++)m.call(void 0,M[ce],x&&x[ce],d)}var rT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function t3(d,m){if(d){d=d.split("&");for(var x=0;x<d.length;x++){var M=d[x].indexOf("="),Q=null;if(0<=M){var ce=d[x].substring(0,M);Q=d[x].substring(M+1)}else ce=d[x];m(ce,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function Ha(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Ha){this.h=d.h,qh(this,d.j),this.o=d.o,this.g=d.g,Gh(this,d.s),this.l=d.l;var m=d.i,x=new ud;x.i=m.i,m.g&&(x.g=new Map(m.g),x.h=m.h),iT(this,x),this.m=d.m}else d&&(m=String(d).match(rT))?(this.h=!1,qh(this,m[1]||"",!0),this.o=cd(m[2]||""),this.g=cd(m[3]||"",!0),Gh(this,m[4]),this.l=cd(m[5]||"",!0),iT(this,m[6]||"",!0),this.m=cd(m[7]||"")):(this.h=!1,this.i=new ud(null,this.h))}Ha.prototype.toString=function(){var d=[],m=this.j;m&&d.push(ld(m,sT,!0),":");var x=this.g;return(x||m=="file")&&(d.push("//"),(m=this.o)&&d.push(ld(m,sT,!0),"@"),d.push(encodeURIComponent(String(x)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.s,x!=null&&d.push(":",String(x))),(x=this.l)&&(this.g&&x.charAt(0)!="/"&&d.push("/"),d.push(ld(x,x.charAt(0)=="/"?i3:r3,!0))),(x=this.i.toString())&&d.push("?",x),(x=this.m)&&d.push("#",ld(x,o3)),d.join("")};function Xs(d){return new Ha(d)}function qh(d,m,x){d.j=x?cd(m,!0):m,d.j&&(d.j=d.j.replace(/:$/,""))}function Gh(d,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);d.s=m}else d.s=null}function iT(d,m,x){m instanceof ud?(d.i=m,a3(d.i,d.h)):(x||(m=ld(m,s3)),d.i=new ud(m,d.h))}function nn(d,m,x){d.i.set(m,x)}function Kh(d){return nn(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function cd(d,m){return d?m?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function ld(d,m,x){return typeof d=="string"?(d=encodeURI(d).replace(m,n3),x&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function n3(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var sT=/[#\/\?@]/g,r3=/[#\?:]/g,i3=/[#\?]/g,s3=/[#\?@]/g,o3=/#/g;function ud(d,m){this.h=this.g=null,this.i=d||null,this.j=!!m}function Uo(d){d.g||(d.g=new Map,d.h=0,d.i&&t3(d.i,function(m,x){d.add(decodeURIComponent(m.replace(/\+/g," ")),x)}))}n=ud.prototype,n.add=function(d,m){Uo(this),this.i=null,d=el(this,d);var x=this.g.get(d);return x||this.g.set(d,x=[]),x.push(m),this.h+=1,this};function oT(d,m){Uo(d),m=el(d,m),d.g.has(m)&&(d.i=null,d.h-=d.g.get(m).length,d.g.delete(m))}function aT(d,m){return Uo(d),m=el(d,m),d.g.has(m)}n.forEach=function(d,m){Uo(this),this.g.forEach(function(x,M){x.forEach(function(Q){d.call(m,Q,M,this)},this)},this)},n.na=function(){Uo(this);let d=Array.from(this.g.values()),m=Array.from(this.g.keys()),x=[];for(let M=0;M<m.length;M++){let Q=d[M];for(let ce=0;ce<Q.length;ce++)x.push(m[M])}return x},n.V=function(d){Uo(this);let m=[];if(typeof d=="string")aT(this,d)&&(m=m.concat(this.g.get(el(this,d))));else{d=Array.from(this.g.values());for(let x=0;x<d.length;x++)m=m.concat(d[x])}return m},n.set=function(d,m){return Uo(this),this.i=null,d=el(this,d),aT(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[m]),this.h+=1,this},n.get=function(d,m){return d?(d=this.V(d),0<d.length?String(d[0]):m):m};function cT(d,m,x){oT(d,m),0<x.length&&(d.i=null,d.g.set(el(d,m),v(x)),d.h+=x.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let d=[],m=Array.from(this.g.keys());for(var x=0;x<m.length;x++){var M=m[x];let ce=encodeURIComponent(String(M)),Ie=this.V(M);for(M=0;M<Ie.length;M++){var Q=ce;Ie[M]!==""&&(Q+="="+encodeURIComponent(String(Ie[M]))),d.push(Q)}}return this.i=d.join("&")};function el(d,m){return m=String(m),d.j&&(m=m.toLowerCase()),m}function a3(d,m){m&&!d.j&&(Uo(d),d.i=null,d.g.forEach(function(x,M){var Q=M.toLowerCase();M!=Q&&(oT(this,M),cT(this,Q,x))},d)),d.j=m}function c3(d,m){let x=new ja;if(a.Image){let M=new Image;M.onload=p(jo,x,"TestLoadImage: loaded",!0,m,M),M.onerror=p(jo,x,"TestLoadImage: error",!1,m,M),M.onabort=p(jo,x,"TestLoadImage: abort",!1,m,M),M.ontimeout=p(jo,x,"TestLoadImage: timeout",!1,m,M),a.setTimeout(function(){M.ontimeout&&M.ontimeout()},1e4),M.src=d}else m(!1)}function l3(d,m){let x=new ja,M=new AbortController,Q=setTimeout(()=>{M.abort(),jo(x,"TestPingServer: timeout",!1,m)},1e4);fetch(d,{signal:M.signal}).then(ce=>{clearTimeout(Q),ce.ok?jo(x,"TestPingServer: ok",!0,m):jo(x,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(Q),jo(x,"TestPingServer: error",!1,m)})}function jo(d,m,x,M,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),M(x)}catch{}}function u3(){this.g=new jh}function d3(d,m,x){let M=x||"";try{nT(d,function(Q,ce){let Ie=Q;l(Q)&&(Ie=sd(Q)),m.push(M+ce+"="+encodeURIComponent(Ie))})}catch(Q){throw m.push(M+"type="+encodeURIComponent("_badmap")),Q}}function dd(d){this.l=d.Ub||null,this.j=d.eb||!1}y(dd,Yc),dd.prototype.g=function(){return new Xh(this.l,this.j)},dd.prototype.i=function(d){return function(){return d}}({});function Xh(d,m){vn.call(this),this.D=d,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y(Xh,vn),n=Xh.prototype,n.open=function(d,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=m,this.readyState=1,hd(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(m.body=d),(this.D||a).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,fd(this)),this.readyState=0},n.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,hd(this)),this.g&&(this.readyState=3,hd(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;lT(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function lT(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}n.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var m=d.value?d.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!d.done}))&&(this.response=this.responseText+=m)}d.done?fd(this):hd(this),this.readyState==3&&lT(this)}},n.Ra=function(d){this.g&&(this.response=this.responseText=d,fd(this))},n.Qa=function(d){this.g&&(this.response=d,fd(this))},n.ga=function(){this.g&&fd(this)};function fd(d){d.readyState=4,d.l=null,d.j=null,d.v=null,hd(d)}n.setRequestHeader=function(d,m){this.u.append(d,m)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let d=[],m=this.h.entries();for(var x=m.next();!x.done;)x=x.value,d.push(x[0]+": "+x[1]),x=m.next();return d.join(`\r
`)};function hd(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Xh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function uT(d){let m="";return G(d,function(x,M){m+=M,m+=":",m+=x,m+=`\r
`}),m}function tv(d,m,x){e:{for(M in x){var M=!1;break e}M=!0}M||(x=uT(x),typeof d=="string"?x!=null&&encodeURIComponent(String(x)):nn(d,m,x))}function yn(d){vn.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(yn,vn);var f3=/^https?$/i,h3=["POST","PUT"];n=yn.prototype,n.Ha=function(d){this.J=d},n.ea=function(d,m,x,M){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);m=m?m.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():te.g(),this.v=this.o?od(this.o):od(te),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(m,String(d),!0),this.B=!1}catch(ce){dT(this,ce);return}if(d=x||"",x=new Map(this.headers),M)if(Object.getPrototypeOf(M)===Object.prototype)for(var Q in M)x.set(Q,M[Q]);else if(typeof M.keys=="function"&&typeof M.get=="function")for(let ce of M.keys())x.set(ce,M.get(ce));else throw Error("Unknown input type for opt_headers: "+String(M));M=Array.from(x.keys()).find(ce=>ce.toLowerCase()=="content-type"),Q=a.FormData&&d instanceof a.FormData,!(0<=Array.prototype.indexOf.call(h3,m,void 0))||M||Q||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[ce,Ie]of x)this.g.setRequestHeader(ce,Ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{pT(this),this.u=!0,this.g.send(d),this.u=!1}catch(ce){dT(this,ce)}};function dT(d,m){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=m,d.m=5,fT(d),Yh(d)}function fT(d){d.A||(d.A=!0,Ot(d,"complete"),Ot(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Ot(this,"complete"),Ot(this,"abort"),Yh(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yh(this,!0)),yn.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?hT(this):this.bb())},n.bb=function(){hT(this)};function hT(d){if(d.h&&typeof o<"u"&&(!d.v[1]||Ys(d)!=4||d.Z()!=2)){if(d.u&&Ys(d)==4)ot(d.Ea,0,d);else if(Ot(d,"readystatechange"),Ys(d)==4){d.h=!1;try{let Ie=d.Z();e:switch(Ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var x;if(!(x=m)){var M;if(M=Ie===0){var Q=String(d.D).match(rT)[1]||null;!Q&&a.self&&a.self.location&&(Q=a.self.location.protocol.slice(0,-1)),M=!f3.test(Q?Q.toLowerCase():"")}x=M}if(x)Ot(d,"complete"),Ot(d,"success");else{d.m=6;try{var ce=2<Ys(d)?d.g.statusText:""}catch{ce=""}d.l=ce+" ["+d.Z()+"]",fT(d)}}finally{Yh(d)}}}}function Yh(d,m){if(d.g){pT(d);let x=d.g,M=d.v[0]?()=>{}:null;d.g=null,d.v=null,m||Ot(d,"ready");try{x.onreadystatechange=M}catch{}}}function pT(d){d.I&&(a.clearTimeout(d.I),d.I=null)}n.isActive=function(){return!!this.g};function Ys(d){return d.g?d.g.readyState:0}n.Z=function(){try{return 2<Ys(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(d){if(this.g){var m=this.g.responseText;return d&&m.indexOf(d)==0&&(m=m.substring(d.length)),Q_(m)}};function mT(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function p3(d){let m={};d=(d.g&&2<=Ys(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let M=0;M<d.length;M++){if(V(d[M]))continue;var x=P(d[M]);let Q=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();let ce=m[Q]||[];m[Q]=ce,ce.push(x)}b(m,function(M){return M.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function pd(d,m,x){return x&&x.internalChannelParams&&x.internalChannelParams[d]||m}function gT(d){this.Aa=0,this.i=[],this.j=new ja,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=pd("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=pd("baseRetryDelayMs",5e3,d),this.cb=pd("retryDelaySeedMs",1e4,d),this.Wa=pd("forwardChannelMaxRetries",2,d),this.wa=pd("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new _s(d&&d.concurrentRequestLimit),this.Da=new u3,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=gT.prototype,n.la=8,n.G=1,n.connect=function(d,m,x,M){sr(0),this.W=d,this.H=m||{},x&&M!==void 0&&(this.H.OSID=x,this.H.OAID=M),this.F=this.X,this.I=IT(this,null,this.W),Zh(this)};function nv(d){if(_T(d),d.G==3){var m=d.U++,x=Xs(d.I);if(nn(x,"SID",d.K),nn(x,"RID",m),nn(x,"TYPE","terminate"),md(d,x),m=new ee(d,d.j,m),m.L=2,m.v=Kh(Xs(x)),x=!1,a.navigator&&a.navigator.sendBeacon)try{x=a.navigator.sendBeacon(m.v.toString(),"")}catch{}!x&&a.Image&&(new Image().src=m.v,x=!0),x||(m.g=TT(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Xe(m)}bT(d)}function Qh(d){d.g&&(iv(d),d.g.cancel(),d.g=null)}function _T(d){Qh(d),d.u&&(a.clearTimeout(d.u),d.u=null),Jh(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&a.clearTimeout(d.s),d.s=null)}function Zh(d){if(!Jc(d.h)&&!d.s){d.s=!0;var m=d.Ga;Ne||Be(),ft||(Ne(),ft=!0),ke.add(m,d),d.B=0}}function m3(d,m){return Ai(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=m.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Ua(h(d.Ga,d,m),CT(d,d.B)),d.B++,!0)}n.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;let Q=new ee(this,this.j,d),ce=this.o;if(this.S&&(ce?(ce=I(ce),R(ce,this.S)):ce=this.S),this.m!==null||this.O||(Q.H=ce,ce=null),this.P)e:{for(var m=0,x=0;x<this.i.length;x++){t:{var M=this.i[x];if("__data__"in M.map&&(M=M.map.__data__,typeof M=="string")){M=M.length;break t}M=void 0}if(M===void 0)break;if(m+=M,4096<m){m=x;break e}if(m===4096||x===this.i.length-1){m=x+1;break e}}m=1e3}else m=1e3;m=yT(this,Q,m),x=Xs(this.I),nn(x,"RID",d),nn(x,"CVER",22),this.D&&nn(x,"X-HTTP-Session-Id",this.D),md(this,x),ce&&(this.O?m="headers="+encodeURIComponent(String(uT(ce)))+"&"+m:this.m&&tv(x,this.m,ce)),ev(this.h,Q),this.Ua&&nn(x,"TYPE","init"),this.P?(nn(x,"$req",m),nn(x,"SID","null"),Q.T=!0,Ee(Q,x,null)):Ee(Q,x,m),this.G=2}}else this.G==3&&(d?vT(this,d):this.i.length==0||Jc(this.h)||vT(this))};function vT(d,m){var x;m?x=m.l:x=d.U++;let M=Xs(d.I);nn(M,"SID",d.K),nn(M,"RID",x),nn(M,"AID",d.T),md(d,M),d.m&&d.o&&tv(M,d.m,d.o),x=new ee(d,d.j,x,d.B+1),d.m===null&&(x.H=d.o),m&&(d.i=m.D.concat(d.i)),m=yT(d,x,1e3),x.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),ev(d.h,x),Ee(x,M,m)}function md(d,m){d.H&&G(d.H,function(x,M){nn(m,M,x)}),d.l&&nT({},function(x,M){nn(m,M,x)})}function yT(d,m,x){x=Math.min(d.i.length,x);var M=d.l?h(d.l.Na,d.l,d):null;e:{var Q=d.i;let ce=-1;for(;;){let Ie=["count="+x];ce==-1?0<x?(ce=Q[0].g,Ie.push("ofs="+ce)):ce=0:Ie.push("ofs="+ce);let Gt=!0;for(let or=0;or<x;or++){let Rt=Q[or].g,_r=Q[or].map;if(Rt-=ce,0>Rt)ce=Math.max(0,Q[or].g-100),Gt=!1;else try{d3(_r,Ie,"req"+Rt+"_")}catch{M&&M(_r)}}if(Gt){M=Ie.join("&");break e}}}return d=d.i.splice(0,x),m.D=d,M}function xT(d){if(!d.g&&!d.u){d.Y=1;var m=d.Fa;Ne||Be(),ft||(Ne(),ft=!0),ke.add(m,d),d.v=0}}function rv(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Ua(h(d.Fa,d),CT(d,d.v)),d.v++,!0)}n.Fa=function(){if(this.u=null,ET(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Ua(h(this.ab,this),d)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,sr(10),Qh(this),ET(this))};function iv(d){d.A!=null&&(a.clearTimeout(d.A),d.A=null)}function ET(d){d.g=new ee(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var m=Xs(d.qa);nn(m,"RID","rpc"),nn(m,"SID",d.K),nn(m,"AID",d.T),nn(m,"CI",d.F?"0":"1"),!d.F&&d.ja&&nn(m,"TO",d.ja),nn(m,"TYPE","xmlhttp"),md(d,m),d.m&&d.o&&tv(m,d.m,d.o),d.L&&(d.g.I=d.L);var x=d.g;d=d.ia,x.L=1,x.v=Kh(Xs(m)),x.m=null,x.P=!0,Le(x,d)}n.Za=function(){this.C!=null&&(this.C=null,Qh(this),rv(this),sr(19))};function Jh(d){d.C!=null&&(a.clearTimeout(d.C),d.C=null)}function wT(d,m){var x=null;if(d.g==m){Jh(d),iv(d),d.g=null;var M=2}else if(J_(d.h,m))x=m.D,eT(d.h,m),M=1;else return;if(d.G!=0){if(m.o)if(M==1){x=m.m?m.m.length:0,m=Date.now()-m.F;var Q=d.B;M=Qc(),Ot(M,new Zc(M,x)),Zh(d)}else xT(d);else if(Q=m.s,Q==3||Q==0&&0<m.X||!(M==1&&m3(d,m)||M==2&&rv(d)))switch(x&&0<x.length&&(m=d.h,m.i=m.i.concat(x)),Q){case 1:za(d,5);break;case 4:za(d,10);break;case 3:za(d,6);break;default:za(d,2)}}}function CT(d,m){let x=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(x*=2),x*m}function za(d,m){if(d.j.info("Error code "+m),m==2){var x=h(d.fb,d),M=d.Xa;let Q=!M;M=new Ha(M||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||qh(M,"https"),Kh(M),Q?c3(M.toString(),x):l3(M.toString(),x)}else sr(2);d.G=0,d.l&&d.l.sa(m),bT(d),_T(d)}n.fb=function(d){d?(this.j.info("Successfully pinged google.com"),sr(2)):(this.j.info("Failed to ping google.com"),sr(1))};function bT(d){if(d.G=0,d.ka=[],d.l){let m=tT(d.h);(m.length!=0||d.i.length!=0)&&(w(d.ka,m),w(d.ka,d.i),d.h.i.length=0,v(d.i),d.i.length=0),d.l.ra()}}function IT(d,m,x){var M=x instanceof Ha?Xs(x):new Ha(x);if(M.g!="")m&&(M.g=m+"."+M.g),Gh(M,M.s);else{var Q=a.location;M=Q.protocol,m=m?m+"."+Q.hostname:Q.hostname,Q=+Q.port;var ce=new Ha(null);M&&qh(ce,M),m&&(ce.g=m),Q&&Gh(ce,Q),x&&(ce.l=x),M=ce}return x=d.D,m=d.ya,x&&m&&nn(M,x,m),nn(M,"VER",d.la),md(d,M),M}function TT(d,m,x){if(m&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=d.Ca&&!d.pa?new yn(new dd({eb:x})):new yn(d.pa),m.Ha(d.J),m}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function ST(){}n=ST.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function ep(){}ep.prototype.g=function(d,m){return new hi(d,m)};function hi(d,m){vn.call(this),this.g=new gT(m),this.l=d,this.h=m&&m.messageUrlParams||null,d=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(d?d["X-WebChannel-Content-Type"]=m.messageContentType:d={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(d?d["X-WebChannel-Client-Profile"]=m.va:d={"X-WebChannel-Client-Profile":m.va}),this.g.S=d,(d=m&&m.Sb)&&!V(d)&&(this.g.m=d),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!V(m)&&(this.g.D=m,d=this.h,d!==null&&m in d&&(d=this.h,m in d&&delete d[m])),this.j=new tl(this)}y(hi,vn),hi.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},hi.prototype.close=function(){nv(this.g)},hi.prototype.o=function(d){var m=this.g;if(typeof d=="string"){var x={};x.__data__=d,d=x}else this.u&&(x={},x.__data__=sd(d),d=x);m.i.push(new $a(m.Ya++,d)),m.G==3&&Zh(m)},hi.prototype.N=function(){this.g.l=null,delete this.j,nv(this.g),delete this.g,hi.aa.N.call(this)};function DT(d){Bo.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var m=d.__sm__;if(m){e:{for(let x in m){d=x;break e}d=void 0}(this.i=d)&&(d=this.i,m=m!==null&&d in m?m[d]:void 0),this.data=m}else this.data=d}y(DT,Bo);function kT(){ad.call(this),this.status=1}y(kT,ad);function tl(d){this.g=d}y(tl,ST),tl.prototype.ua=function(){Ot(this.g,"a")},tl.prototype.ta=function(d){Ot(this.g,new DT(d))},tl.prototype.sa=function(d){Ot(this.g,new kT)},tl.prototype.ra=function(){Ot(this.g,"b")},ep.prototype.createWebChannel=ep.prototype.g,hi.prototype.send=hi.prototype.o,hi.prototype.open=hi.prototype.m,hi.prototype.close=hi.prototype.close,AE=wo.createWebChannelTransport=function(){return new ep},kE=wo.getStatEventTarget=function(){return Qc()},DE=wo.Event=Gs,Dm=wo.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},j.NO_ERROR=0,j.TIMEOUT=8,j.HTTP_ERROR=6,af=wo.ErrorCode=j,H.COMPLETE="complete",SE=wo.EventType=H,$h.EventType=Va,Va.OPEN="a",Va.CLOSE="b",Va.ERROR="c",Va.MESSAGE="d",vn.prototype.listen=vn.prototype.K,Kl=wo.WebChannel=$h,EH=wo.FetchXmlHttpFactory=dd,yn.prototype.listenOnce=yn.prototype.L,yn.prototype.getLastError=yn.prototype.Ka,yn.prototype.getLastErrorCode=yn.prototype.Ba,yn.prototype.getStatus=yn.prototype.Z,yn.prototype.getResponseJson=yn.prototype.Oa,yn.prototype.getResponseText=yn.prototype.oa,yn.prototype.send=yn.prototype.ea,yn.prototype.setWithCredentials=yn.prototype.Ha,TE=wo.XhrIo=yn}).apply(typeof Sm<"u"?Sm:typeof self<"u"?self:typeof window<"u"?window:{});var QM="@firebase/firestore",ZM="4.7.9";var Qn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Qn.UNAUTHENTICATED=new Qn(null),Qn.GOOGLE_CREDENTIALS=new Qn("google-credentials-uid"),Qn.FIRST_PARTY=new Qn("first-party-uid"),Qn.MOCK_USER=new Qn("mock-user");var yu="11.4.0";var wc=new Ss("@firebase/firestore");function Xl(){return wc.logLevel}function Fe(n,...e){if(wc.logLevel<=yt.DEBUG){let t=e.map(yC);wc.debug(`Firestore (${yu}): ${n}`,...t)}}function Co(n,...e){if(wc.logLevel<=yt.ERROR){let t=e.map(yC);wc.error(`Firestore (${yu}): ${n}`,...t)}}function nu(n,...e){if(wc.logLevel<=yt.WARN){let t=e.map(yC);wc.warn(`Firestore (${yu}): ${n}`,...t)}}function yC(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function He(n="Unexpected state"){let e=`FIRESTORE (${yu}) INTERNAL ASSERTION FAILED: `+n;throw Co(e),new Error(e)}function St(n,e){n||He()}function et(n,e){return n}var de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Pe=class extends Wr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Bi=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Nm=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},OE=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Qn.UNAUTHENTICATED))}shutdown(){}},NE=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},FE=class{constructor(e){this.t=e,this.currentUser=Qn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){St(this.o===void 0);let r=this.i,i=c=>this.i!==r?(r=this.i,t(c)):Promise.resolve(),s=new Bi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Bi,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let c=s;e.enqueueRetryable(()=>B(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{Fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(Fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Bi)}},0),o()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(St(typeof r.accessToken=="string"),new Nm(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return St(e===null||typeof e=="string"),new Qn(e)}},LE=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Qn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);let e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}},VE=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new LE(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Qn.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Fm=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},BE=class{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Ir(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){St(this.o===void 0);let r=s=>{s.error!=null&&Fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,Fe("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{Fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):Fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Fm(this.V));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(St(typeof t.token=="string"),this.R=t.token,new Fm(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function wH(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}var Lm=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=wH(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%62))}return r}};function wt(n,e){return n<e?-1:n>e?1:0}function ru(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var JM=-62135596800,eR=1e6,ur=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*eR);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Pe(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Pe(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<JM)throw new Pe(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Pe(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/eR}_compareTo(e){return this.seconds===e.seconds?wt(this.nanoseconds,e.nanoseconds):wt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds-JM;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var Je=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new ur(0,0))}static max(){return new n(new ur(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var tR="__name__",Vm=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&He(),r===void 0?r=e.length-t:r>e.length-t&&He(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let s=n.compareSegments(e.get(i),t.get(i));if(s!==0)return s}return Math.sign(e.length-t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Eo.fromString(e.substring(4,e.length-2))}},on=class n extends Vm{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new Pe(de.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},CH=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ei=class n extends Vm{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return CH.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===tR}static keyField(){return new n([tR])}static fromServerFormat(e){let t=[],r="",i=0,s=()=>{if(r.length===0)throw new Pe(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new Pe(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Pe(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Pe(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var ze=class n{constructor(e){this.path=e}static fromPath(e){return new n(on.fromString(e))}static fromName(e){return new n(on.fromString(e).popFirst(5))}static empty(){return new n(on.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&on.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return on.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new on(e.slice()))}};var mf=-1,UE=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};UE.UNKNOWN_ID=-1;function bH(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Je.fromTimestamp(r===1e9?new ur(t+1,0):new ur(t,r));return new Cc(i,ze.empty(),e)}function IH(n){return new Cc(n.readTime,n.key,mf)}var Cc=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(Je.min(),ze.empty(),mf)}static max(){return new n(Je.max(),ze.empty(),mf)}};function TH(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ze.comparator(n.documentKey,e.documentKey),t!==0?t:wt(n.largestBatchId,e.largestBatchId))}var SH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",jE=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function xu(n){return B(this,null,function*(){if(n.code!==de.FAILED_PRECONDITION||n.message!==SH)throw n;Fe("LocalStore","Unexpectedly lost primary lease")})}var ve=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&He(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},c=>r(c))}),o=!0,s===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let c=0;c<s;c++){let l=c;t(e[l]).next(u=>{o[l]=u,++a,a===s&&r(o)},u=>i(u))}})}static doWhile(e,t){return new n((r,i)=>{let s=()=>{e()===!0?t().next(()=>{s()},i):r()};s()})}};function DH(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Eu(n){return n.name==="IndexedDbTransactionError"}var xC=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.oe(i),this._e=i=>r.writeSequenceNumber(i))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this._e&&this._e(t),t}}n.ae=-1;return n})(),EC=-1;function Af(n){return n==null}function gf(n){return n===0&&1/n==-1/0}function kH(n){return typeof n=="number"&&Number.isInteger(n)&&!gf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var $R="";function AH(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=nR(e)),e=MH(n.get(t),e);return nR(e)}function MH(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let s=n.charAt(i);switch(s){case"\0":t+="";break;case $R:t+="";break;default:t+=s}}return t}function nR(n){return n+$R+""}var RH="remoteDocuments",HR="owner";var zR="mutationQueues";var WR="mutations";var qR="documentMutations",PH="remoteDocumentsV14";var GR="remoteDocumentGlobal";var KR="targets";var XR="targetDocuments";var YR="targetGlobal",QR="collectionParents";var ZR="clientMetadata";var JR="bundles";var eP="namedQueries";var OH="indexConfiguration";var NH="indexState";var FH="indexEntries";var tP="documentOverlays";var LH="globals";var VH=[zR,WR,qR,RH,KR,HR,YR,XR,ZR,GR,QR,JR,eP],Pge=[...VH,tP],BH=[zR,WR,qR,PH,KR,HR,YR,XR,ZR,GR,QR,JR,eP,tP],UH=BH,jH=[...UH,OH,NH,FH];var Oge=[...jH,LH];function rR(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ca(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function nP(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var En=class n{constructor(e,t){this.comparator=e,this.root=t||Os.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Os.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Os.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Jl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Jl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Jl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Jl(this.root,e,this.comparator,!0)}},Jl=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Os=class n{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=s??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new n(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw He();let e=this.left.check();if(e!==this.right.check())throw He();return e+(this.isRed()?0:1)}};Os.EMPTY=null,Os.RED=!0,Os.BLACK=!1;Os.EMPTY=new class{constructor(){this.size=0}get key(){throw He()}get value(){throw He()}get color(){throw He()}get left(){throw He()}get right(){throw He()}copy(e,t,r,i,s){return this}insert(e,t,r){return new Os(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Zn=class n{constructor(e){this.comparator=e,this.data=new En(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Bm(this.data.getIterator())}getIteratorFrom(e){return new Bm(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},Bm=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Vi=class n{constructor(e){this.fields=e,e.sort(Ei.comparator)}static empty(){return new n([])}unionWith(e){let t=new Zn(Ei.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ru(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var Um=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Dr=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Um("Invalid base64 string: "+s):s}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return wt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Dr.EMPTY_BYTE_STRING=new Dr("");var $H=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bo(n){if(St(!!n),typeof n=="string"){let e=0,t=$H.exec(n);if(St(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:dn(n.seconds),nanos:dn(n.nanos)}}function dn(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Io(n){return typeof n=="string"?Dr.fromBase64String(n):Dr.fromUint8Array(n)}var rP="server_timestamp",iP="__type__",sP="__previous_value__",oP="__local_write_time__";function wC(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[iP])===null||t===void 0?void 0:t.stringValue)===rP}function yg(n){let e=n.mapValue.fields[sP];return wC(e)?yg(e):e}function _f(n){let e=bo(n.mapValue.fields[oP].timestampValue);return new ur(e.seconds,e.nanos)}var $E=class{constructor(e,t,r,i,s,o,a,c,l){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}},jm="(default)",$m=class n{constructor(e,t){this.projectId=e,this.database=t||jm}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===jm}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var CC="__type__",aP="__max__",km={mapValue:{fields:{__type__:{stringValue:aP}}}},bC="__vector__",iu="value";function va(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?wC(n)?4:lP(n)?9007199254740991:cP(n)?10:11:He()}function Fs(n,e){if(n===e)return!0;let t=va(n);if(t!==va(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return _f(n).isEqual(_f(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=bo(i.timestampValue),a=bo(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,s){return Io(i.bytesValue).isEqual(Io(s.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,s){return dn(i.geoPointValue.latitude)===dn(s.geoPointValue.latitude)&&dn(i.geoPointValue.longitude)===dn(s.geoPointValue.longitude)}(n,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return dn(i.integerValue)===dn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=dn(i.doubleValue),a=dn(s.doubleValue);return o===a?gf(o)===gf(a):isNaN(o)&&isNaN(a)}return!1}(n,e);case 9:return ru(n.arrayValue.values||[],e.arrayValue.values||[],Fs);case 10:case 11:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(rR(o)!==rR(a))return!1;for(let c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!Fs(o[c],a[c])))return!1;return!0}(n,e);default:return He()}}function vf(n,e){return(n.values||[]).find(t=>Fs(t,e))!==void 0}function su(n,e){if(n===e)return 0;let t=va(n),r=va(e);if(t!==r)return wt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return wt(n.booleanValue,e.booleanValue);case 2:return function(s,o){let a=dn(s.integerValue||s.doubleValue),c=dn(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(n,e);case 3:return iR(n.timestampValue,e.timestampValue);case 4:return iR(_f(n),_f(e));case 5:return wt(n.stringValue,e.stringValue);case 6:return function(s,o){let a=Io(s),c=Io(o);return a.compareTo(c)}(n.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),c=o.split("/");for(let l=0;l<a.length&&l<c.length;l++){let u=wt(a[l],c[l]);if(u!==0)return u}return wt(a.length,c.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,o){let a=wt(dn(s.latitude),dn(o.latitude));return a!==0?a:wt(dn(s.longitude),dn(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return sR(n.arrayValue,e.arrayValue);case 10:return function(s,o){var a,c,l,u;let f=s.fields||{},h=o.fields||{},p=(a=f[iu])===null||a===void 0?void 0:a.arrayValue,y=(c=h[iu])===null||c===void 0?void 0:c.arrayValue,v=wt(((l=p?.values)===null||l===void 0?void 0:l.length)||0,((u=y?.values)===null||u===void 0?void 0:u.length)||0);return v!==0?v:sR(p,y)}(n.mapValue,e.mapValue);case 11:return function(s,o){if(s===km.mapValue&&o===km.mapValue)return 0;if(s===km.mapValue)return 1;if(o===km.mapValue)return-1;let a=s.fields||{},c=Object.keys(a),l=o.fields||{},u=Object.keys(l);c.sort(),u.sort();for(let f=0;f<c.length&&f<u.length;++f){let h=wt(c[f],u[f]);if(h!==0)return h;let p=su(a[c[f]],l[u[f]]);if(p!==0)return p}return wt(c.length,u.length)}(n.mapValue,e.mapValue);default:throw He()}}function iR(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return wt(n,e);let t=bo(n),r=bo(e),i=wt(t.seconds,r.seconds);return i!==0?i:wt(t.nanos,r.nanos)}function sR(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let s=su(t[i],r[i]);if(s)return s}return wt(t.length,r.length)}function ou(n){return HE(n)}function HE(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=bo(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Io(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ze.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let s of t.values||[])i?i=!1:r+=",",r+=HE(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${HE(t.fields[o])}`;return i+"}"}(n.mapValue):He()}function Rm(n){switch(va(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=yg(n);return e?16+Rm(e):16;case 5:return 2*n.stringValue.length;case 6:return Io(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+Rm(s),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return Ca(r.fields,(s,o)=>{i+=s.length+Rm(o)}),i}(n.mapValue);default:throw He()}}function oR(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function zE(n){return!!n&&"integerValue"in n}function IC(n){return!!n&&"arrayValue"in n}function aR(n){return!!n&&"nullValue"in n}function cR(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Pm(n){return!!n&&"mapValue"in n}function cP(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[CC])===null||t===void 0?void 0:t.stringValue)===bC}function uf(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return Ca(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=uf(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=uf(n.arrayValue.values[t]);return e}return Object.assign({},n)}function lP(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===aP}var Fge={mapValue:{fields:{[CC]:{stringValue:bC},[iu]:{arrayValue:{}}}}};var oi=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Pm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=uf(t)}setAll(e){let t=Ei.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){let c=this.getFieldsMap(t);this.applyChanges(c,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=uf(o):i.push(a.lastSegment())});let s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){let t=this.field(e.popLast());Pm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Fs(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Pm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Ca(t,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new n(uf(this.value))}};function uP(n){let e=[];return Ca(n.fields,(t,r)=>{let i=new Ei([t]);if(Pm(r)){let s=uP(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new Vi(e)}var bi=class n{constructor(e,t,r,i,s,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new n(e,0,Je.min(),Je.min(),Je.min(),oi.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,Je.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,Je.min(),Je.min(),oi.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,Je.min(),Je.min(),oi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Je.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=oi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=oi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Je.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var au=class{constructor(e,t){this.position=e,this.inclusive=t}};function lR(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let s=e[i],o=n.position[i];if(s.field.isKeyField()?r=ze.comparator(ze.fromName(o.referenceValue),t.key):r=su(o,t.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function uR(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Fs(n.position[t],e.position[t]))return!1;return!0}var cu=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function HH(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var Hm=class{},Nn=class n extends Hm{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new qE(e,t,r):t==="array-contains"?new XE(e,r):t==="in"?new YE(e,r):t==="not-in"?new QE(e,r):t==="array-contains-any"?new ZE(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new GE(e,r):new KE(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(su(t,this.value)):t!==null&&va(this.value)===va(t)&&this.matchesComparison(su(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return He()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},ss=class n extends Hm{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new n(e,t)}matches(e){return dP(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}};function dP(n){return n.op==="and"}function fP(n){return zH(n)&&dP(n)}function zH(n){for(let e of n.filters)if(e instanceof ss)return!1;return!0}function WE(n){if(n instanceof Nn)return n.field.canonicalString()+n.op.toString()+ou(n.value);if(fP(n))return n.filters.map(e=>WE(e)).join(",");{let e=n.filters.map(t=>WE(t)).join(",");return`${n.op}(${e})`}}function hP(n,e){return n instanceof Nn?function(r,i){return i instanceof Nn&&r.op===i.op&&r.field.isEqual(i.field)&&Fs(r.value,i.value)}(n,e):n instanceof ss?function(r,i){return i instanceof ss&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&hP(o,i.filters[a]),!0):!1}(n,e):void He()}function pP(n){return n instanceof Nn?function(t){return`${t.field.canonicalString()} ${t.op} ${ou(t.value)}`}(n):n instanceof ss?function(t){return t.op.toString()+" {"+t.getFilters().map(pP).join(" ,")+"}"}(n):"Filter"}var qE=class extends Nn{constructor(e,t,r){super(e,t,r),this.key=ze.fromName(r.referenceValue)}matches(e){let t=ze.comparator(e.key,this.key);return this.matchesComparison(t)}},GE=class extends Nn{constructor(e,t){super(e,"in",t),this.keys=mP("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},KE=class extends Nn{constructor(e,t){super(e,"not-in",t),this.keys=mP("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function mP(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>ze.fromName(r.referenceValue))}var XE=class extends Nn{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return IC(t)&&vf(t.arrayValue,this.value)}},YE=class extends Nn{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&vf(this.value.arrayValue,t)}},QE=class extends Nn{constructor(e,t){super(e,"not-in",t)}matches(e){if(vf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!vf(this.value.arrayValue,t)}},ZE=class extends Nn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!IC(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>vf(this.value.arrayValue,r))}};var JE=class{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.le=null}};function dR(n,e=null,t=[],r=[],i=null,s=null,o=null){return new JE(n,e,t,r,i,s,o)}function TC(n){let e=et(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>WE(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Af(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>ou(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>ou(r)).join(",")),e.le=t}return e.le}function SC(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!HH(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!hP(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!uR(n.startAt,e.startAt)&&uR(n.endAt,e.endAt)}function ew(n){return ze.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var bc=class{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}};function WH(n,e,t,r,i,s,o,a){return new bc(n,e,t,r,i,s,o,a)}function xg(n){return new bc(n)}function fR(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function gP(n){return n.collectionGroup!==null}function df(n){let e=et(n);if(e.he===null){e.he=[];let t=new Set;for(let s of e.explicitOrderBy)e.he.push(s),t.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Zn(Ei.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.he.push(new cu(s,r))}),t.has(Ei.keyField().canonicalString())||e.he.push(new cu(Ei.keyField(),r))}return e.he}function Ns(n){let e=et(n);return e.Pe||(e.Pe=qH(e,df(n))),e.Pe}function qH(n,e){if(n.limitType==="F")return dR(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new cu(i.field,s)});let t=n.endAt?new au(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new au(n.startAt.position,n.startAt.inclusive):null;return dR(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function tw(n,e){let t=n.filters.concat([e]);return new bc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function nw(n,e,t){return new bc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Eg(n,e){return SC(Ns(n),Ns(e))&&n.limitType===e.limitType}function _P(n){return`${TC(Ns(n))}|lt:${n.limitType}`}function Yl(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>pP(i)).join(", ")}]`),Af(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>ou(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>ou(i)).join(",")),`Target(${r})`}(Ns(n))}; limitType=${n.limitType})`}function wg(n,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ze.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,e)&&function(r,i){for(let s of df(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(o,a,c){let l=lR(o,a,c);return o.inclusive?l<=0:l<0}(r.startAt,df(r),i)||r.endAt&&!function(o,a,c){let l=lR(o,a,c);return o.inclusive?l>=0:l>0}(r.endAt,df(r),i))}(n,e)}function GH(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function vP(n){return(e,t)=>{let r=!1;for(let i of df(n)){let s=KH(i,e,t);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function KH(n,e,t){let r=n.field.isKeyField()?ze.comparator(e.key,t.key):function(s,o,a){let c=o.data.field(s),l=a.data.field(s);return c!==null&&l!==null?su(c,l):He()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return He()}}var To=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ca(this.inner,(t,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return nP(this.inner)}size(){return this.innerSize}};var XH=new En(ze.comparator);function So(){return XH}var yP=new En(ze.comparator);function cf(...n){let e=yP;for(let t of n)e=e.insert(t.key,t);return e}function xP(n){let e=yP;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function xc(){return ff()}function EP(){return ff()}function ff(){return new To(n=>n.toString(),(n,e)=>n.isEqual(e))}var YH=new En(ze.comparator),QH=new Zn(ze.comparator);function Et(...n){let e=QH;for(let t of n)e=e.add(t);return e}var ZH=new Zn(wt);function JH(){return ZH}function DC(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gf(e)?"-0":e}}function wP(n){return{integerValue:""+n}}function ez(n,e){return kH(e)?wP(e):DC(n,e)}var lu=class{constructor(){this._=void 0}};function tz(n,e,t){return n instanceof uu?function(i,s){let o={fields:{[iP]:{stringValue:rP},[oP]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&wC(s)&&(s=yg(s)),s&&(o.fields[sP]=s),{mapValue:o}}(t,e):n instanceof ya?bP(n,e):n instanceof xa?IP(n,e):function(i,s){let o=CP(i,s),a=hR(o)+hR(i.Ie);return zE(o)&&zE(i.Ie)?wP(a):DC(i.serializer,a)}(n,e)}function nz(n,e,t){return n instanceof ya?bP(n,e):n instanceof xa?IP(n,e):t}function CP(n,e){return n instanceof du?function(r){return zE(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var uu=class extends lu{},ya=class extends lu{constructor(e){super(),this.elements=e}};function bP(n,e){let t=TP(e);for(let r of n.elements)t.some(i=>Fs(i,r))||t.push(r);return{arrayValue:{values:t}}}var xa=class extends lu{constructor(e){super(),this.elements=e}};function IP(n,e){let t=TP(e);for(let r of n.elements)t=t.filter(i=>!Fs(i,r));return{arrayValue:{values:t}}}var du=class extends lu{constructor(e,t){super(),this.serializer=e,this.Ie=t}};function hR(n){return dn(n.integerValue||n.doubleValue)}function TP(n){return IC(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}var zm=class{constructor(e,t){this.field=e,this.transform=t}};function rz(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof ya&&i instanceof ya||r instanceof xa&&i instanceof xa?ru(r.elements,i.elements,Fs):r instanceof du&&i instanceof du?Fs(r.Ie,i.Ie):r instanceof uu&&i instanceof uu}(n.transform,e.transform)}var rw=class{constructor(e,t){this.version=e,this.transformResults=t}},ai=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Om(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var fu=class{};function SP(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new hu(n.key,ai.none()):new Ic(n.key,n.data,ai.none());{let t=n.data,r=oi.empty(),i=new Zn(Ei.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);o===null&&s.length>1&&(s=s.popLast(),o=t.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Ls(n.key,r,new Vi(i.toArray()),ai.none())}}function iz(n,e,t){n instanceof Ic?function(i,s,o){let a=i.value.clone(),c=mR(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,e,t):n instanceof Ls?function(i,s,o){if(!Om(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=mR(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(DP(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(n,e,t):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,t)}function hf(n,e,t,r){return n instanceof Ic?function(s,o,a,c){if(!Om(s.precondition,o))return a;let l=s.value.clone(),u=gR(s.fieldTransforms,c,o);return l.setAll(u),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(n,e,t,r):n instanceof Ls?function(s,o,a,c){if(!Om(s.precondition,o))return a;let l=gR(s.fieldTransforms,c,o),u=o.data;return u.setAll(DP(s)),u.setAll(l),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(n,e,t,r):function(s,o,a){return Om(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(n,e,t)}function sz(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),s=CP(r.transform,i||null);s!=null&&(t===null&&(t=oi.empty()),t.set(r.field,s))}return t||null}function pR(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ru(r,i,(s,o)=>rz(s,o))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Ic=class extends fu{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Ls=class extends fu{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function DP(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function mR(n,e,t){let r=new Map;St(n.length===t.length);for(let i=0;i<t.length;i++){let s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,nz(o,a,t[i]))}return r}function gR(n,e,t){let r=new Map;for(let i of n){let s=i.transform,o=t.data.field(i.field);r.set(i.field,tz(s,o,e))}return r}var hu=class extends fu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Wm=class extends fu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var iw=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&iz(s,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=hf(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=hf(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=EP();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;let c=SP(o,a);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(Je.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Et())}isEqual(e){return this.batchId===e.batchId&&ru(this.mutations,e.mutations,(t,r)=>pR(t,r))&&ru(this.baseMutations,e.baseMutations,(t,r)=>pR(t,r))}},sw=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){St(e.mutations.length===r.length);let i=function(){return YH}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new n(e,t,r,i)}};var ow=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var aw=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Pn,Tt;function kP(n){switch(n){case de.OK:return He();case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0;default:return He()}}function AP(n){if(n===void 0)return Co("GRPC error has no .code"),de.UNKNOWN;switch(n){case Pn.OK:return de.OK;case Pn.CANCELLED:return de.CANCELLED;case Pn.UNKNOWN:return de.UNKNOWN;case Pn.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case Pn.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case Pn.INTERNAL:return de.INTERNAL;case Pn.UNAVAILABLE:return de.UNAVAILABLE;case Pn.UNAUTHENTICATED:return de.UNAUTHENTICATED;case Pn.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case Pn.NOT_FOUND:return de.NOT_FOUND;case Pn.ALREADY_EXISTS:return de.ALREADY_EXISTS;case Pn.PERMISSION_DENIED:return de.PERMISSION_DENIED;case Pn.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case Pn.ABORTED:return de.ABORTED;case Pn.OUT_OF_RANGE:return de.OUT_OF_RANGE;case Pn.UNIMPLEMENTED:return de.UNIMPLEMENTED;case Pn.DATA_LOSS:return de.DATA_LOSS;default:return He()}}(Tt=Pn||(Pn={}))[Tt.OK=0]="OK",Tt[Tt.CANCELLED=1]="CANCELLED",Tt[Tt.UNKNOWN=2]="UNKNOWN",Tt[Tt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Tt[Tt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Tt[Tt.NOT_FOUND=5]="NOT_FOUND",Tt[Tt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Tt[Tt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Tt[Tt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Tt[Tt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Tt[Tt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Tt[Tt.ABORTED=10]="ABORTED",Tt[Tt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Tt[Tt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Tt[Tt.INTERNAL=13]="INTERNAL",Tt[Tt.UNAVAILABLE=14]="UNAVAILABLE",Tt[Tt.DATA_LOSS=15]="DATA_LOSS";var _R=null;function oz(){return new TextEncoder}var az=new Eo([4294967295,4294967295],0);function vR(n){let e=oz().encode(n),t=new IE;return t.update(e),new Uint8Array(t.digest())}function yR(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Eo([t,r],0),new Eo([i,s],0)]}var cw=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Ec(`Invalid padding: ${t}`);if(r<0)throw new Ec(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ec(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Ec(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=Eo.fromNumber(this.Ee)}Ae(e,t,r){let i=e.add(t.multiply(Eo.fromNumber(r)));return i.compare(az)===1&&(i=new Eo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;let t=vR(e),[r,i]=yR(t);for(let s=0;s<this.hashCount;s++){let o=this.Ae(r,i,s);if(!this.Re(o))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new n(s,i,t);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ee===0)return;let t=vR(e),[r,i]=yR(t);for(let s=0;s<this.hashCount;s++){let o=this.Ae(r,i,s);this.Ve(o)}}Ve(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},Ec=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var qm=class n{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,yf.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(Je.min(),i,new En(wt),So(),Et())}},yf=class n{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,Et(),Et(),Et())}};var eu=class{constructor(e,t,r,i){this.me=e,this.removedTargetIds=t,this.key=r,this.fe=i}},Gm=class{constructor(e,t){this.targetId=e,this.ge=t}},Km=class{constructor(e,t,r=Dr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},Xm=class{constructor(){this.pe=0,this.ye=xR(),this.we=Dr.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=Et(),t=Et(),r=Et();return this.ye.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:He()}}),new yf(this.we,this.be,e,t,r)}Me(){this.Se=!1,this.ye=xR()}xe(e,t){this.Se=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,St(this.pe>=0)}Le(){this.Se=!0,this.be=!0}},lw=class{constructor(e){this.ke=e,this.qe=new Map,this.Qe=So(),this.$e=Am(),this.Ke=Am(),this.Ue=new En(wt)}We(e){for(let t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(let t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{let r=this.He(t);switch(e.state){case 0:this.Je(t)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(t);break;case 3:this.Je(t)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),r.Ce(e.resumeToken));break;default:He()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((r,i)=>{this.Je(i)&&t(i)})}Ze(e){let t=e.targetId,r=e.ge.count,i=this.Xe(t);if(i){let s=i.target;if(ew(s))if(r===0){let o=new ze(s.path);this.ze(t,o,bi.newNoDocument(o,Je.min()))}else St(r===1);else{let o=this.et(t);if(o!==r){let a=this.tt(e),c=a?this.nt(a,e,o):1;if(c!==0){this.Ye(t);let l=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,l)}_R?.rt(function(u,f,h,p,y){var v,w,F,V,k,X;let se={localCacheCount:u,existenceFilterCount:f.count,databaseId:h.database,projectId:h.projectId},G=f.unchangedNames;return G&&(se.bloomFilter={applied:y===0,hashCount:(v=G?.hashCount)!==null&&v!==void 0?v:0,bitmapLength:(V=(F=(w=G?.bits)===null||w===void 0?void 0:w.bitmap)===null||F===void 0?void 0:F.length)!==null&&V!==void 0?V:0,padding:(X=(k=G?.bits)===null||k===void 0?void 0:k.padding)!==null&&X!==void 0?X:0,mightContain:b=>{var I;return(I=p?.mightContain(b))!==null&&I!==void 0&&I}}),se}(o,e.ge,this.ke.it(),a,c))}}}}tt(e){let t=e.ge.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t,o,a;try{o=Io(r).toUint8Array()}catch(c){if(c instanceof Um)return nu("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new cw(o,i,s)}catch(c){return nu(c instanceof Ec?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Ee===0?null:a}nt(e,t,r){return t.ge.count===r-this.st(e,t.targetId)?0:2}st(e,t){let r=this.ke.getRemoteKeysForTarget(t),i=0;return r.forEach(s=>{let o=this.ke.it(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.ze(t,s,null),i++)}),i}ot(e){let t=new Map;this.qe.forEach((s,o)=>{let a=this.Xe(o);if(a){if(s.current&&ew(a.target)){let c=new ze(a.target.path);this._t(c).has(o)||this.ut(o,c)||this.ze(o,c,bi.newNoDocument(c,e))}s.ve&&(t.set(o,s.Fe()),s.Me())}});let r=Et();this.Ke.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{let l=this.Xe(c);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.Qe.forEach((s,o)=>o.setReadTime(e));let i=new qm(e,t,this.Ue,this.Qe,r);return this.Qe=So(),this.$e=Am(),this.Ke=Am(),this.Ue=new En(wt),i}Ge(e,t){if(!this.Je(e))return;let r=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,r),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,r){if(!this.Je(e))return;let i=this.He(e);this.ut(e,t)?i.xe(t,1):i.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),r&&(this.Qe=this.Qe.insert(t,r))}removeTarget(e){this.qe.delete(e)}et(e){let t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new Xm,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new Zn(wt),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Zn(wt),this.$e=this.$e.insert(e,t)),t}Je(e){let t=this.Xe(e)!==null;return t||Fe("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){let t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Xm),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}};function Am(){return new En(ze.comparator)}function xR(){return new En(ze.comparator)}var cz={asc:"ASCENDING",desc:"DESCENDING"},lz={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},uz={and:"AND",or:"OR"},uw=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function dw(n,e){return n.useProto3Json||Af(e)?e:{value:e}}function Ym(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function MP(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function dz(n,e){return Ym(n,e.toTimestamp())}function wi(n){return St(!!n),Je.fromTimestamp(function(t){let r=bo(t);return new ur(r.seconds,r.nanos)}(n))}function kC(n,e){return fw(n,e).canonicalString()}function fw(n,e){let t=function(i){return new on(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function RP(n){let e=on.fromString(n);return St(VP(e)),e}function Qm(n,e){return kC(n.databaseId,e.path)}function pf(n,e){let t=RP(e);if(t.get(1)!==n.databaseId.projectId)throw new Pe(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Pe(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ze(OP(t))}function PP(n,e){return kC(n.databaseId,e)}function fz(n){let e=RP(n);return e.length===4?on.emptyPath():OP(e)}function hw(n){return new on(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function OP(n){return St(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function ER(n,e,t){return{name:Qm(n,e),fields:t.value.mapValue.fields}}function hz(n,e){return"found"in e?function(r,i){St(!!i.found),i.found.name,i.found.updateTime;let s=pf(r,i.found.name),o=wi(i.found.updateTime),a=i.found.createTime?wi(i.found.createTime):Je.min(),c=new oi({mapValue:{fields:i.found.fields}});return bi.newFoundDocument(s,o,a,c)}(n,e):"missing"in e?function(r,i){St(!!i.missing),St(!!i.readTime);let s=pf(r,i.missing),o=wi(i.readTime);return bi.newNoDocument(s,o)}(n,e):He()}function pz(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:He()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,u){return l.useProto3Json?(St(u===void 0||typeof u=="string"),Dr.fromBase64String(u||"")):(St(u===void 0||u instanceof Buffer||u instanceof Uint8Array),Dr.fromUint8Array(u||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){let u=l.code===void 0?de.UNKNOWN:AP(l.code);return new Pe(u,l.message||"")}(o);t=new Km(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=pf(n,r.document.name),s=wi(r.document.updateTime),o=r.document.createTime?wi(r.document.createTime):Je.min(),a=new oi({mapValue:{fields:r.document.fields}}),c=bi.newFoundDocument(i,s,o,a),l=r.targetIds||[],u=r.removedTargetIds||[];t=new eu(l,u,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=pf(n,r.document),s=r.readTime?wi(r.readTime):Je.min(),o=bi.newNoDocument(i,s),a=r.removedTargetIds||[];t=new eu([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=pf(n,r.document),s=r.removedTargetIds||[];t=new eu([],s,i,null)}else{if(!("filter"in e))return He();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new aw(i,s),a=r.targetId;t=new Gm(a,o)}}return t}function NP(n,e){let t;if(e instanceof Ic)t={update:ER(n,e.key,e.value)};else if(e instanceof hu)t={delete:Qm(n,e.key)};else if(e instanceof Ls)t={update:ER(n,e.key,e.data),updateMask:Cz(e.fieldMask)};else{if(!(e instanceof Wm))return He();t={verify:Qm(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let a=o.transform;if(a instanceof uu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ya)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof xa)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof du)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw He()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:dz(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:He()}(n,e.precondition)),t}function mz(n,e){return n&&n.length>0?(St(e!==void 0),n.map(t=>function(i,s){let o=i.updateTime?wi(i.updateTime):wi(s);return o.isEqual(Je.min())&&(o=wi(s)),new rw(o,i.transformResults||[])}(t,e))):[]}function gz(n,e){return{documents:[PP(n,e.path)]}}function _z(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=PP(n,i);let s=function(l){if(l.length!==0)return LP(ss.create(l,"and"))}(e.filters);s&&(t.structuredQuery.where=s);let o=function(l){if(l.length!==0)return l.map(u=>function(h){return{field:Ql(h.field),direction:xz(h.dir)}}(u))}(e.orderBy);o&&(t.structuredQuery.orderBy=o);let a=dw(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{ht:t,parent:i}}function vz(n){let e=fz(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){St(r===1);let u=t.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];t.where&&(s=function(f){let h=FP(f);return h instanceof ss&&fP(h)?h.getFilters():[h]}(t.where));let o=[];t.orderBy&&(o=function(f){return f.map(h=>function(y){return new cu(Zl(y.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(h))}(t.orderBy));let a=null;t.limit&&(a=function(f){let h;return h=typeof f=="object"?f.value:f,Af(h)?null:h}(t.limit));let c=null;t.startAt&&(c=function(f){let h=!!f.before,p=f.values||[];return new au(p,h)}(t.startAt));let l=null;return t.endAt&&(l=function(f){let h=!f.before,p=f.values||[];return new au(p,h)}(t.endAt)),WH(e,i,o,s,a,"F",c,l)}function yz(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return He()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function FP(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=Zl(t.unaryFilter.field);return Nn.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Zl(t.unaryFilter.field);return Nn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=Zl(t.unaryFilter.field);return Nn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=Zl(t.unaryFilter.field);return Nn.create(o,"!=",{nullValue:"NULL_VALUE"});default:return He()}}(n):n.fieldFilter!==void 0?function(t){return Nn.create(Zl(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return He()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return ss.create(t.compositeFilter.filters.map(r=>FP(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return He()}}(t.compositeFilter.op))}(n):He()}function xz(n){return cz[n]}function Ez(n){return lz[n]}function wz(n){return uz[n]}function Ql(n){return{fieldPath:n.canonicalString()}}function Zl(n){return Ei.fromServerFormat(n.fieldPath)}function LP(n){return n instanceof Nn?function(t){if(t.op==="=="){if(cR(t.value))return{unaryFilter:{field:Ql(t.field),op:"IS_NAN"}};if(aR(t.value))return{unaryFilter:{field:Ql(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(cR(t.value))return{unaryFilter:{field:Ql(t.field),op:"IS_NOT_NAN"}};if(aR(t.value))return{unaryFilter:{field:Ql(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ql(t.field),op:Ez(t.op),value:t.value}}}(n):n instanceof ss?function(t){let r=t.getFilters().map(i=>LP(i));return r.length===1?r[0]:{compositeFilter:{op:wz(t.op),filters:r}}}(n):He()}function Cz(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function VP(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var xf=class n{constructor(e,t,r,i,s=Je.min(),o=Je.min(),a=Dr.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var pw=class{constructor(e){this.Tt=e}};function bz(n){let e=vz({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?nw(e,e.limit,"L"):e}var Zm=class{constructor(){}At(e,t){this.Rt(e,t),t.Vt()}Rt(e,t){if("nullValue"in e)this.ft(t,5);else if("booleanValue"in e)this.ft(t,10),t.gt(e.booleanValue?1:0);else if("integerValue"in e)this.ft(t,15),t.gt(dn(e.integerValue));else if("doubleValue"in e){let r=dn(e.doubleValue);isNaN(r)?this.ft(t,13):(this.ft(t,15),gf(r)?t.gt(0):t.gt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.ft(t,20),typeof r=="string"&&(r=bo(r)),t.yt(`${r.seconds||""}`),t.gt(r.nanos||0)}else if("stringValue"in e)this.wt(e.stringValue,t),this.bt(t);else if("bytesValue"in e)this.ft(t,30),t.St(Io(e.bytesValue)),this.bt(t);else if("referenceValue"in e)this.Dt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.ft(t,45),t.gt(r.latitude||0),t.gt(r.longitude||0)}else"mapValue"in e?lP(e)?this.ft(t,Number.MAX_SAFE_INTEGER):cP(e)?this.vt(e.mapValue,t):(this.Ct(e.mapValue,t),this.bt(t)):"arrayValue"in e?(this.Ft(e.arrayValue,t),this.bt(t)):He()}wt(e,t){this.ft(t,25),this.Mt(e,t)}Mt(e,t){t.yt(e)}Ct(e,t){let r=e.fields||{};this.ft(t,55);for(let i of Object.keys(r))this.wt(i,t),this.Rt(r[i],t)}vt(e,t){var r,i;let s=e.fields||{};this.ft(t,53);let o=iu,a=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.ft(t,15),t.gt(dn(a)),this.wt(o,t),this.Rt(s[o],t)}Ft(e,t){let r=e.values||[];this.ft(t,50);for(let i of r)this.Rt(i,t)}Dt(e,t){this.ft(t,37),ze.fromName(e).path.forEach(r=>{this.ft(t,60),this.Mt(r,t)})}ft(e,t){e.gt(t)}bt(e){e.gt(2)}};Zm.xt=new Zm;var mw=class{constructor(){this.Tn=new gw}addToCollectionParentIndex(e,t){return this.Tn.add(t),ve.resolve()}getCollectionParents(e,t){return ve.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return ve.resolve()}deleteFieldIndex(e,t){return ve.resolve()}deleteAllFieldIndexes(e){return ve.resolve()}createTargetIndexes(e,t){return ve.resolve()}getDocumentsMatchingTarget(e,t){return ve.resolve(null)}getIndexType(e,t){return ve.resolve(0)}getFieldIndexes(e,t){return ve.resolve([])}getNextCollectionGroupToUpdate(e){return ve.resolve(null)}getMinOffset(e,t){return ve.resolve(Cc.min())}getMinOffsetFromCollectionGroup(e,t){return ve.resolve(Cc.min())}updateCollectionGroup(e,t,r){return ve.resolve()}updateIndexEntries(e,t){return ve.resolve()}},gw=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Zn(on.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Zn(on.comparator)).toArray()}};var Lge=new Uint8Array(0);var wR={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},BP=41943040,Li=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};Li.DEFAULT_COLLECTION_PERCENTILE=10,Li.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Li.DEFAULT=new Li(BP,Li.DEFAULT_COLLECTION_PERCENTILE,Li.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Li.DISABLED=new Li(-1,0,0);var Ef=class n{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new n(0)}static Un(){return new n(-1)}};var CR="LruGarbageCollector",Iz=1048576;function bR([n,e],[t,r]){let i=wt(n,t);return i===0?wt(e,r):i}var _w=class{constructor(e){this.Hn=e,this.buffer=new Zn(bR),this.Jn=0}Yn(){return++this.Jn}Zn(e){let t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();bR(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},vw=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){Fe(CR,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>B(this,null,function*(){this.Xn=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){Eu(t)?Fe(CR,"Ignoring IndexedDB error during garbage collection: ",t):yield xu(t)}yield this.er(3e5)}))}},yw=class{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return ve.resolve(xC.ae);let r=new _w(t);return this.tr.forEachTarget(e,i=>r.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>r.Zn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.tr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Fe("LruGarbageCollector","Garbage collection skipped; disabled"),ve.resolve(wR)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),wR):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let r,i,s,o,a,c,l,u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(Fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,o=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,t))).next(f=>(s=f,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(l=Date.now(),Xl()<=yt.DEBUG&&Fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-u}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(c-a)+`ms
	Removed ${f} documents in `+(l-c)+`ms
Total Duration: ${l-u}ms`),ve.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:f})))}};function Tz(n,e){return new yw(n,e)}var xw=class{constructor(){this.changes=new To(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,bi.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?ve.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Ew=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var ww=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&hf(r.mutation,i,Vi.empty(),ur.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Et()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Et()){let i=xc();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=cf();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){let r=xc();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Et()))}populateOverlays(e,t,r){let i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=So(),o=ff(),a=function(){return ff()}();return t.forEach((c,l)=>{let u=r.get(l.key);i.has(l.key)&&(u===void 0||u.mutation instanceof Ls)?s=s.insert(l.key,l):u!==void 0?(o.set(l.key,u.mutation.getFieldMask()),hf(u.mutation,l,u.mutation.getFieldMask(),ur.now())):o.set(l.key,Vi.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((l,u)=>o.set(l,u)),t.forEach((l,u)=>{var f;return a.set(l,new Ew(u,(f=o.get(l))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,t){let r=ff(),i=new En((o,a)=>o-a),s=Et();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(let a of o)a.keys().forEach(c=>{let l=t.get(c);if(l===null)return;let u=r.get(c)||Vi.empty();u=a.applyToLocalView(l,u),r.set(c,u);let f=(i.get(a.batchId)||Et()).add(c);i=i.insert(a.batchId,f)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),l=c.key,u=c.value,f=EP();u.forEach(h=>{if(!s.has(h)){let p=SP(t.get(h),r.get(h));p!==null&&f.set(h,p),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,f))}return ve.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(o){return ze.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):gP(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):ve.resolve(xc()),a=mf,c=s;return o.next(l=>ve.forEach(l,(u,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(u)?ve.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{c=c.insert(u,h)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,c,l,Et())).next(u=>({batchId:a,changes:xP(u)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ze(t)).next(r=>{let i=cf();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let s=t.collectionGroup,o=cf();return this.indexManager.getCollectionParents(e,s).next(a=>ve.forEach(a,c=>{let l=function(f,h){return new bc(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(t,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(u=>{u.forEach((f,h)=>{o=o.insert(f,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(o=>{s.forEach((c,l)=>{let u=l.getKey();o.get(u)===null&&(o=o.insert(u,bi.newInvalidDocument(u)))});let a=cf();return o.forEach((c,l)=>{let u=s.get(c);u!==void 0&&hf(u.mutation,l,Vi.empty(),ur.now()),wg(t,l)&&(a=a.insert(c,l))}),a})}};var Cw=class{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return ve.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:wi(i.createTime)}}(t)),ve.resolve()}getNamedQuery(e,t){return ve.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(i){return{name:i.name,query:bz(i.bundledQuery),readTime:wi(i.readTime)}}(t)),ve.resolve()}};var bw=class{constructor(){this.overlays=new En(ze.comparator),this.Rr=new Map}getOverlay(e,t){return ve.resolve(this.overlays.get(t))}getOverlays(e,t){let r=xc();return ve.forEach(t,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.Et(e,t,s)}),ve.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Rr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Rr.delete(r)),ve.resolve()}getOverlaysForCollection(e,t,r){let i=xc(),s=t.length+1,o=new ze(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let c=a.getNext().value,l=c.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return ve.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new En((l,u)=>l-u),o=this.overlays.getIterator();for(;o.hasNext();){let l=o.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let u=s.get(l.largestBatchId);u===null&&(u=xc(),s=s.insert(l.largestBatchId,u)),u.set(l.getKey(),l)}}let a=xc(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,u)=>a.set(l,u)),!(a.size()>=i)););return ve.resolve(a)}Et(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.Rr.get(i.largestBatchId).delete(r.key);this.Rr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new ow(t,r));let s=this.Rr.get(t);s===void 0&&(s=Et(),this.Rr.set(t,s)),this.Rr.set(t,s.add(r.key))}};var Iw=class{constructor(){this.sessionToken=Dr.EMPTY_BYTE_STRING}getSessionToken(e){return ve.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ve.resolve()}};var wf=class{constructor(){this.Vr=new Zn(On.mr),this.gr=new Zn(On.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){let r=new On(e,t);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.wr(new On(e,t))}br(e,t){e.forEach(r=>this.removeReference(r,t))}Sr(e){let t=new ze(new on([])),r=new On(t,e),i=new On(t,e+1),s=[];return this.gr.forEachInRange([r,i],o=>{this.wr(o),s.push(o.key)}),s}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){let t=new ze(new on([])),r=new On(t,e),i=new On(t,e+1),s=Et();return this.gr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let t=new On(e,0),r=this.Vr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},On=class{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return ze.comparator(e.key,t.key)||wt(e.Cr,t.Cr)}static pr(e,t){return wt(e.Cr,t.Cr)||ze.comparator(e.key,t.key)}};var Tw=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Zn(On.mr)}checkEmpty(e){return ve.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let s=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new iw(s,t,r,i);this.mutationQueue.push(o);for(let a of i)this.Mr=this.Mr.add(new On(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return ve.resolve(o)}lookupMutationBatch(e,t){return ve.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.Nr(r),s=i<0?0:i;return ve.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ve.resolve(this.mutationQueue.length===0?EC:this.Fr-1)}getAllMutationBatches(e){return ve.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new On(t,0),i=new On(t,Number.POSITIVE_INFINITY),s=[];return this.Mr.forEachInRange([r,i],o=>{let a=this.Or(o.Cr);s.push(a)}),ve.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Zn(wt);return t.forEach(i=>{let s=new On(i,0),o=new On(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([s,o],a=>{r=r.add(a.Cr)})}),ve.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,s=r;ze.isDocumentKey(s)||(s=s.child(""));let o=new On(new ze(s),0),a=new Zn(wt);return this.Mr.forEachWhile(c=>{let l=c.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(c.Cr)),!0)},o),ve.resolve(this.Br(a))}Br(e){let t=[];return e.forEach(r=>{let i=this.Or(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){St(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return ve.forEach(t.mutations,i=>{let s=new On(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,t){let r=new On(t,0),i=this.Mr.firstAfterOrEqual(r);return ve.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ve.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){let t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var Sw=class{constructor(e){this.kr=e,this.docs=function(){return new En(ze.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.kr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return ve.resolve(r?r.document.mutableCopy():bi.newInvalidDocument(t))}getEntries(e,t){let r=So();return t.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():bi.newInvalidDocument(i))}),ve.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=So(),o=t.path,a=new ze(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:l,value:{document:u}}=c.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||TH(IH(u),r)<=0||(i.has(u.key)||wg(t,u))&&(s=s.insert(u.key,u.mutableCopy()))}return ve.resolve(s)}getAllFromCollectionGroup(e,t,r,i){He()}qr(e,t){return ve.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Dw(this)}getSize(e){return ve.resolve(this.size)}},Dw=class extends xw{constructor(e){super(),this.Ir=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(r)}),ve.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}};var kw=class{constructor(e){this.persistence=e,this.Qr=new To(t=>TC(t),SC),this.lastRemoteSnapshotVersion=Je.min(),this.highestTargetId=0,this.$r=0,this.Kr=new wf,this.targetCount=0,this.Ur=Ef.Kn()}forEachTarget(e,t){return this.Qr.forEach((r,i)=>t(i)),ve.resolve()}getLastRemoteSnapshotVersion(e){return ve.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ve.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),ve.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$r&&(this.$r=t),ve.resolve()}zn(e){this.Qr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.Ur=new Ef(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,ve.resolve()}updateTargetData(e,t){return this.zn(t),ve.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.Sr(t.targetId),this.targetCount-=1,ve.resolve()}removeTargets(e,t,r){let i=0,s=[];return this.Qr.forEach((o,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.Qr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),ve.waitFor(s).next(()=>i)}getTargetCount(e){return ve.resolve(this.targetCount)}getTargetData(e,t){let r=this.Qr.get(t)||null;return ve.resolve(r)}addMatchingKeys(e,t,r){return this.Kr.yr(t,r),ve.resolve()}removeMatchingKeys(e,t,r){this.Kr.br(t,r);let i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),ve.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Kr.Sr(t),ve.resolve()}getMatchingKeysForTargetId(e,t){let r=this.Kr.vr(t);return ve.resolve(r)}containsKey(e,t){return ve.resolve(this.Kr.containsKey(t))}};var Jm=class{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new xC(0),this.zr=!1,this.zr=!0,this.jr=new Iw,this.referenceDelegate=e(this),this.Hr=new kw(this),this.indexManager=new mw,this.remoteDocumentCache=function(i){return new Sw(i)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new pw(t),this.Yr=new Cw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new bw,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Wr[e.toKey()];return r||(r=new Tw(t,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,r){Fe("MemoryPersistence","Starting transaction:",e);let i=new Aw(this.Gr.next());return this.referenceDelegate.Zr(),r(i).next(s=>this.referenceDelegate.Xr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}ei(e,t){return ve.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,t)))}},Aw=class extends jE{constructor(e){super(),this.currentSequenceNumber=e}},Mw=class n{constructor(e){this.persistence=e,this.ti=new wf,this.ni=null}static ri(e){return new n(e)}get ii(){if(this.ni)return this.ni;throw He()}addReference(e,t,r){return this.ti.addReference(r,t),this.ii.delete(r.toString()),ve.resolve()}removeReference(e,t,r){return this.ti.removeReference(r,t),this.ii.add(r.toString()),ve.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),ve.resolve()}removeTarget(e,t){this.ti.Sr(t.targetId).forEach(i=>this.ii.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.ii.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ve.forEach(this.ii,r=>{let i=ze.fromPath(r);return this.si(e,i).next(s=>{s||t.removeEntry(i,Je.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(r=>{r?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return ve.or([()=>ve.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}},eg=class n{constructor(e,t){this.persistence=e,this.oi=new To(r=>AH(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=Tz(this,t)}static ri(e,t){return new n(e,t)}Zr(){}Xr(e){return ve.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){let t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}rr(e,t){return ve.forEach(this.oi,(r,i)=>this.ar(e,r,i).next(s=>s?ve.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.qr(e,o=>this.ar(e,o,t).next(a=>{a||(r++,s.removeEntry(o,Je.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),ve.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),ve.resolve()}removeReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),ve.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),ve.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Rm(e.data.value)),t}ar(e,t,r){return ve.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.oi.get(t);return ve.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var Rw=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Hi=r,this.Ji=i}static Yi(e,t){let r=Et(),i=Et();for(let s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new n(e,t.fromCache,r,i)}};var Pw=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Ow=class{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return p2()?8:DH(Yn())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,r,i){let s={result:null};return this.rs(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ss(e,t,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new Pw;return this._s(e,t,o).next(a=>{if(s.result=a,this.Xi)return this.us(e,t,o,a.size)})}).next(()=>s.result)}us(e,t,r,i){return r.documentReadCount<this.es?(Xl()<=yt.DEBUG&&Fe("QueryEngine","SDK will not create cache indexes for query:",Yl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ve.resolve()):(Xl()<=yt.DEBUG&&Fe("QueryEngine","Query:",Yl(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ts*i?(Xl()<=yt.DEBUG&&Fe("QueryEngine","The SDK decides to create cache indexes for query:",Yl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ns(t))):ve.resolve())}rs(e,t){if(fR(t))return ve.resolve(null);let r=Ns(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=nw(t,null,"F"),r=Ns(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=Et(...s);return this.ns.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let l=this.cs(t,a);return this.ls(t,l,o,c.readTime)?this.rs(e,nw(t,null,"F")):this.hs(e,l,t,c)}))})))}ss(e,t,r,i){return fR(t)||i.isEqual(Je.min())?ve.resolve(null):this.ns.getDocuments(e,r).next(s=>{let o=this.cs(t,s);return this.ls(t,o,r,i)?ve.resolve(null):(Xl()<=yt.DEBUG&&Fe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Yl(t)),this.hs(e,o,t,bH(i,mf)).next(a=>a))})}cs(e,t){let r=new Zn(vP(e));return t.forEach((i,s)=>{wg(e,s)&&(r=r.add(s))}),r}ls(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}_s(e,t,r){return Xl()<=yt.DEBUG&&Fe("QueryEngine","Using full collection scan to execute query:",Yl(t)),this.ns.getDocumentsMatchingQuery(e,t,Cc.min(),r)}hs(e,t,r,i){return this.ns.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}};var AC="LocalStore",Sz=3e8,Nw=class{constructor(e,t,r,i){this.persistence=e,this.Ps=t,this.serializer=i,this.Ts=new En(wt),this.Is=new To(s=>TC(s),SC),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ww(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}};function Dz(n,e,t,r){return new Nw(n,e,t,r)}function UP(n,e){return B(this,null,function*(){let t=et(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.As(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],c=Et();for(let l of i){o.push(l.batchId);for(let u of l.mutations)c=c.add(u.key)}for(let l of s){a.push(l.batchId);for(let u of l.mutations)c=c.add(u.key)}return t.localDocuments.getDocuments(r,c).next(l=>({Rs:l,removedBatchIds:o,addedBatchIds:a}))})})})}function kz(n,e){let t=et(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=t.ds.newChangeBuffer({trackRemovals:!0});return function(a,c,l,u){let f=l.batch,h=f.keys(),p=ve.resolve();return h.forEach(y=>{p=p.next(()=>u.getEntry(c,y)).next(v=>{let w=l.docVersions.get(y);St(w!==null),v.version.compareTo(w)<0&&(f.applyToRemoteDocument(v,l),v.isValidDocument()&&(v.setReadTime(l.commitVersion),u.addEntry(v)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(c,f))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=Et();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function jP(n){let e=et(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function Az(n,e){let t=et(n),r=e.snapshotVersion,i=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=t.ds.newChangeBuffer({trackRemovals:!0});i=t.Ts;let a=[];e.targetChanges.forEach((u,f)=>{let h=i.get(f);if(!h)return;a.push(t.Hr.removeMatchingKeys(s,u.removedDocuments,f).next(()=>t.Hr.addMatchingKeys(s,u.addedDocuments,f)));let p=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(Dr.EMPTY_BYTE_STRING,Je.min()).withLastLimboFreeSnapshotVersion(Je.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,r)),i=i.insert(f,p),function(v,w,F){return v.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=Sz?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(h,p,u)&&a.push(t.Hr.updateTargetData(s,p))});let c=So(),l=Et();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(Mz(s,o,e.documentUpdates).next(u=>{c=u.Vs,l=u.fs})),!r.isEqual(Je.min())){let u=t.Hr.getLastRemoteSnapshotVersion(s).next(f=>t.Hr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return ve.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,c,l)).next(()=>c)}).then(s=>(t.Ts=i,s))}function Mz(n,e,t){let r=Et(),i=Et();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=So();return t.forEach((a,c)=>{let l=s.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(Je.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||c.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):Fe(AC,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{Vs:o,fs:i}})}function Rz(n,e){let t=et(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=EC),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Pz(n,e){let t=et(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Hr.getTargetData(r,e).next(s=>s?(i=s,ve.resolve(i)):t.Hr.allocateTargetId(r).next(o=>(i=new xf(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.Hr.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.Ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(r.targetId,r),t.Is.set(e,r.targetId)),r})}function Fw(n,e,t){return B(this,null,function*(){let r=et(n),i=r.Ts.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Eu(o))throw o;Fe(AC,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ts=r.Ts.remove(e),r.Is.delete(i.target)})}function IR(n,e,t){let r=et(n),i=Je.min(),s=Et();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,l,u){let f=et(c),h=f.Is.get(u);return h!==void 0?ve.resolve(f.Ts.get(h)):f.Hr.getTargetData(l,u)}(r,o,Ns(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.Ps.getDocumentsMatchingQuery(o,e,t?i:Je.min(),t?s:Et())).next(a=>(Oz(r,GH(e),a),{documents:a,gs:s})))}function Oz(n,e,t){let r=n.Es.get(e)||Je.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.Es.set(e,r)}var tg=class{constructor(){this.activeTargetIds=JH()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Lw=class{constructor(){this.ho=new tg,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,r){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new tg,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Vw=class{To(e){}shutdown(){}};var TR="ConnectivityMonitor",ng=class{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){Fe(TR,"Network connectivity changed: AVAILABLE");for(let e of this.Vo)e(0)}Ro(){Fe(TR,"Network connectivity changed: UNAVAILABLE");for(let e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Mm=null;function Bw(){return Mm===null?Mm=function(){return 268435456+Math.round(2147483648*Math.random())}():Mm++,"0x"+Mm.toString(16)}var ME="RestConnection",Nz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},Uw=class{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${r}/databases/${i}`,this.wo=this.databaseId.database===jm?`project_id=${r}`:`project_id=${r}&database_id=${i}`}bo(e,t,r,i,s){let o=Bw(),a=this.So(e,t.toUriEncodedString());Fe(ME,`Sending RPC '${e}' ${o}:`,a,r);let c={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(c,i,s),this.vo(e,a,c,r).then(l=>(Fe(ME,`Received RPC '${e}' ${o}: `,l),l),l=>{throw nu(ME,`RPC '${e}' ${o} failed with error: `,l,"url: ",a,"request:",r),l})}Co(e,t,r,i,s,o){return this.bo(e,t,r,i,s)}Do(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+yu}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}So(e,t){let r=Nz[e];return`${this.po}/v1/${t}:${r}`}terminate(){}};var jw=class{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}};var Tr="WebChannelConnection",$w=class extends Uw{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,r,i){let s=Bw();return new Promise((o,a)=>{let c=new TE;c.setWithCredentials(!0),c.listenOnce(SE.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case af.NO_ERROR:let u=c.getResponseJson();Fe(Tr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case af.TIMEOUT:Fe(Tr,`RPC '${e}' ${s} timed out`),a(new Pe(de.DEADLINE_EXCEEDED,"Request time out"));break;case af.HTTP_ERROR:let f=c.getStatus();if(Fe(Tr,`RPC '${e}' ${s} failed with status:`,f,"response text:",c.getResponseText()),f>0){let h=c.getResponseJson();Array.isArray(h)&&(h=h[0]);let p=h?.error;if(p&&p.status&&p.message){let y=function(w){let F=w.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(F)>=0?F:de.UNKNOWN}(p.status);a(new Pe(y,p.message))}else a(new Pe(de.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new Pe(de.UNAVAILABLE,"Connection failed."));break;default:He()}}finally{Fe(Tr,`RPC '${e}' ${s} completed.`)}});let l=JSON.stringify(i);Fe(Tr,`RPC '${e}' ${s} sending request:`,i),c.send(t,"POST",l,r,15)})}Wo(e,t,r){let i=Bw(),s=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=AE(),a=kE(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Do(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;let u=s.join("");Fe(Tr,`Creating RPC '${e}' stream ${i}: ${u}`,c);let f=o.createWebChannel(u,c),h=!1,p=!1,y=new jw({Fo:w=>{p?Fe(Tr,`Not sending because RPC '${e}' stream ${i} is closed:`,w):(h||(Fe(Tr,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),Fe(Tr,`RPC '${e}' stream ${i} sending:`,w),f.send(w))},Mo:()=>f.close()}),v=(w,F,V)=>{w.listen(F,k=>{try{V(k)}catch(X){setTimeout(()=>{throw X},0)}})};return v(f,Kl.EventType.OPEN,()=>{p||(Fe(Tr,`RPC '${e}' stream ${i} transport opened.`),y.Qo())}),v(f,Kl.EventType.CLOSE,()=>{p||(p=!0,Fe(Tr,`RPC '${e}' stream ${i} transport closed`),y.Ko())}),v(f,Kl.EventType.ERROR,w=>{p||(p=!0,nu(Tr,`RPC '${e}' stream ${i} transport errored:`,w),y.Ko(new Pe(de.UNAVAILABLE,"The operation could not be completed")))}),v(f,Kl.EventType.MESSAGE,w=>{var F;if(!p){let V=w.data[0];St(!!V);let k=V,X=k?.error||((F=k[0])===null||F===void 0?void 0:F.error);if(X){Fe(Tr,`RPC '${e}' stream ${i} received error:`,X);let se=X.status,G=function(T){let R=Pn[T];if(R!==void 0)return AP(R)}(se),b=X.message;G===void 0&&(G=de.INTERNAL,b="Unknown error status: "+se+" with message "+X.message),p=!0,y.Ko(new Pe(G,b)),f.close()}else Fe(Tr,`RPC '${e}' stream ${i} received:`,V),y.Uo(V)}}),v(a,DE.STAT_EVENT,w=>{w.stat===Dm.PROXY?Fe(Tr,`RPC '${e}' stream ${i} detected buffering proxy`):w.stat===Dm.NOPROXY&&Fe(Tr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.$o()},0),y}};function RE(){return typeof document<"u"?document:null}function Cg(n){return new uw(n,!0)}var Cf=class{constructor(e,t,r=1e3,i=1.5,s=6e4){this.Ti=e,this.timerId=t,this.Go=r,this.zo=i,this.jo=s,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();let t=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,t-r);i>0&&Fe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}};var SR="PersistentStream",rg=class{constructor(e,t,r,i,s,o,a,c){this.Ti=e,this.n_=r,this.r_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new Cf(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}stop(){return B(this,null,function*(){this.u_()&&(yield this.close(0))})}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}T_(){return B(this,null,function*(){if(this.c_())return this.close(0)})}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}close(e,t){return B(this,null,function*(){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===de.RESOURCE_EXHAUSTED?(Co(t.toString()),Co("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===de.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Lo(t)})}A_(){}auth(){this.state=1;let e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.i_===t&&this.V_(r,i)},r=>{e(()=>{let i=new Pe(de.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(i)})})}V_(e,t){let r=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{r(()=>this.m_(i))}),this.stream.onMessage(i=>{r(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(()=>B(this,null,function*(){this.state=0,this.start()}))}m_(e){return Fe(SR,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(Fe(SR,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Hw=class extends rg{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();let t=pz(this.serializer,e),r=function(s){if(!("targetChange"in s))return Je.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?Je.min():o.readTime?wi(o.readTime):Je.min()}(e);return this.listener.p_(t,r)}y_(e){let t={};t.database=hw(this.serializer),t.addTarget=function(s,o){let a,c=o.target;if(a=ew(c)?{documents:gz(s,c)}:{query:_z(s,c).ht},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=MP(s,o.resumeToken);let l=dw(s,o.expectedCount);l!==null&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(Je.min())>0){a.readTime=Ym(s,o.snapshotVersion.toTimestamp());let l=dw(s,o.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=yz(this.serializer,e);r&&(t.labels=r),this.I_(t)}w_(e){let t={};t.database=hw(this.serializer),t.removeTarget=e,this.I_(t)}},zw=class extends rg{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return St(!!e.streamToken),this.lastStreamToken=e.streamToken,St(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){St(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();let t=mz(e.writeResults,e.commitTime),r=wi(e.commitTime);return this.listener.v_(r,t)}C_(){let e={};e.database=hw(this.serializer),this.I_(e)}S_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>NP(this.serializer,r))};this.I_(t)}};var Ww=class{},qw=class extends Ww{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new Pe(de.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,t,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.bo(e,fw(t,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Pe(de.UNKNOWN,s.toString())})}Co(e,t,r,i,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Co(e,fw(t,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Pe(de.UNKNOWN,o.toString())})}terminate(){this.F_=!0,this.connection.terminate()}},Gw=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Co(t),this.N_=!1):Fe("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}};var Tc="RemoteStore",Kw=class{constructor(e,t,r,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=s,this.z_.To(o=>{r.enqueueAndForget(()=>B(this,null,function*(){Ac(this)&&(Fe(Tc,"Restarting streams for network reachability change."),yield function(c){return B(this,null,function*(){let l=et(c);l.W_.add(4),yield Mf(l),l.j_.set("Unknown"),l.W_.delete(4),yield bg(l)})}(this))}))}),this.j_=new Gw(r,i)}};function bg(n){return B(this,null,function*(){if(Ac(n))for(let e of n.G_)yield e(!0)})}function Mf(n){return B(this,null,function*(){for(let e of n.G_)yield e(!1)})}function $P(n,e){let t=et(n);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),OC(t)?PC(t):wu(t).c_()&&RC(t,e))}function MC(n,e){let t=et(n),r=wu(t);t.U_.delete(e),r.c_()&&HP(t,e),t.U_.size===0&&(r.c_()?r.P_():Ac(t)&&t.j_.set("Unknown"))}function RC(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Je.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}wu(n).y_(e)}function HP(n,e){n.H_.Ne(e),wu(n).w_(e)}function PC(n){n.H_=new lw({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.U_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),wu(n).start(),n.j_.B_()}function OC(n){return Ac(n)&&!wu(n).u_()&&n.U_.size>0}function Ac(n){return et(n).W_.size===0}function zP(n){n.H_=void 0}function Fz(n){return B(this,null,function*(){n.j_.set("Online")})}function Lz(n){return B(this,null,function*(){n.U_.forEach((e,t)=>{RC(n,e)})})}function Vz(n,e){return B(this,null,function*(){zP(n),OC(n)?(n.j_.q_(e),PC(n)):n.j_.set("Unknown")})}function Bz(n,e,t){return B(this,null,function*(){if(n.j_.set("Online"),e instanceof Km&&e.state===2&&e.cause)try{yield function(i,s){return B(this,null,function*(){let o=s.cause;for(let a of s.targetIds)i.U_.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.U_.delete(a),i.H_.removeTarget(a))})}(n,e)}catch(r){Fe(Tc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield ig(n,r)}else if(e instanceof eu?n.H_.We(e):e instanceof Gm?n.H_.Ze(e):n.H_.je(e),!t.isEqual(Je.min()))try{let r=yield jP(n.localStore);t.compareTo(r)>=0&&(yield function(s,o){let a=s.H_.ot(o);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){let u=s.U_.get(l);u&&s.U_.set(l,u.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,l)=>{let u=s.U_.get(c);if(!u)return;s.U_.set(c,u.withResumeToken(Dr.EMPTY_BYTE_STRING,u.snapshotVersion)),HP(s,c);let f=new xf(u.target,c,l,u.sequenceNumber);RC(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){Fe(Tc,"Failed to raise snapshot:",r),yield ig(n,r)}})}function ig(n,e,t){return B(this,null,function*(){if(!Eu(e))throw e;n.W_.add(1),yield Mf(n),n.j_.set("Offline"),t||(t=()=>jP(n.localStore)),n.asyncQueue.enqueueRetryable(()=>B(this,null,function*(){Fe(Tc,"Retrying IndexedDB access"),yield t(),n.W_.delete(1),yield bg(n)}))})}function WP(n,e){return e().catch(t=>ig(n,t,e))}function Ig(n){return B(this,null,function*(){let e=et(n),t=Ea(e),r=e.K_.length>0?e.K_[e.K_.length-1].batchId:EC;for(;Uz(e);)try{let i=yield Rz(e.localStore,r);if(i===null){e.K_.length===0&&t.P_();break}r=i.batchId,jz(e,i)}catch(i){yield ig(e,i)}qP(e)&&GP(e)})}function Uz(n){return Ac(n)&&n.K_.length<10}function jz(n,e){n.K_.push(e);let t=Ea(n);t.c_()&&t.b_&&t.S_(e.mutations)}function qP(n){return Ac(n)&&!Ea(n).u_()&&n.K_.length>0}function GP(n){Ea(n).start()}function $z(n){return B(this,null,function*(){Ea(n).C_()})}function Hz(n){return B(this,null,function*(){let e=Ea(n);for(let t of n.K_)e.S_(t.mutations)})}function zz(n,e,t){return B(this,null,function*(){let r=n.K_.shift(),i=sw.from(r,e,t);yield WP(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Ig(n)})}function Wz(n,e){return B(this,null,function*(){e&&Ea(n).b_&&(yield function(r,i){return B(this,null,function*(){if(function(o){return kP(o)&&o!==de.ABORTED}(i.code)){let s=r.K_.shift();Ea(r).h_(),yield WP(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield Ig(r)}})}(n,e)),qP(n)&&GP(n)})}function DR(n,e){return B(this,null,function*(){let t=et(n);t.asyncQueue.verifyOperationInProgress(),Fe(Tc,"RemoteStore received new credentials");let r=Ac(t);t.W_.add(3),yield Mf(t),r&&t.j_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),yield bg(t)})}function qz(n,e){return B(this,null,function*(){let t=et(n);e?(t.W_.delete(2),yield bg(t)):e||(t.W_.add(2),yield Mf(t),t.j_.set("Unknown"))})}function wu(n){return n.J_||(n.J_=function(t,r,i){let s=et(t);return s.M_(),new Hw(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{xo:Fz.bind(null,n),No:Lz.bind(null,n),Lo:Vz.bind(null,n),p_:Bz.bind(null,n)}),n.G_.push(e=>B(this,null,function*(){e?(n.J_.h_(),OC(n)?PC(n):n.j_.set("Unknown")):(yield n.J_.stop(),zP(n))}))),n.J_}function Ea(n){return n.Y_||(n.Y_=function(t,r,i){let s=et(t);return s.M_(),new zw(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:$z.bind(null,n),Lo:Wz.bind(null,n),D_:Hz.bind(null,n),v_:zz.bind(null,n)}),n.G_.push(e=>B(this,null,function*(){e?(n.Y_.h_(),yield Ig(n)):(yield n.Y_.stop(),n.K_.length>0&&(Fe(Tc,`Stopping write stream with ${n.K_.length} pending writes`),n.K_=[]))}))),n.Y_}var Xw=class n{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Bi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){let o=Date.now()+r,a=new n(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Pe(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function NC(n,e){if(Co("AsyncQueue",`${e}: ${n}`),Eu(n))return new Pe(de.UNAVAILABLE,`${e}: ${n}`);throw n}var sg=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||ze.comparator(t.key,r.key):(t,r)=>ze.comparator(t.key,r.key),this.keyedMap=cf(),this.sortedSet=new En(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var og=class{constructor(){this.Z_=new En(ze.comparator)}track(e){let t=e.doc.key,r=this.Z_.get(t);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(t):e.type===1&&r.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):He():this.Z_=this.Z_.insert(t,e)}X_(){let e=[];return this.Z_.inorderTraversal((t,r)=>{e.push(r)}),e}},pu=class n{constructor(e,t,r,i,s,o,a,c,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,s){let o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new n(e,t,sg.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Eg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var Yw=class{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}},Qw=class{constructor(){this.queries=kR(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,r){let i=et(t),s=i.queries;i.queries=kR(),s.forEach((o,a)=>{for(let c of a.ta)c.onError(r)})})(this,new Pe(de.ABORTED,"Firestore shutting down"))}};function kR(){return new To(n=>_P(n),Eg)}function FC(n,e){return B(this,null,function*(){let t=et(n),r=3,i=e.query,s=t.queries.get(i);s?!s.na()&&e.ra()&&(r=2):(s=new Yw,r=e.ra()?0:1);try{switch(r){case 0:s.ea=yield t.onListen(i,!0);break;case 1:s.ea=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(o){let a=NC(o,`Initialization of query '${Yl(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,s),s.ta.push(e),e.sa(t.onlineState),s.ea&&e.oa(s.ea)&&VC(t)})}function LC(n,e){return B(this,null,function*(){let t=et(n),r=e.query,i=3,s=t.queries.get(r);if(s){let o=s.ta.indexOf(e);o>=0&&(s.ta.splice(o,1),s.ta.length===0?i=e.ra()?0:1:!s.na()&&e.ra()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function Gz(n,e){let t=et(n),r=!1;for(let i of e){let s=i.query,o=t.queries.get(s);if(o){for(let a of o.ta)a.oa(i)&&(r=!0);o.ea=i}}r&&VC(t)}function Kz(n,e,t){let r=et(n),i=r.queries.get(e);if(i)for(let s of i.ta)s.onError(t);r.queries.delete(e)}function VC(n){n.ia.forEach(e=>{e.next()})}var Zw,AR;(AR=Zw||(Zw={}))._a="default",AR.Cache="cache";var bf=class{constructor(e,t,r){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new pu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;let r=t!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;let t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=pu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Zw.Cache}};var ag=class{constructor(e){this.key=e}},cg=class{constructor(e){this.key=e}},Jw=class{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Et(),this.mutatedKeys=Et(),this.ya=vP(e),this.wa=new sg(this.ya)}get ba(){return this.fa}Sa(e,t){let r=t?t.Da:new og,i=t?t.wa:this.wa,s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,f)=>{let h=i.get(u),p=wg(this.query,f)?f:null,y=!!h&&this.mutatedKeys.has(h.key),v=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations),w=!1;h&&p?h.data.isEqual(p.data)?y!==v&&(r.track({type:3,doc:p}),w=!0):this.va(h,p)||(r.track({type:2,doc:p}),w=!0,(c&&this.ya(p,c)>0||l&&this.ya(p,l)<0)&&(a=!0)):!h&&p?(r.track({type:0,doc:p}),w=!0):h&&!p&&(r.track({type:1,doc:h}),w=!0,(c||l)&&(a=!0)),w&&(p?(o=o.add(p),s=v?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{wa:o,Da:r,ls:a,mutatedKeys:s}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let s=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;let o=e.Da.X_();o.sort((u,f)=>function(p,y){let v=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return He()}};return v(p)-v(y)}(u.type,f.type)||this.ya(u.doc,f.doc)),this.Ca(r),i=i!=null&&i;let a=t&&!i?this.Fa():[],c=this.pa.size===0&&this.current&&!i?1:0,l=c!==this.ga;return this.ga=c,o.length!==0||l?{snapshot:new pu(this.query,e.wa,s,o,e.mutatedKeys,c===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:a}:{Ma:a}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new og,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];let e=this.pa;this.pa=Et(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});let t=[];return e.forEach(r=>{this.pa.has(r)||t.push(new cg(r))}),this.pa.forEach(r=>{e.has(r)||t.push(new ag(r))}),t}Oa(e){this.fa=e.gs,this.pa=Et();let t=this.Sa(e.documents);return this.applyChanges(t,!0)}Na(){return pu.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}},BC="SyncEngine",eC=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},tC=class{constructor(e){this.key=e,this.Ba=!1}},nC=class{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.La={},this.ka=new To(a=>_P(a),Eg),this.qa=new Map,this.Qa=new Set,this.$a=new En(ze.comparator),this.Ka=new Map,this.Ua=new wf,this.Wa={},this.Ga=new Map,this.za=Ef.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}};function Xz(n,e,t=!0){return B(this,null,function*(){let r=JP(n),i,s=r.ka.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Na()):i=yield KP(r,e,t,!0),i})}function Yz(n,e){return B(this,null,function*(){let t=JP(n);yield KP(t,e,!0,!1)})}function KP(n,e,t,r){return B(this,null,function*(){let i=yield Pz(n.localStore,Ns(e)),s=i.targetId,o=n.sharedClientState.addLocalQueryTarget(s,t),a;return r&&(a=yield Qz(n,e,s,o==="current",i.resumeToken)),n.isPrimaryClient&&t&&$P(n.remoteStore,i),a})}function Qz(n,e,t,r,i){return B(this,null,function*(){n.Ha=(f,h,p)=>function(v,w,F,V){return B(this,null,function*(){let k=w.view.Sa(F);k.ls&&(k=yield IR(v.localStore,w.query,!1).then(({documents:b})=>w.view.Sa(b,k)));let X=V&&V.targetChanges.get(w.targetId),se=V&&V.targetMismatches.get(w.targetId)!=null,G=w.view.applyChanges(k,v.isPrimaryClient,X,se);return RR(v,w.targetId,G.Ma),G.snapshot})}(n,f,h,p);let s=yield IR(n.localStore,e,!0),o=new Jw(e,s.gs),a=o.Sa(s.documents),c=yf.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=o.applyChanges(a,n.isPrimaryClient,c);RR(n,t,l.Ma);let u=new eC(e,t,o);return n.ka.set(e,u),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),l.snapshot})}function Zz(n,e,t){return B(this,null,function*(){let r=et(n),i=r.ka.get(e),s=r.qa.get(i.targetId);if(s.length>1)return r.qa.set(i.targetId,s.filter(o=>!Eg(o,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Fw(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&MC(r.remoteStore,i.targetId),rC(r,i.targetId)}).catch(xu))):(rC(r,i.targetId),yield Fw(r.localStore,i.targetId,!0))})}function Jz(n,e){return B(this,null,function*(){let t=et(n),r=t.ka.get(e),i=t.qa.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),MC(t.remoteStore,r.targetId))})}function eW(n,e,t){return B(this,null,function*(){let r=aW(n);try{let i=yield function(o,a){let c=et(o),l=ur.now(),u=a.reduce((p,y)=>p.add(y.key),Et()),f,h;return c.persistence.runTransaction("Locally write mutations","readwrite",p=>{let y=So(),v=Et();return c.ds.getEntries(p,u).next(w=>{y=w,y.forEach((F,V)=>{V.isValidDocument()||(v=v.add(F))})}).next(()=>c.localDocuments.getOverlayedDocuments(p,y)).next(w=>{f=w;let F=[];for(let V of a){let k=sz(V,f.get(V.key).overlayedDocument);k!=null&&F.push(new Ls(V.key,k,uP(k.value.mapValue),ai.exists(!0)))}return c.mutationQueue.addMutationBatch(p,l,F,a)}).next(w=>{h=w;let F=w.applyToLocalDocumentSet(f,v);return c.documentOverlayCache.saveOverlays(p,w.batchId,F)})}).then(()=>({batchId:h.batchId,changes:xP(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,c){let l=o.Wa[o.currentUser.toKey()];l||(l=new En(wt)),l=l.insert(a,c),o.Wa[o.currentUser.toKey()]=l}(r,i.batchId,t),yield Rf(r,i.changes),yield Ig(r.remoteStore)}catch(i){let s=NC(i,"Failed to persist write");t.reject(s)}})}function XP(n,e){return B(this,null,function*(){let t=et(n);try{let r=yield Az(t.localStore,e);e.targetChanges.forEach((i,s)=>{let o=t.Ka.get(s);o&&(St(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ba=!0:i.modifiedDocuments.size>0?St(o.Ba):i.removedDocuments.size>0&&(St(o.Ba),o.Ba=!1))}),yield Rf(t,r,e)}catch(r){yield xu(r)}})}function MR(n,e,t){let r=et(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.ka.forEach((s,o)=>{let a=o.view.sa(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let c=et(o);c.onlineState=a;let l=!1;c.queries.forEach((u,f)=>{for(let h of f.ta)h.sa(a)&&(l=!0)}),l&&VC(c)}(r.eventManager,e),i.length&&r.La.p_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function tW(n,e,t){return B(this,null,function*(){let r=et(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Ka.get(e),s=i&&i.key;if(s){let o=new En(ze.comparator);o=o.insert(s,bi.newNoDocument(s,Je.min()));let a=Et().add(s),c=new qm(Je.min(),new Map,new En(wt),o,a);yield XP(r,c),r.$a=r.$a.remove(s),r.Ka.delete(e),UC(r)}else yield Fw(r.localStore,e,!1).then(()=>rC(r,e,t)).catch(xu)})}function nW(n,e){return B(this,null,function*(){let t=et(n),r=e.batch.batchId;try{let i=yield kz(t.localStore,e);QP(t,r,null),YP(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Rf(t,i)}catch(i){yield xu(i)}})}function rW(n,e,t){return B(this,null,function*(){let r=et(n);try{let i=yield function(o,a){let c=et(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return c.mutationQueue.lookupMutationBatch(l,a).next(f=>(St(f!==null),u=f.keys(),c.mutationQueue.removeMutationBatch(l,f))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,u,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>c.localDocuments.getDocuments(l,u))})}(r.localStore,e);QP(r,e,t),YP(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Rf(r,i)}catch(i){yield xu(i)}})}function YP(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function QP(n,e,t){let r=et(n),i=r.Wa[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Wa[r.currentUser.toKey()]=i}}function rC(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.qa.get(e))n.ka.delete(r),t&&n.La.Ja(r,t);n.qa.delete(e),n.isPrimaryClient&&n.Ua.Sr(e).forEach(r=>{n.Ua.containsKey(r)||ZP(n,r)})}function ZP(n,e){n.Qa.delete(e.path.canonicalString());let t=n.$a.get(e);t!==null&&(MC(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ka.delete(t),UC(n))}function RR(n,e,t){for(let r of t)r instanceof ag?(n.Ua.addReference(r.key,e),iW(n,r)):r instanceof cg?(Fe(BC,"Document no longer in limbo: "+r.key),n.Ua.removeReference(r.key,e),n.Ua.containsKey(r.key)||ZP(n,r.key)):He()}function iW(n,e){let t=e.key,r=t.path.canonicalString();n.$a.get(t)||n.Qa.has(r)||(Fe(BC,"New document in limbo: "+t),n.Qa.add(r),UC(n))}function UC(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){let e=n.Qa.values().next().value;n.Qa.delete(e);let t=new ze(on.fromString(e)),r=n.za.next();n.Ka.set(r,new tC(t)),n.$a=n.$a.insert(t,r),$P(n.remoteStore,new xf(Ns(xg(t.path)),r,"TargetPurposeLimboResolution",xC.ae))}}function Rf(n,e,t){return B(this,null,function*(){let r=et(n),i=[],s=[],o=[];r.ka.isEmpty()||(r.ka.forEach((a,c)=>{o.push(r.Ha(c,e,t).then(l=>{var u;if((l||t)&&r.isPrimaryClient){let f=l?!l.fromCache:(u=t?.targetChanges.get(c.targetId))===null||u===void 0?void 0:u.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(l){i.push(l);let f=Rw.Yi(c.targetId,l);s.push(f)}}))}),yield Promise.all(o),r.La.p_(i),yield function(c,l){return B(this,null,function*(){let u=et(c);try{yield u.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>ve.forEach(l,h=>ve.forEach(h.Hi,p=>u.persistence.referenceDelegate.addReference(f,h.targetId,p)).next(()=>ve.forEach(h.Ji,p=>u.persistence.referenceDelegate.removeReference(f,h.targetId,p)))))}catch(f){if(!Eu(f))throw f;Fe(AC,"Failed to update sequence numbers: "+f)}for(let f of l){let h=f.targetId;if(!f.fromCache){let p=u.Ts.get(h),y=p.snapshotVersion,v=p.withLastLimboFreeSnapshotVersion(y);u.Ts=u.Ts.insert(h,v)}}})}(r.localStore,s))})}function sW(n,e){return B(this,null,function*(){let t=et(n);if(!t.currentUser.isEqual(e)){Fe(BC,"User change. New user:",e.toKey());let r=yield UP(t.localStore,e);t.currentUser=e,function(s,o){s.Ga.forEach(a=>{a.forEach(c=>{c.reject(new Pe(de.CANCELLED,o))})}),s.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Rf(t,r.Rs)}})}function oW(n,e){let t=et(n),r=t.Ka.get(e);if(r&&r.Ba)return Et().add(r.key);{let i=Et(),s=t.qa.get(e);if(!s)return i;for(let o of s){let a=t.ka.get(o);i=i.unionWith(a.view.ba)}return i}}function JP(n){let e=et(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=XP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=oW.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=tW.bind(null,e),e.La.p_=Gz.bind(null,e.eventManager),e.La.Ja=Kz.bind(null,e.eventManager),e}function aW(n){let e=et(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=nW.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=rW.bind(null,e),e}var eO=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return B(this,null,function*(){this.serializer=Cg(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),yield this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)})}tu(t,r){return null}nu(t,r){return null}eu(t){return Dz(this.persistence,new Ow,t.initialUser,this.serializer)}Xa(t){return new Jm(Mw.ri,this.serializer)}Za(t){return new Lw}terminate(){return B(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),iC=class extends eO{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){St(this.persistence.referenceDelegate instanceof eg);let r=this.persistence.referenceDelegate.garbageCollector;return new vw(r,e.asyncQueue,t)}Xa(e){let t=this.cacheSizeBytes!==void 0?Li.withCacheSize(this.cacheSizeBytes):Li.DEFAULT;return new Jm(r=>eg.ri(r,t),this.serializer)}};var cW=(()=>{class n{initialize(t,r){return B(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>MR(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=sW.bind(null,this.syncEngine),yield qz(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new Qw}()}createDatastore(t){let r=Cg(t.databaseInfo.databaseId),i=function(o){return new $w(o)}(t.databaseInfo);return function(o,a,c,l){return new qw(o,a,c,l)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,s,o,a,c){return new Kw(i,s,o,a,c)}(this.localStore,this.datastore,t.asyncQueue,r=>MR(this.syncEngine,r,0),function(){return ng.D()?new ng:new Vw}())}createSyncEngine(t,r){return function(s,o,a,c,l,u,f){let h=new nC(s,o,a,c,l,u);return f&&(h.ja=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return B(this,null,function*(){var t,r;yield function(s){return B(this,null,function*(){let o=et(s);Fe(Tc,"RemoteStore shutting down."),o.W_.add(5),yield Mf(o),o.z_.shutdown(),o.j_.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var If=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Co("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var sC=class{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){return B(this,null,function*(){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new Pe(de.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;let t=yield function(i,s){return B(this,null,function*(){let o=et(i),a={documents:s.map(f=>Qm(o.serializer,f))},c=yield o.Co("BatchGetDocuments",o.serializer.databaseId,on.emptyPath(),a,s.length),l=new Map;c.forEach(f=>{let h=hz(o.serializer,f);l.set(h.key.toString(),h)});let u=[];return s.forEach(f=>{let h=l.get(f.toString());St(!!h),u.push(h)}),u})}(this.datastore,e);return t.forEach(r=>this.recordVersion(r)),t})}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new hu(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){return B(this,null,function*(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;let e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((t,r)=>{let i=ze.fromPath(r);this.mutations.push(new Wm(i,this.precondition(i)))}),yield function(r,i){return B(this,null,function*(){let s=et(r),o={writes:i.map(a=>NP(s.serializer,a))};yield s.bo("Commit",s.serializer.databaseId,on.emptyPath(),o)})}(this.datastore,this.mutations),this.committed=!0})}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw He();t=Je.min()}let r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Pe(de.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){let t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Je.min())?ai.exists(!1):ai.updateTime(t):ai.none()}preconditionForUpdate(e){let t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Je.min()))throw new Pe(de.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ai.updateTime(t)}return ai.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}};var oC=class{constructor(e,t,r,i,s){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=s,this.Tu=r.maxAttempts,this.a_=new Cf(this.asyncQueue,"transaction_retry")}Iu(){this.Tu-=1,this.Eu()}Eu(){this.a_.Xo(()=>B(this,null,function*(){let e=new sC(this.datastore),t=this.du(e);t&&t.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.Au(i)}))}).catch(r=>{this.Au(r)})}))}du(e){try{let t=this.updateFunction(e);return!Af(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Au(e){this.Tu>0&&this.Ru(e)?(this.Tu-=1,this.asyncQueue.enqueueAndForget(()=>(this.Eu(),Promise.resolve()))):this.deferred.reject(e)}Ru(e){if(e.name==="FirebaseError"){let t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!kP(t)}return!1}};var wa="FirestoreClient",aC=class{constructor(e,t,r,i,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Qn.UNAUTHENTICATED,this.clientId=Lm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,o=>B(this,null,function*(){Fe(wa,"Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(Fe(wa,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Bi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>B(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=NC(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function PE(n,e){return B(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),Fe(wa,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>B(this,null,function*(){r.isEqual(i)||(yield UP(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function PR(n,e){return B(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield lW(n);Fe(wa,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>DR(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>DR(e.remoteStore,i)),n._onlineComponents=e})}function lW(n){return B(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Fe(wa,"Using user provided OfflineComponentProvider");try{yield PE(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===de.FAILED_PRECONDITION||i.code===de.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;nu("Error using user provided cache. Falling back to memory cache: "+t),yield PE(n,new eO)}}else Fe(wa,"Using default OfflineComponentProvider"),yield PE(n,new iC(void 0));return n._offlineComponents})}function jC(n){return B(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(Fe(wa,"Using user provided OnlineComponentProvider"),yield PR(n,n._uninitializedComponentsProvider._online)):(Fe(wa,"Using default OnlineComponentProvider"),yield PR(n,new cW))),n._onlineComponents})}function uW(n){return jC(n).then(e=>e.syncEngine)}function dW(n){return jC(n).then(e=>e.datastore)}function lg(n){return B(this,null,function*(){let e=yield jC(n),t=e.eventManager;return t.onListen=Xz.bind(null,e.syncEngine),t.onUnlisten=Zz.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Yz.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Jz.bind(null,e.syncEngine),t})}function fW(n,e,t={}){let r=new Bi;return n.asyncQueue.enqueueAndForget(()=>B(this,null,function*(){return function(s,o,a,c,l){let u=new If({next:h=>{u.su(),o.enqueueAndForget(()=>LC(s,f));let p=h.docs.has(a);!p&&h.fromCache?l.reject(new Pe(de.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&h.fromCache&&c&&c.source==="server"?l.reject(new Pe(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(h)},error:h=>l.reject(h)}),f=new bf(xg(a.path),u,{includeMetadataChanges:!0,Ta:!0});return FC(s,f)}(yield lg(n),n.asyncQueue,e,t,r)})),r.promise}function hW(n,e,t={}){let r=new Bi;return n.asyncQueue.enqueueAndForget(()=>B(this,null,function*(){return function(s,o,a,c,l){let u=new If({next:h=>{u.su(),o.enqueueAndForget(()=>LC(s,f)),h.fromCache&&c.source==="server"?l.reject(new Pe(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(h)},error:h=>l.reject(h)}),f=new bf(a,u,{includeMetadataChanges:!0,Ta:!0});return FC(s,f)}(yield lg(n),n.asyncQueue,e,t,r)})),r.promise}function tO(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var OR=new Map;function nO(n,e,t){if(!t)throw new Pe(de.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function pW(n,e,t,r){if(e===!0&&r===!0)throw new Pe(de.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function NR(n){if(!ze.isDocumentKey(n))throw new Pe(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function FR(n){if(ze.isDocumentKey(n))throw new Pe(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Tg(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":He()}function Ci(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Pe(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=Tg(n);throw new Pe(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var rO="firestore.googleapis.com",LR=!0,ug=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Pe(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=rO,this.ssl=LR}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:LR;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=BP;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Iz)throw new Pe(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}pW("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=tO((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Pe(de.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Pe(de.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Pe(de.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},mu=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ug({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Pe(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Pe(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ug(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new OE;switch(r.type){case"firstParty":return new VE(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Pe(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return B(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=OR.get(t);r&&(Fe("ComponentProvider","Removing Datastore"),OR.delete(t),r.terminate())}(this),Promise.resolve()}};function iO(n,e,t,r={}){var i;let s=(n=Ci(n,mu))._getSettings(),o=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),a=`${e}:${t}`;s.host!==rO&&s.host!==a&&nu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let c=Object.assign(Object.assign({},s),{host:a,ssl:!1,emulatorOptions:r});if(!Fi(c,o)&&(n._setSettings(c),r.mockUserToken)){let l,u;if(typeof r.mockUserToken=="string")l=r.mockUserToken,u=Qn.MOCK_USER;else{l=J0(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new Pe(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Qn(f)}n._authCredentials=new NE(new Nm(l,u))}}var Sc=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Sr=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _a(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},_a=class n extends Sc{constructor(e,t,r){super(e,t,xg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Sr(this.firestore,null,new ze(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function sO(n,e,...t){if(n=zt(n),nO("collection","path",e),n instanceof mu){let r=on.fromString(e,...t);return FR(r),new _a(n,null,r)}{if(!(n instanceof Sr||n instanceof _a))throw new Pe(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(on.fromString(e,...t));return FR(r),new _a(n.firestore,null,r)}}function $C(n,e,...t){if(n=zt(n),arguments.length===1&&(e=Lm.newId()),nO("doc","path",e),n instanceof mu){let r=on.fromString(e,...t);return NR(r),new Sr(n,null,new ze(r))}{if(!(n instanceof Sr||n instanceof _a))throw new Pe(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(on.fromString(e,...t));return NR(r),new Sr(n.firestore,n instanceof _a?n.converter:null,new ze(r))}}var VR="AsyncQueue",dg=class{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new Cf(this,"async_queue_retry"),this.bu=()=>{let r=RE();r&&Fe(VR,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.Su=e;let t=RE();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;let t=RE();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});let t=new Bi;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}Cu(){return B(this,null,function*(){if(this.Vu.length!==0){try{yield this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Eu(e))throw e;Fe(VR,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}})}vu(e){let t=this.Su.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Co("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.Su=t,t}enqueueAfterDelay(e,t,r){this.Du(),this.wu.indexOf(e)>-1&&(t=0);let i=Xw.createAndSchedule(this,e,t,r,s=>this.Fu(s));return this.fu.push(i),i}Du(){this.gu&&He()}verifyOperationInProgress(){}Mu(){return B(this,null,function*(){let e;do e=this.Su,yield e;while(e!==this.Su)})}xu(e){for(let t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){let t=this.fu.indexOf(e);this.fu.splice(t,1)}};function BR(n){return function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(n,["next","error","complete"])}var os=class extends mu{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new dg,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return B(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new dg(e),this._firestoreClient=void 0,yield e}})}};function oO(n,e){let t=typeof n=="object"?n:mo(),r=typeof n=="string"?n:e||jm,i=la(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=Z0("firestore");s&&iO(i,...s)}return i}function Pf(n){if(n._terminated)throw new Pe(de.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||mW(n),n._firestoreClient}function mW(n){var e,t,r;let i=n._freezeSettings(),s=function(a,c,l,u){return new $E(a,c,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,tO(u.experimentalLongPollingOptions),u.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new aC(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&function(a){let c=a?._online.build();return{_offline:a?._offline.build(c),_online:c}}(n._componentsProvider))}var gu=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(Dr.fromBase64String(e))}catch(t){throw new Pe(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(Dr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Dc=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Pe(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ei(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var kc=class{constructor(e){this._methodName=e}};var Tf=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Pe(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Pe(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return wt(this._lat,e._lat)||wt(this._long,e._long)}};var Sf=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}};var gW=/^__.*__$/,cC=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Ls(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ic(e,this.data,t,this.fieldTransforms)}},fg=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Ls(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function aO(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw He()}}var hg=class n{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Bu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.$u(e),i}Ku(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.Bu(),i}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return mg(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(aO(this.Lu)&&gW.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}},lC=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Cg(e)}ju(e,t,r,i=!1){return new hg({Lu:e,methodName:t,zu:r,path:Ei.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Sg(n){let e=n._freezeSettings(),t=Cg(n._databaseId);return new lC(n._databaseId,!!e.ignoreUndefinedProperties,t)}function cO(n,e,t,r,i,s={}){let o=n.ju(s.merge||s.mergeFields?2:0,e,t,i);HC("Data must be an object, but it was:",o,r);let a=fO(r,o),c,l;if(s.merge)c=new Vi(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){let u=[];for(let f of s.mergeFields){let h=fC(e,f,t);if(!o.contains(h))throw new Pe(de.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);pO(u,h)||u.push(h)}c=new Vi(u),l=o.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,l=o.fieldTransforms;return new cC(new oi(a),c,l)}var pg=class n extends kc{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function lO(n,e,t){return new hg({Lu:3,zu:e.settings.zu,methodName:n._methodName,Qu:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}var uC=class n extends kc{constructor(e,t){super(e),this.Hu=t}_toFieldTransform(e){let t=lO(this,e,!0),r=this.Hu.map(s=>Mc(s,t)),i=new ya(r);return new zm(e.path,i)}isEqual(e){return e instanceof n&&Fi(this.Hu,e.Hu)}},dC=class n extends kc{constructor(e,t){super(e),this.Hu=t}_toFieldTransform(e){let t=lO(this,e,!0),r=this.Hu.map(s=>Mc(s,t)),i=new xa(r);return new zm(e.path,i)}isEqual(e){return e instanceof n&&Fi(this.Hu,e.Hu)}};function uO(n,e,t,r){let i=n.ju(1,e,t);HC("Data must be an object, but it was:",i,r);let s=[],o=oi.empty();Ca(r,(c,l)=>{let u=zC(e,c,t);l=zt(l);let f=i.Ku(u);if(l instanceof pg)s.push(u);else{let h=Mc(l,f);h!=null&&(s.push(u),o.set(u,h))}});let a=new Vi(s);return new fg(o,a,i.fieldTransforms)}function dO(n,e,t,r,i,s){let o=n.ju(1,e,t),a=[fC(e,r,t)],c=[i];if(s.length%2!=0)throw new Pe(de.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(fC(e,s[h])),c.push(s[h+1]);let l=[],u=oi.empty();for(let h=a.length-1;h>=0;--h)if(!pO(l,a[h])){let p=a[h],y=c[h];y=zt(y);let v=o.Ku(p);if(y instanceof pg)l.push(p);else{let w=Mc(y,v);w!=null&&(l.push(p),u.set(p,w))}}let f=new Vi(l);return new fg(u,f,o.fieldTransforms)}function _W(n,e,t,r=!1){return Mc(t,n.ju(r?4:3,e))}function Mc(n,e){if(hO(n=zt(n)))return HC("Unsupported field value:",e,n),fO(n,e);if(n instanceof kc)return function(r,i){if(!aO(i.Lu))throw i.Wu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let c=Mc(a,i.Uu(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(n,e)}return function(r,i){if((r=zt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return ez(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=ur.fromDate(r);return{timestampValue:Ym(i.serializer,s)}}if(r instanceof ur){let s=new ur(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ym(i.serializer,s)}}if(r instanceof Tf)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof gu)return{bytesValue:MP(i.serializer,r._byteString)};if(r instanceof Sr){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Wu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:kC(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Sf)return function(o,a){return{mapValue:{fields:{[CC]:{stringValue:bC},[iu]:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Wu("VectorValues must only contain numeric values.");return DC(a.serializer,l)})}}}}}}(r,i);throw i.Wu(`Unsupported field value: ${Tg(r)}`)}(n,e)}function fO(n,e){let t={};return nP(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ca(n,(r,i)=>{let s=Mc(i,e.qu(r));s!=null&&(t[r]=s)}),{mapValue:{fields:t}}}function hO(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ur||n instanceof Tf||n instanceof gu||n instanceof Sr||n instanceof kc||n instanceof Sf)}function HC(n,e,t){if(!hO(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){let r=Tg(t);throw r==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+r)}}function fC(n,e,t){if((e=zt(e))instanceof Dc)return e._internalPath;if(typeof e=="string")return zC(n,e);throw mg("Field path arguments must be of type string or ",n,!1,void 0,t)}var vW=new RegExp("[~\\*/\\[\\]]");function zC(n,e,t){if(e.search(vW)>=0)throw mg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Dc(...e.split("."))._internalPath}catch{throw mg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function mg(n,e,t,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new Pe(de.INVALID_ARGUMENT,a+n+c)}function pO(n,e){return n.some(t=>t.isEqual(e))}var _u=class{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Sr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new hC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(WC("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},hC=class extends _u{data(){return super.data()}};function WC(n,e){return typeof e=="string"?zC(n,e):e instanceof Dc?e._internalPath:e._delegate._internalPath}function mO(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Pe(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Df=class{},pC=class extends Df{};function gO(n,e,...t){let r=[];e instanceof Df&&r.push(e),r=r.concat(t),function(s){let o=s.filter(c=>c instanceof mC).length,a=s.filter(c=>c instanceof gg).length;if(o>1||o>0&&a>0)throw new Pe(de.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)n=i._apply(n);return n}var gg=class n extends pC{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return vO(e._query,t),new Sc(e.firestore,e.converter,tw(e._query,t))}_parse(e){let t=Sg(e.firestore);return function(s,o,a,c,l,u,f){let h;if(l.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new Pe(de.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){jR(f,u);let y=[];for(let v of f)y.push(UR(c,s,v));h={arrayValue:{values:y}}}else h=UR(c,s,f)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||jR(f,u),h=_W(a,o,f,u==="in"||u==="not-in");return Nn.create(l,u,h)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function _O(n,e,t){let r=e,i=WC("where",n);return gg._create(i,r,t)}var mC=class n extends Df{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:ss.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(i,s){let o=i,a=s.getFlattenedFilters();for(let c of a)vO(o,c),o=tw(o,c)}(e._query,t),new Sc(e.firestore,e.converter,tw(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function UR(n,e,t){if(typeof(t=zt(t))=="string"){if(t==="")throw new Pe(de.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!gP(e)&&t.indexOf("/")!==-1)throw new Pe(de.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(on.fromString(t));if(!ze.isDocumentKey(r))throw new Pe(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return oR(n,new ze(r))}if(t instanceof Sr)return oR(n,t._key);throw new Pe(de.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Tg(t)}.`)}function jR(n,e){if(!Array.isArray(n)||n.length===0)throw new Pe(de.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function vO(n,e){let t=function(i,s){for(let o of i)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Pe(de.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Pe(de.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var _g=class{convertValue(e,t="none"){switch(va(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Io(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw He()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return Ca(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertVectorValue(e){var t,r,i;let s=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[iu].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>dn(o.doubleValue));return new Sf(s)}convertGeoPoint(e){return new Tf(dn(e.latitude),dn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=yg(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(_f(e));default:return null}}convertTimestamp(e){let t=bo(e);return new ur(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=on.fromString(e);St(VP(r));let i=new $m(r.get(1),r.get(3)),s=new ze(r.popFirst(5));return i.isEqual(t)||Co(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}};function yO(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var gC=class extends _g{constructor(e){super(),this.firestore=e}convertBytes(e){return new gu(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Sr(this.firestore,null,t)}};var ga=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},kf=class extends _u{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new tu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(WC("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},tu=class extends kf{data(e={}){return super.data(e)}},vg=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new ga(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new tu(this._firestore,this._userDataWriter,r.key,r,new ga(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Pe(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let c=new tu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ga(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let c=new tu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ga(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,u=-1;return a.type!==0&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:yW(a.type),doc:c,oldIndex:l,newIndex:u}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function yW(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return He()}}function xO(n){n=Ci(n,Sr);let e=Ci(n.firestore,os);return fW(Pf(e),n._key).then(t=>IO(e,n,t))}var vu=class extends _g{constructor(e){super(),this.firestore=e}convertBytes(e){return new gu(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Sr(this.firestore,null,t)}};function EO(n){n=Ci(n,Sc);let e=Ci(n.firestore,os),t=Pf(e),r=new vu(e);return mO(n._query),hW(t,n._query).then(i=>new vg(e,r,n,i))}function wO(n,e,t,...r){n=Ci(n,Sr);let i=Ci(n.firestore,os),s=Sg(i),o;return o=typeof(e=zt(e))=="string"||e instanceof Dc?dO(s,"updateDoc",n._key,e,t,r):uO(s,"updateDoc",n._key,e),GC(i,[o.toMutation(n._key,ai.exists(!0))])}function CO(n){return GC(Ci(n.firestore,os),[new hu(n._key,ai.none())])}function bO(n,e){let t=Ci(n.firestore,os),r=$C(n),i=yO(n.converter,e);return GC(t,[cO(Sg(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,ai.exists(!1))]).then(()=>r)}function qC(n,...e){var t,r,i;n=zt(n);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||BR(e[o])||(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(BR(e[o])){let f=e[o];e[o]=(t=f.next)===null||t===void 0?void 0:t.bind(f),e[o+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[o+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let c,l,u;if(n instanceof Sr)l=Ci(n.firestore,os),u=xg(n._key.path),c={next:f=>{e[o]&&e[o](IO(l,n,f))},error:e[o+1],complete:e[o+2]};else{let f=Ci(n,Sc);l=Ci(f.firestore,os),u=f._query;let h=new vu(l);c={next:p=>{e[o]&&e[o](new vg(l,h,f,p))},error:e[o+1],complete:e[o+2]},mO(n._query)}return function(h,p,y,v){let w=new If(v),F=new bf(p,w,y);return h.asyncQueue.enqueueAndForget(()=>B(this,null,function*(){return FC(yield lg(h),F)})),()=>{w.su(),h.asyncQueue.enqueueAndForget(()=>B(this,null,function*(){return LC(yield lg(h),F)}))}}(Pf(l),u,a,c)}function GC(n,e){return function(r,i){let s=new Bi;return r.asyncQueue.enqueueAndForget(()=>B(this,null,function*(){return eW(yield uW(r),i,s)})),s.promise}(Pf(n),e)}function IO(n,e,t){let r=t.docs.get(e._key),i=new vu(n);return new kf(n,i,e._key,r,new ga(t.hasPendingWrites,t.fromCache),e.converter)}var xW={maxAttempts:5};function lf(n,e){if((n=zt(n)).firestore!==e)throw new Pe(de.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}var _C=class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Sg(e)}get(e){let t=lf(e,this._firestore),r=new gC(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||i.length!==1)return He();let s=i[0];if(s.isFoundDocument())return new _u(this._firestore,r,s.key,s,t.converter);if(s.isNoDocument())return new _u(this._firestore,r,t._key,null,t.converter);throw He()})}set(e,t,r){let i=lf(e,this._firestore),s=yO(i.converter,t,r),o=cO(this._dataReader,"Transaction.set",i._key,s,i.converter!==null,r);return this._transaction.set(i._key,o),this}update(e,t,r,...i){let s=lf(e,this._firestore),o;return o=typeof(t=zt(t))=="string"||t instanceof Dc?dO(this._dataReader,"Transaction.update",s._key,t,r,i):uO(this._dataReader,"Transaction.update",s._key,t),this._transaction.update(s._key,o),this}delete(e){let t=lf(e,this._firestore);return this._transaction.delete(t._key),this}};var vC=class extends _C{constructor(e,t){super(e,t),this._firestore=e}get(e){let t=lf(e,this._firestore),r=new vu(this._firestore);return super.get(e).then(i=>new kf(this._firestore,r,t._key,i._document,new ga(!1,!1),t.converter))}};function KC(n,e,t){n=Ci(n,os);let r=Object.assign(Object.assign({},xW),t);return function(s){if(s.maxAttempts<1)throw new Pe(de.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,o,a){let c=new Bi;return s.asyncQueue.enqueueAndForget(()=>B(this,null,function*(){let l=yield dW(s);new oC(s.asyncQueue,l,a,o,c).Iu()})),c.promise}(Pf(n),i=>e(new vC(n,i)),r)}function TO(...n){return new uC("arrayUnion",n)}function SO(...n){return new dC("arrayRemove",n)}(function(e,t=!0){(function(i){yu=i})(ks),yi(new lr("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new os(new FE(r.getProvider("auth-internal")),new BE(o,r.getProvider("app-check-internal")),function(l,u){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new Pe(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $m(l.options.projectId,u)}(o,i),o);return s=Object.assign({useFetchStreams:t},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Xt(QM,ZM,e),Xt(QM,ZM,"esm2017")})();var Dg=function(){return Dg=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Dg.apply(this,arguments)};var CW={includeMetadataChanges:!1};function XC(n,e){return e===void 0&&(e=CW),new lt(function(t){var r=qC(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function DO(n){return XC(n,{includeMetadataChanges:!0})}function kO(n,e){return e===void 0&&(e={}),DO(n).pipe(ut(function(t){return YC(t,e)}))}function YC(n,e){var t;e===void 0&&(e={});var r=n.data(e);return!n.exists()||typeof r!="object"||r===null||!e.idField?r:Dg(Dg({},r),(t={},t[e.idField]=n.id,t))}function AO(n){return XC(n,{includeMetadataChanges:!0}).pipe(ut(function(e){return e.docs}))}function MO(n,e){return e===void 0&&(e={}),AO(n).pipe(ut(function(t){return t.map(function(r){return YC(r,e)})}))}var Wn=class{constructor(e){return e}},RO="firestore",QC=class{constructor(){return ua(RO)}};var ZC=new je("angularfire2.firestore-instances");function bW(n,e){let t=pc(RO,n,e);return t&&new Wn(t)}function IW(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Wn(r)}}var TW={provide:QC,deps:[[new An,ZC]]},SW={provide:Wn,useFactory:bW,deps:[[new An,ZC],rs]};function PO(n,...e){return Xt("angularfire",As.full,"fst"),Ji([SW,TW,{provide:ZC,useFactory:IW(n),multi:!0,deps:[Nt,gn,Ms,go,[new An,yc],[new An,fa],...e]}])}var Cu=sn(MO,!0);var OO=sn(kO,!0);var bu=sn(bO,!0,2);var an=sn(sO,!0,2);var kg=sn(CO,!0,2);var it=sn($C,!0,2);var qr=sn(xO,!0);var Gr=sn(EO,!0);var NO=sn(oO,!0);var Iu=sn(gO,!0,2);var Wt=sn(wO,!0,2);var Ag=sn(_O,!0,2);var jO="firebasestorage.googleapis.com",DW="storageBucket",kW=2*60*1e3,AW=10*60*1e3;var Vs=class n extends Wr{constructor(e,t,r=0){super(JC(e),`Firebase Storage: ${t} (${JC(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,n.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return JC(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},ko=function(n){return n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",n}(ko||{});function JC(n){return"storage/"+n}function MW(){let n="An unknown error occurred, please check the error payload for server response.";return new Vs(ko.UNKNOWN,n)}function RW(){return new Vs(ko.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function PW(){return new Vs(ko.CANCELED,"User canceled the upload/download.")}function OW(n){return new Vs(ko.INVALID_URL,"Invalid URL '"+n+"'.")}function NW(n){return new Vs(ko.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function FO(n){return new Vs(ko.INVALID_ARGUMENT,n)}function $O(){return new Vs(ko.APP_DELETED,"The Firebase app was deleted.")}function FW(n){return new Vs(ko.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}var Do=class n{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=n.makeFromUrl(e,t)}catch{return new n(e,"")}if(r.path==="")return r;throw NW(e)}static makeFromUrl(e,t){let r=null,i="([A-Za-z0-9.\\-_]+)";function s(X){X.path.charAt(X.path.length-1)==="/"&&(X.path_=X.path_.slice(0,-1))}let o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),c={bucket:1,path:3};function l(X){X.path_=decodeURIComponent(X.path)}let u="v[A-Za-z0-9_]+",f=t.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",p=new RegExp(`^https?://${f}/${u}/b/${i}/o${h}`,"i"),y={bucket:1,path:3},v=t===jO?"(?:storage.googleapis.com|storage.cloud.google.com)":t,w="([^?#]*)",F=new RegExp(`^https?://${v}/${i}/${w}`,"i"),k=[{regex:a,indices:c,postModify:s},{regex:p,indices:y,postModify:l},{regex:F,indices:{bucket:1,path:2},postModify:l}];for(let X=0;X<k.length;X++){let se=k[X],G=se.regex.exec(e);if(G){let b=G[se.indices.bucket],I=G[se.indices.path];I||(I=""),r=new n(b,I),se.postModify(r);break}}if(r==null)throw OW(e);return r}},eb=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function LW(n,e,t){let r=1,i=null,s=null,o=!1,a=0;function c(){return a===2}let l=!1;function u(...w){l||(l=!0,e.apply(null,w))}function f(w){i=setTimeout(()=>{i=null,n(p,c())},w)}function h(){s&&clearTimeout(s)}function p(w,...F){if(l){h();return}if(w){h(),u.call(null,w,...F);return}if(c()||o){h(),u.call(null,w,...F);return}r<64&&(r*=2);let k;a===1?(a=2,k=0):k=(r+Math.random())*1e3,f(k)}let y=!1;function v(w){y||(y=!0,h(),!l&&(i!==null?(w||(a=2),clearTimeout(i),f(0)):w||(a=1)))}return f(0),s=setTimeout(()=>{o=!0,v(!0)},t),v}function VW(n){n(!1)}function BW(n){return n!==void 0}function LO(n,e,t,r){if(r<e)throw FO(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw FO(`Invalid value for '${n}'. Expected ${t} or less.`)}function UW(n){let e=encodeURIComponent,t="?";for(let r in n)if(n.hasOwnProperty(r)){let i=e(r)+"="+e(n[r]);t=t+i+"&"}return t=t.slice(0,-1),t}var tb=function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n}(tb||{});function jW(n,e){let t=n>=500&&n<600,i=[408,429].indexOf(n)!==-1,s=e.indexOf(n)!==-1;return t||i||s}var nb=class{constructor(e,t,r,i,s,o,a,c,l,u,f,h=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=c,this.timeout_=l,this.progressCallback_=u,this.connectionFactory_=f,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,y)=>{this.resolve_=p,this.reject_=y,this.start_()})}start_(){let e=(r,i)=>{if(i){r(!1,new Su(!1,null,!0));return}let s=this.connectionFactory_();this.pendingConnection_=s;let o=a=>{let c=a.loaded,l=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,l)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;let a=s.getErrorCode()===tb.NO_ERROR,c=s.getStatus();if(!a||jW(c,this.additionalRetryCodes_)&&this.retry){let u=s.getErrorCode()===tb.ABORT;r(!1,new Su(!1,null,u));return}let l=this.successCodes_.indexOf(c)!==-1;r(!0,new Su(l,s))})},t=(r,i)=>{let s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{let c=this.callback_(a,a.getResponse());BW(c)?s(c):s()}catch(c){o(c)}else if(a!==null){let c=MW();c.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,c)):o(c)}else if(i.canceled){let c=this.appDelete_?$O():PW();o(c)}else{let c=RW();o(c)}};this.canceled_?t(!1,new Su(!1,null,!0)):this.backoffId_=LW(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&VW(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},Su=class{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}};function $W(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function HW(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function zW(n,e){e&&(n["X-Firebase-GMPID"]=e)}function WW(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function qW(n,e,t,r,i,s,o=!0){let a=UW(n.urlParams),c=n.url+a,l=Object.assign({},n.headers);return zW(l,e),$W(l,t),HW(l,s),WW(l,r),new nb(c,n.method,l,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,o)}function GW(n){if(n.length===0)return null;let e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function KW(n){let e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}var tve=256*1024;var rb=class n{constructor(e,t){this._service=e,t instanceof Do?this._location=t:this._location=Do.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new n(e,t)}get root(){let e=new Do(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return KW(this._location.path)}get storage(){return this._service}get parent(){let e=GW(this._location.path);if(e===null)return null;let t=new Do(this._location.bucket,e);return new n(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw FW(e)}};function VO(n,e){let t=e?.[DW];return t==null?null:Do.makeFromBucketSpec(t,n)}function XW(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";let{mockUserToken:i}=r;i&&(n._overrideAuthToken=typeof i=="string"?i:J0(i,n.app.options.projectId))}var ib=class{constructor(e,t,r,i,s){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=jO,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=kW,this._maxUploadRetryTime=AW,this._requests=new Set,i!=null?this._bucket=Do.makeFromBucketSpec(i,this._host):this._bucket=VO(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Do.makeFromBucketSpec(this._url,e):this._bucket=VO(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){LO("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){LO("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return B(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let t=yield e.getToken();if(t!==null)return t.accessToken}return null})}_getAppCheckToken(){return B(this,null,function*(){if(Ir(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new rb(this,e)}_makeRequest(e,t,r,i,s=!0){if(this._deleted)return new eb($O());{let o=qW(e,this._appId,r,i,t,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(e,t){return B(this,null,function*(){let[r,i]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,i).getPromise()})}},BO="@firebase/storage",UO="0.13.7";var HO="storage";function zO(n=mo(),e){n=zt(n);let r=la(n,HO).getImmediate({identifier:e}),i=Z0("storage");return i&&WO(r,...i),r}function WO(n,e,t,r={}){XW(n,e,t,r)}function YW(n,{instanceIdentifier:e}){let t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new ib(t,r,i,e,ks)}function QW(){yi(new lr(HO,YW,"PUBLIC").setMultipleInstances(!0)),Xt(BO,UO,""),Xt(BO,UO,"esm2017")}QW();var Rc=class{constructor(e){return e}},qO="storage",sb=class{constructor(){return ua(qO)}};var ob=new je("angularfire2.storage-instances");function ZW(n,e){let t=pc(qO,n,e);return t&&new Rc(t)}function JW(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Rc(r)}}var eq={provide:sb,deps:[[new An,ob]]},tq={provide:Rc,useFactory:ZW,deps:[[new An,ob],rs]};function GO(n,...e){return Xt("angularfire",As.full,"gcs"),Ji([tq,eq,{provide:ob,useFactory:JW(n),multi:!0,deps:[Nt,gn,Ms,go,[new An,yc],[new An,fa],...e]}])}var KO=sn(zO,!0);var XO={firebase:{apiKey:"AIzaSyAdivyeN10Y5k15j04B-gJCuXz5D61pfgo",authDomain:"szakdolgozat-8a45b.firebaseapp.com",projectId:"szakdolgozat-8a45b",storageBucket:"szakdolgozat-8a45b.firebasestorage.app",messagingSenderId:"741759249396",appId:"1:741759249396:web:4f503985b47897b94167a1"}};var at="primary",Gf=Symbol("RouteTitle"),db=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Pu(n){return new db(n)}function rq(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=n[s];if(o[0]===":")i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function iq(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Bs(n[t],e[t]))return!1;return!0}function Bs(n,e){let t=n?fb(n):void 0,r=e?fb(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!sN(n[i],e[i]))return!1;return!0}function fb(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function sN(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}else return n===e}function oN(n){return n.length>0?n[n.length-1]:null}function Ia(n){return Tv(n)?n:oa(n)?Qt(Promise.resolve(n)):We(n)}var sq={exact:cN,subset:lN},aN={exact:oq,subset:aq,ignored:()=>!0};function YO(n,e,t){return sq[t.paths](n.root,e.root,t.matrixParams)&&aN[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function oq(n,e){return Bs(n,e)}function cN(n,e,t){if(!Oc(n.segments,e.segments)||!Pg(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!cN(n.children[r],e.children[r],t))return!1;return!0}function aq(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>sN(n[t],e[t]))}function lN(n,e,t){return uN(n,e,e.segments,t)}function uN(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!Oc(i,t)||e.hasChildren()||!Pg(i,t,r))}else if(n.segments.length===t.length){if(!Oc(n.segments,t)||!Pg(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!lN(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!Oc(n.segments,i)||!Pg(n.segments,i,r)||!n.children[at]?!1:uN(n.children[at],e,s,r)}}function Pg(n,e,t){return e.every((r,i)=>aN[t](n[i].parameters,r.parameters))}var Mo=class{root;queryParams;fragment;_queryParamMap;constructor(e=new Bt([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Pu(this.queryParams),this._queryParamMap}toString(){return uq.serialize(this)}},Bt=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Og(this)}},Pc=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Pu(this.parameters),this._parameterMap}toString(){return fN(this)}};function cq(n,e){return Oc(n,e)&&n.every((t,r)=>Bs(t.parameters,e[r].parameters))}function Oc(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function lq(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===at&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==at&&(t=t.concat(e(i,r)))}),t}var Kf=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=Ve({token:n,factory:()=>new Ou,providedIn:"root"})}return n})(),Ou=class{parse(e){let t=new pb(e);return new Mo(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Of(e.root,!0)}`,r=hq(e.queryParams),i=typeof e.fragment=="string"?`#${dq(e.fragment)}`:"";return`${t}${r}${i}`}},uq=new Ou;function Og(n){return n.segments.map(e=>fN(e)).join("/")}function Of(n,e){if(!n.hasChildren())return Og(n);if(e){let t=n.children[at]?Of(n.children[at],!1):"",r=[];return Object.entries(n.children).forEach(([i,s])=>{i!==at&&r.push(`${i}:${Of(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=lq(n,(r,i)=>i===at?[Of(n.children[at],!1)]:[`${i}:${Of(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[at]!=null?`${Og(n)}/${t[0]}`:`${Og(n)}/(${t.join("//")})`}}function dN(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Mg(n){return dN(n).replace(/%3B/gi,";")}function dq(n){return encodeURI(n)}function hb(n){return dN(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ng(n){return decodeURIComponent(n)}function QO(n){return Ng(n.replace(/\+/g,"%20"))}function fN(n){return`${hb(n.path)}${fq(n.parameters)}`}function fq(n){return Object.entries(n).map(([e,t])=>`;${hb(e)}=${hb(t)}`).join("")}function hq(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Mg(t)}=${Mg(i)}`).join("&"):`${Mg(t)}=${Mg(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var pq=/^[^\/()?;#]+/;function ab(n){let e=n.match(pq);return e?e[0]:""}var mq=/^[^\/()?;=#]+/;function gq(n){let e=n.match(mq);return e?e[0]:""}var _q=/^[^=?&#]+/;function vq(n){let e=n.match(_q);return e?e[0]:""}var yq=/^[^&#]+/;function xq(n){let e=n.match(yq);return e?e[0]:""}var pb=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Bt([],{}):new Bt([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[at]=new Bt(e,t)),r}parseSegment(){let e=ab(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new Ue(4009,!1);return this.capture(e),new Pc(Ng(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=gq(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=ab(this.remaining);i&&(r=i,this.capture(r))}e[Ng(t)]=Ng(r)}parseQueryParam(e){let t=vq(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let o=xq(this.remaining);o&&(r=o,this.capture(r))}let i=QO(t),s=QO(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=ab(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new Ue(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=at);let o=this.parseChildren();t[s]=Object.keys(o).length===1?o[at]:new Bt([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new Ue(4011,!1)}};function hN(n){return n.segments.length>0?new Bt([],{[at]:n}):n}function pN(n){let e={};for(let[r,i]of Object.entries(n.children)){let s=pN(i);if(r===at&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let t=new Bt(n.segments,e);return Eq(t)}function Eq(n){if(n.numberOfChildren===1&&n.children[at]){let e=n.children[at];return new Bt(n.segments.concat(e.segments),e.children)}return n}function Nc(n){return n instanceof Mo}function wq(n,e,t=null,r=null){let i=mN(n);return gN(i,e,t,r)}function mN(n){let e;function t(s){let o={};for(let c of s.children){let l=t(c);o[c.outlet]=l}let a=new Bt(s.url,o);return s===n&&(e=a),a}let r=t(n.root),i=hN(r);return e??i}function gN(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return cb(i,i,i,t,r);let s=Cq(e);if(s.toRoot())return cb(i,i,new Bt([],{}),t,r);let o=bq(s,i,n),a=o.processChildren?Ff(o.segmentGroup,o.index,s.commands):vN(o.segmentGroup,o.index,s.commands);return cb(i,o.segmentGroup,a,t,r)}function Fg(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Bf(n){return typeof n=="object"&&n!=null&&n.outlets}function cb(n,e,t,r,i){let s={};r&&Object.entries(r).forEach(([c,l])=>{s[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let o;n===e?o=t:o=_N(n,e,t);let a=hN(pN(o));return new Mo(a,s,i)}function _N(n,e,t){let r={};return Object.entries(n.children).forEach(([i,s])=>{s===e?r[i]=t:r[i]=_N(s,e,t)}),new Bt(n.segments,r)}var Lg=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Fg(r[0]))throw new Ue(4003,!1);let i=r.find(Bf);if(i&&i!==oN(r))throw new Ue(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Cq(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Lg(!0,0,n);let e=0,t=!1,r=n.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new Lg(t,e,r)}var Au=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function bq(n,e,t){if(n.isAbsolute)return new Au(e,!0,0);if(!t)return new Au(e,!1,NaN);if(t.parent===null)return new Au(t,!0,0);let r=Fg(n.commands[0])?0:1,i=t.segments.length-1+r;return Iq(t,i,n.numberOfDoubleDots)}function Iq(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Ue(4005,!1);i=r.segments.length}return new Au(r,!1,i-s)}function Tq(n){return Bf(n[0])?n[0].outlets:{[at]:n}}function vN(n,e,t){if(n??=new Bt([],{}),n.segments.length===0&&n.hasChildren())return Ff(n,e,t);let r=Sq(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let s=new Bt(n.segments.slice(0,r.pathIndex),{});return s.children[at]=new Bt(n.segments.slice(r.pathIndex),n.children),Ff(s,0,i)}else return r.match&&i.length===0?new Bt(n.segments,{}):r.match&&!n.hasChildren()?mb(n,e,t):r.match?Ff(n,0,i):mb(n,e,t)}function Ff(n,e,t){if(t.length===0)return new Bt(n.segments,{});{let r=Tq(t),i={};if(Object.keys(r).some(s=>s!==at)&&n.children[at]&&n.numberOfChildren===1&&n.children[at].segments.length===0){let s=Ff(n.children[at],e,t);return new Bt(n.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=vN(n.children[s],e,o))}),Object.entries(n.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new Bt(n.segments,i)}}function Sq(n,e,t){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;let o=n.segments[i],a=t[r];if(Bf(a))break;let c=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!JO(c,l,o))return s;r+=2}else{if(!JO(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function mb(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let s=t[i];if(Bf(s)){let c=Dq(s.outlets);return new Bt(r,c)}if(i===0&&Fg(t[0])){let c=n.segments[e];r.push(new Pc(c.path,ZO(t[0]))),i++;continue}let o=Bf(s)?s.outlets[at]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&Fg(a)?(r.push(new Pc(o,ZO(a))),i+=2):(r.push(new Pc(o,{})),i++)}return new Bt(r,{})}function Dq(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=mb(new Bt([],{}),0,r))}),e}function ZO(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function JO(n,e,t){return n==t.path&&Bs(e,t.parameters)}var Lf="imperative",Jn=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(Jn||{}),Ui=class{id;url;constructor(e,t){this.id=e,this.url=t}},Nu=class extends Ui{type=Jn.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},cs=class extends Ui{urlAfterRedirects;type=Jn.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ti=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Ti||{}),Vg=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Vg||{}),Ao=class extends Ui{reason;code;type=Jn.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},ba=class extends Ui{reason;code;type=Jn.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},Uf=class extends Ui{error;target;type=Jn.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Bg=class extends Ui{urlAfterRedirects;state;type=Jn.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},gb=class extends Ui{urlAfterRedirects;state;type=Jn.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},_b=class extends Ui{urlAfterRedirects;state;shouldActivate;type=Jn.GuardsCheckEnd;constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},vb=class extends Ui{urlAfterRedirects;state;type=Jn.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},yb=class extends Ui{urlAfterRedirects;state;type=Jn.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},xb=class{route;type=Jn.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Eb=class{route;type=Jn.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},wb=class{snapshot;type=Jn.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Cb=class{snapshot;type=Jn.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},bb=class{snapshot;type=Jn.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ib=class{snapshot;type=Jn.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ug=class{routerEvent;position;anchor;type=Jn.Scroll;constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},jf=class{},Fu=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function kq(n,e){return n.providers&&!n._injector&&(n._injector=N0(n.providers,e,`Route: ${n.path}`)),n._injector??e}function as(n){return n.outlet||at}function Aq(n,e){let t=n.filter(r=>as(r)===e);return t.push(...n.filter(r=>as(r)!==e)),t}function Xf(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Tb=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Xf(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Yf(this.rootInjector)}},Yf=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Tb(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(Ze($r))};static \u0275prov=Ve({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),jg=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=Sb(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=Sb(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=Db(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Db(e,this._root).map(t=>t.value)}};function Sb(n,e){if(n===e.value)return e;for(let t of e.children){let r=Sb(n,t);if(r)return r}return null}function Db(n,e){if(n===e.value)return[e];for(let t of e.children){let r=Db(n,t);if(r.length)return r.unshift(e),r}return[]}var Ii=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function ku(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var $g=class extends jg{snapshot;constructor(e,t){super(e),this.snapshot=t,Lb(this,e)}toString(){return this.snapshot.toString()}};function yN(n){let e=Mq(n),t=new $n([new Pc("",{})]),r=new $n({}),i=new $n({}),s=new $n({}),o=new $n(""),a=new ci(t,r,s,o,i,at,n,e.root);return a.snapshot=e.root,new $g(new Ii(a,[]),e)}function Mq(n){let e={},t={},r={},i="",s=new Mu([],e,r,i,t,at,n,null,{});return new zg("",new Ii(s,[]))}var ci=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(ut(l=>l[Gf]))??We(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ut(e=>Pu(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ut(e=>Pu(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Hg(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:me(me({},e.params),n.params),data:me(me({},e.data),n.data),resolve:me(me(me(me({},n.data),e.data),i?.data),n._resolvedData)}:r={params:me({},n.params),data:me({},n.data),resolve:me(me({},n.data),n._resolvedData??{})},i&&EN(i)&&(r.resolve[Gf]=i.title),r}var Mu=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Gf]}constructor(e,t,r,i,s,o,a,c,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Pu(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Pu(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},zg=class extends jg{url;constructor(e,t){super(t),this.url=e,Lb(this,t)}toString(){return xN(this._root)}};function Lb(n,e){e.value._routerState=n,e.children.forEach(t=>Lb(n,t))}function xN(n){let e=n.children.length>0?` { ${n.children.map(xN).join(", ")} } `:"";return`${n.value}${e}`}function lb(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Bs(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Bs(e.params,t.params)||n.paramsSubject.next(t.params),iq(e.url,t.url)||n.urlSubject.next(t.url),Bs(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function kb(n,e){let t=Bs(n.params,e.params)&&cq(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||kb(n.parent,e.parent))}function EN(n){return typeof n.title=="string"||n.title===null}var Rq=new je(""),Vb=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=at;activateEvents=new Hn;deactivateEvents=new Hn;attachEvents=new Hn;detachEvents=new Hn;routerOutletData=xk(void 0);parentContexts=ue(Yf);location=ue(co);changeDetector=ue(lo);inputBinder=ue(Xg,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Ue(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Ue(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Ue(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Ue(4013,!1);this._activatedRoute=t;let i=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new Ab(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(o,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Ft({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[ra]})}return n})(),Ab=class n{route;childContexts;parent;outletData;__ngOutletInjector(e){return new n(this.route,this.childContexts,e,this.outletData)}constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===ci?this.route:e===Yf?this.childContexts:e===Rq?this.outletData:this.parent.get(e,t)}},Xg=new je(""),eN=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=xd([r.queryParams,r.params,r.data]).pipe(ar(([s,o,a],c)=>(a=me(me(me({},s),o),a),c===0?We(a):Promise.resolve(a)))).subscribe(s=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let o=kA(r.component);if(!o){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of o.inputs)t.activatedComponentRef.setInput(a,s[a])});this.outletDataSubscriptions.set(t,i)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Ve({token:n,factory:n.\u0275fac})}return n})();function Pq(n,e,t){let r=$f(n,e._root,t?t._root:void 0);return new $g(r,e)}function $f(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=Oq(n,e,t);return new Ii(r,i)}else{if(n.shouldAttach(e.value)){let s=n.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>$f(n,a)),o}}let r=Nq(e.value),i=e.children.map(s=>$f(n,s));return new Ii(r,i)}}function Oq(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return $f(n,r,i);return $f(n,r)})}function Nq(n){return new ci(new $n(n.url),new $n(n.params),new $n(n.queryParams),new $n(n.fragment),new $n(n.data),n.outlet,n.component,n)}var Hf=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},wN="ngNavigationCancelingError";function Wg(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Nc(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=CN(!1,Ti.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function CN(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[wN]=!0,t.cancellationCode=e,t}function Fq(n){return bN(n)&&Nc(n.url)}function bN(n){return!!n&&n[wN]}var Lq=(n,e,t,r)=>ut(i=>(new Mb(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),Mb=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),lb(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=ku(t);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){let i=e.value,s=t?t.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=ku(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=ku(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=ku(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Ib(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Cb(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,s=t?t.value:null;if(lb(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),lb(a.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},qg=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ru=class{component;route;constructor(e,t){this.component=e,this.route=t}};function Vq(n,e,t){let r=n._root,i=e?e._root:null;return Nf(r,i,t,[r.value])}function Bq(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Vu(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!fD(n)?n:e.get(n):r}function Nf(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=ku(e);return n.children.forEach(o=>{Uq(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Vf(a,t.getContext(o),i)),i}function Uq(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=jq(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new qg(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Nf(n,e,a?a.children:null,r,i):Nf(n,e,t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ru(a.outlet.component,o))}else o&&Vf(e,a,i),i.canActivateChecks.push(new qg(r)),s.component?Nf(n,null,a?a.children:null,r,i):Nf(n,null,t,r,i);return i}function jq(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Oc(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Oc(n.url,e.url)||!Bs(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!kb(n,e)||!Bs(n.queryParams,e.queryParams);case"paramsChange":default:return!kb(n,e)}}function Vf(n,e,t){let r=ku(n),i=n.value;Object.entries(r).forEach(([s,o])=>{i.component?e?Vf(o,e.children.getContext(s),t):Vf(o,null,t):Vf(o,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Ru(e.outlet.component,i)):t.canDeactivateChecks.push(new Ru(null,i)):t.canDeactivateChecks.push(new Ru(null,i))}function Qf(n){return typeof n=="function"}function $q(n){return typeof n=="boolean"}function Hq(n){return n&&Qf(n.canLoad)}function zq(n){return n&&Qf(n.canActivate)}function Wq(n){return n&&Qf(n.canActivateChild)}function qq(n){return n&&Qf(n.canDeactivate)}function Gq(n){return n&&Qf(n.canMatch)}function IN(n){return n instanceof Qs||n?.name==="EmptyError"}var Rg=Symbol("INITIAL_VALUE");function Lu(){return ar(n=>xd(n.map(e=>e.pipe(Zs(1),Np(Rg)))).pipe(ut(e=>{for(let t of e)if(t!==!0){if(t===Rg)return Rg;if(t===!1||Kq(t))return t}return!0}),gi(e=>e!==Rg),Zs(1)))}function Kq(n){return Nc(n)||n instanceof Hf}function Xq(n,e){return Dn(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return o.length===0&&s.length===0?We(Ke(me({},t),{guardsResult:!0})):Yq(o,r,i,n).pipe(Dn(a=>a&&$q(a)?Qq(r,s,n,e):We(a)),ut(a=>Ke(me({},t),{guardsResult:a})))})}function Yq(n,e,t,r){return Qt(n).pipe(Dn(i=>nG(i.component,i.route,t,e,r)),Js(i=>i!==!0,!0))}function Qq(n,e,t,r){return Qt(e).pipe(Xa(i=>pl(Jq(i.route.parent,r),Zq(i.route,r),tG(n,i.path,t),eG(n,i.route,t))),Js(i=>i!==!0,!0))}function Zq(n,e){return n!==null&&e&&e(new bb(n)),We(!0)}function Jq(n,e){return n!==null&&e&&e(new wb(n)),We(!0)}function eG(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return We(!0);let i=r.map(s=>Rp(()=>{let o=Xf(e)??t,a=Vu(s,o),c=zq(a)?a.canActivate(e,n):Er(o,()=>a(e,n));return Ia(c).pipe(Js())}));return We(i).pipe(Lu())}function tG(n,e,t){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>Bq(o)).filter(o=>o!==null).map(o=>Rp(()=>{let a=o.guards.map(c=>{let l=Xf(o.node)??t,u=Vu(c,l),f=Wq(u)?u.canActivateChild(r,n):Er(l,()=>u(r,n));return Ia(f).pipe(Js())});return We(a).pipe(Lu())}));return We(s).pipe(Lu())}function nG(n,e,t,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return We(!0);let o=s.map(a=>{let c=Xf(e)??i,l=Vu(a,c),u=qq(l)?l.canDeactivate(n,e,t,r):Er(c,()=>l(n,e,t,r));return Ia(u).pipe(Js())});return We(o).pipe(Lu())}function rG(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return We(!0);let s=i.map(o=>{let a=Vu(o,n),c=Hq(a)?a.canLoad(e,t):Er(n,()=>a(e,t));return Ia(c)});return We(s).pipe(Lu(),TN(r))}function TN(n){return hp(cr(e=>{if(typeof e!="boolean")throw Wg(n,e)}),ut(e=>e===!0))}function iG(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return We(!0);let s=i.map(o=>{let a=Vu(o,n),c=Gq(a)?a.canMatch(e,t):Er(n,()=>a(e,t));return Ia(c)});return We(s).pipe(Lu(),TN(r))}var zf=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},Wf=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function Du(n){return hl(new zf(n))}function sG(n){return hl(new Ue(4e3,!1))}function oG(n){return hl(CN(!1,Ti.GuardRejected))}var Rb=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return We(r);if(i.numberOfChildren>1||!i.children[at])return sG(`${e.redirectTo}`);i=i.children[at]}}applyRedirectCommands(e,t,r,i,s){if(typeof t!="string"){let a=t,{queryParams:c,fragment:l,routeConfig:u,url:f,outlet:h,params:p,data:y,title:v}=i,w=Er(s,()=>a({params:p,data:y,queryParams:c,fragment:l,routeConfig:u,url:f,outlet:h,title:v}));if(w instanceof Mo)throw new Wf(w);t=w}let o=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new Wf(o);return o}applyRedirectCreateUrlTree(e,t,r,i){let s=this.createSegmentGroup(e,t.root,r,i);return new Mo(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);r[i]=t[a]}else r[i]=s}),r}createSegmentGroup(e,t,r,i){let s=this.createSegments(e,t.segments,r,i),o={};return Object.entries(t.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new Bt(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new Ue(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},Pb={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function aG(n,e,t,r,i){let s=SN(n,e,t);return s.matched?(r=kq(e,r),iG(r,e,t,i).pipe(ut(o=>o===!0?s:me({},Pb)))):We(s)}function SN(n,e,t){if(e.path==="**")return cG(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?me({},Pb):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||rq)(t,n,e);if(!i)return me({},Pb);let s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let o=i.consumed.length>0?me(me({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function cG(n){return{matched:!0,parameters:n.length>0?oN(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function tN(n,e,t,r){return t.length>0&&dG(n,t,r)?{segmentGroup:new Bt(e,uG(r,new Bt(t,n.children))),slicedSegments:[]}:t.length===0&&fG(n,t,r)?{segmentGroup:new Bt(n.segments,lG(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Bt(n.segments,n.children),slicedSegments:t}}function lG(n,e,t,r){let i={};for(let s of t)if(Yg(n,e,s)&&!r[as(s)]){let o=new Bt([],{});i[as(s)]=o}return me(me({},r),i)}function uG(n,e){let t={};t[at]=e;for(let r of n)if(r.path===""&&as(r)!==at){let i=new Bt([],{});t[as(r)]=i}return t}function dG(n,e,t){return t.some(r=>Yg(n,e,r)&&as(r)!==at)}function fG(n,e,t){return t.some(r=>Yg(n,e,r))}function Yg(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function hG(n,e,t){return e.length===0&&!n.children[t]}var Ob=class{};function pG(n,e,t,r,i,s,o="emptyOnly"){return new Nb(n,e,t,r,i,o,s).recognize()}var mG=31,Nb=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,s,o,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new Rb(this.urlSerializer,this.urlTree)}noMatchError(e){return new Ue(4002,`'${e.segmentGroup}'`)}recognize(){let e=tN(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ut(({children:t,rootSnapshot:r})=>{let i=new Ii(r,t),s=new zg("",i),o=wq(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let t=new Mu([],Object.freeze({}),Object.freeze(me({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),at,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,at,t).pipe(ut(r=>({children:r,rootSnapshot:t})),Go(r=>{if(r instanceof Wf)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof zf?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,s):this.processSegment(e,t,r,r.segments,i,!0,s).pipe(ut(o=>o instanceof Ii?[o]:[]))}processChildren(e,t,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return Qt(s).pipe(Xa(o=>{let a=r.children[o],c=Aq(t,o);return this.processSegmentGroup(e,c,a,o,i)}),Op((o,a)=>(o.push(...a),o)),Ko(null),Dv(),Dn(o=>{if(o===null)return Du(r);let a=DN(o);return gG(a),We(a)}))}processSegment(e,t,r,i,s,o,a){return Qt(t).pipe(Xa(c=>this.processSegmentAgainstRoute(c._injector??e,t,c,r,i,s,o,a).pipe(Go(l=>{if(l instanceof zf)return We(null);throw l}))),Js(c=>!!c),Go(c=>{if(IN(c))return hG(r,i,s)?We(new Ob):Du(r);throw c}))}processSegmentAgainstRoute(e,t,r,i,s,o,a,c){return as(r)!==o&&(o===at||!Yg(i,s,r))?Du(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,s,o,c):Du(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o,a){let{matched:c,parameters:l,consumedSegments:u,positionalParamSegments:f,remainingSegments:h}=SN(t,i,s);if(!c)return Du(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>mG&&(this.allowRedirects=!1));let p=new Mu(s,l,Object.freeze(me({},this.urlTree.queryParams)),this.urlTree.fragment,nN(i),as(i),i.component??i._loadedComponent??null,i,rN(i)),y=Hg(p,a,this.paramsInheritanceStrategy);p.params=Object.freeze(y.params),p.data=Object.freeze(y.data);let v=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,f,p,e);return this.applyRedirects.lineralizeSegments(i,v).pipe(Dn(w=>this.processSegment(e,r,t,w.concat(h),o,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,s,o){let a=aG(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(ar(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(ar(({routes:l})=>{let u=r._loadedInjector??e,{parameters:f,consumedSegments:h,remainingSegments:p}=c,y=new Mu(h,f,Object.freeze(me({},this.urlTree.queryParams)),this.urlTree.fragment,nN(r),as(r),r.component??r._loadedComponent??null,r,rN(r)),v=Hg(y,o,this.paramsInheritanceStrategy);y.params=Object.freeze(v.params),y.data=Object.freeze(v.data);let{segmentGroup:w,slicedSegments:F}=tN(t,h,p,l);if(F.length===0&&w.hasChildren())return this.processChildren(u,l,w,y).pipe(ut(k=>new Ii(y,k)));if(l.length===0&&F.length===0)return We(new Ii(y,[]));let V=as(r)===s;return this.processSegment(u,l,w,F,V?at:s,!0,y).pipe(ut(k=>new Ii(y,k instanceof Ii?[k]:[])))}))):Du(t)))}getChildConfig(e,t,r){return t.children?We({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?We({routes:t._loadedRoutes,injector:t._loadedInjector}):rG(e,t,r,this.urlSerializer).pipe(Dn(i=>i?this.configLoader.loadChildren(e,t).pipe(cr(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):oG(t))):We({routes:[],injector:e})}};function gG(n){n.sort((e,t)=>e.value.outlet===at?-1:t.value.outlet===at?1:e.value.outlet.localeCompare(t.value.outlet))}function _G(n){let e=n.value.routeConfig;return e&&e.path===""}function DN(n){let e=[],t=new Set;for(let r of n){if(!_G(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=DN(r.children);e.push(new Ii(r.value,i))}return e.filter(r=>!t.has(r))}function nN(n){return n.data||{}}function rN(n){return n.resolve||{}}function vG(n,e,t,r,i,s){return Dn(o=>pG(n,e,t,r,o.extractedUrl,i,s).pipe(ut(({state:a,tree:c})=>Ke(me({},o),{targetSnapshot:a,urlAfterRedirects:c}))))}function yG(n,e){return Dn(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return We(t);let s=new Set(i.map(c=>c.route)),o=new Set;for(let c of s)if(!o.has(c))for(let l of kN(c))o.add(l);let a=0;return Qt(o).pipe(Xa(c=>s.has(c)?xG(c,r,n,e):(c.data=Hg(c,c.parent,n).resolve,We(void 0))),cr(()=>a++),ml(1),Dn(c=>a===o.size?We(t):Jr))})}function kN(n){let e=n.children.map(t=>kN(t)).flat();return[n,...e]}function xG(n,e,t,r){let i=n.routeConfig,s=n._resolve;return i?.title!==void 0&&!EN(i)&&(s[Gf]=i.title),EG(s,n,e,r).pipe(ut(o=>(n._resolvedData=o,n.data=Hg(n,n.parent,t).resolve,null)))}function EG(n,e,t,r){let i=fb(n);if(i.length===0)return We({});let s={};return Qt(i).pipe(Dn(o=>wG(n[o],e,t,r).pipe(Js(),cr(a=>{if(a instanceof Hf)throw Wg(new Ou,a);s[o]=a}))),ml(1),ut(()=>s),Go(o=>IN(o)?Jr:hl(o)))}function wG(n,e,t,r){let i=Xf(e)??r,s=Vu(n,i),o=s.resolve?s.resolve(e,t):Er(i,()=>s(e,t));return Ia(o)}function ub(n){return ar(e=>{let t=n(e);return t?Qt(t).pipe(ut(()=>e)):We(e)})}var AN=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===at);return r}getResolvedTitleForRoute(t){return t.data[Gf]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Ve({token:n,factory:()=>ue(CG),providedIn:"root"})}return n})(),CG=(()=>{class n extends AN{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(Ze(i2))};static \u0275prov=Ve({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Zf=new je("",{providedIn:"root",factory:()=>({})}),bG=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=_t({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&be(0,"router-outlet")},dependencies:[Vb],encapsulation:2})}return n})();function Bb(n){let e=n.children&&n.children.map(Bb),t=e?Ke(me({},n),{children:e}):me({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==at&&(t.component=bG),t}var qf=new je(""),Ub=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=ue(H0);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return We(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=Ia(t.loadComponent()).pipe(ut(MN),cr(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),Ed(()=>{this.componentLoaders.delete(t)})),i=new ll(r,()=>new mn).pipe(cl());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return We({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=IG(r,this.compiler,t,this.onLoadEndListener).pipe(Ed(()=>{this.childrenLoaders.delete(r)})),o=new ll(s,()=>new mn).pipe(cl());return this.childrenLoaders.set(r,o),o}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Ve({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function IG(n,e,t,r){return Ia(n.loadChildren()).pipe(ut(MN),Dn(i=>i instanceof Md||Array.isArray(i)?We(i):Qt(e.compileModuleAsync(i))),ut(i=>{r&&r(n);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(t).injector,o=s.get(qf,[],{optional:!0,self:!0}).flat()),{routes:o.map(Bb),injector:s}}))}function TG(n){return n&&typeof n=="object"&&"default"in n}function MN(n){return TG(n)?n.default:n}var jb=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=Ve({token:n,factory:()=>ue(SG),providedIn:"root"})}return n})(),SG=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Ve({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),RN=new je(""),PN=new je("");function DG(n,e,t){let r=n.get(PN),i=n.get(si);return n.get(Nt).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let s,o=new Promise(l=>{s=l}),a=i.startViewTransition(()=>(s(),kG(n))),{onViewTransitionCreated:c}=r;return c&&Er(n,()=>c({transition:a,from:e,to:t})),o})}function kG(n){return new Promise(e=>{py({read:()=>setTimeout(e)},{injector:n})})}var ON=new je(""),$b=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new mn;transitionAbortSubject=new mn;configLoader=ue(Ub);environmentInjector=ue($r);destroyRef=ue(Pl);urlSerializer=ue(Kf);rootContexts=ue(Yf);location=ue(Ul);inputBindingEnabled=ue(Xg,{optional:!0})!==null;titleStrategy=ue(AN);options=ue(Zf,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=ue(jb);createViewTransition=ue(RN,{optional:!0});navigationErrorHandler=ue(ON,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>We(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new xb(i)),r=i=>this.events.next(new Eb(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(Ke(me(me({},this.transitions.value),t),{id:r}))}setupNavigations(t,r,i){return this.transitions=new $n({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Lf,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(gi(s=>s.id!==0),ut(s=>Ke(me({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),ar(s=>{let o=!1,a=!1;return We(s).pipe(ar(c=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",Ti.SupersededByNewNavigation),Jr;this.currentTransition=s,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,targetBrowserUrl:typeof c.extras.browserUrl=="string"?this.urlSerializer.parse(c.extras.browserUrl):c.extras.browserUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?Ke(me({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=c.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!l&&u!=="reload"){let f="";return this.events.next(new ba(c.id,this.urlSerializer.serialize(c.rawUrl),f,Vg.IgnoredSameUrlNavigation)),c.resolve(!1),Jr}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return We(c).pipe(ar(f=>{let h=this.transitions?.getValue();return this.events.next(new Nu(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),h!==this.transitions?.getValue()?Jr:Promise.resolve(f)}),vG(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),cr(f=>{s.targetSnapshot=f.targetSnapshot,s.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation=Ke(me({},this.currentNavigation),{finalUrl:f.urlAfterRedirects});let h=new Bg(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(h)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:f,extractedUrl:h,source:p,restoredState:y,extras:v}=c,w=new Nu(f,this.urlSerializer.serialize(h),p,y);this.events.next(w);let F=yN(this.rootComponentType).snapshot;return this.currentTransition=s=Ke(me({},c),{targetSnapshot:F,urlAfterRedirects:h,extras:Ke(me({},v),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,We(s)}else{let f="";return this.events.next(new ba(c.id,this.urlSerializer.serialize(c.extractedUrl),f,Vg.IgnoredByUrlHandlingStrategy)),c.resolve(!1),Jr}}),cr(c=>{let l=new gb(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),ut(c=>(this.currentTransition=s=Ke(me({},c),{guards:Vq(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),s)),Xq(this.environmentInjector,c=>this.events.next(c)),cr(c=>{if(s.guardsResult=c.guardsResult,c.guardsResult&&typeof c.guardsResult!="boolean")throw Wg(this.urlSerializer,c.guardsResult);let l=new _b(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),gi(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",Ti.GuardRejected),!1)),ub(c=>{if(c.guards.canActivateChecks.length)return We(c).pipe(cr(l=>{let u=new vb(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),ar(l=>{let u=!1;return We(l).pipe(yG(this.paramsInheritanceStrategy,this.environmentInjector),cr({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(l,"",Ti.NoDataFromResolver)}}))}),cr(l=>{let u=new yb(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}))}),ub(c=>{let l=u=>{let f=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(u.routeConfig).pipe(cr(h=>{u.component=h}),ut(()=>{})));for(let h of u.children)f.push(...l(h));return f};return xd(l(c.targetSnapshot.root)).pipe(Ko(null),Zs(1))}),ub(()=>this.afterPreactivation()),ar(()=>{let{currentSnapshot:c,targetSnapshot:l}=s,u=this.createViewTransition?.(this.environmentInjector,c.root,l.root);return u?Qt(u).pipe(ut(()=>s)):We(s)}),ut(c=>{let l=Pq(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=s=Ke(me({},c),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,s}),cr(()=>{this.events.next(new jf)}),Lq(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Zs(1),cr({next:c=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new cs(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{o=!0}}),kv(this.transitionAbortSubject.pipe(cr(c=>{throw c}))),Ed(()=>{!o&&!a&&this.cancelNavigationTransition(s,"",Ti.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Go(c=>{if(this.destroyed)return s.resolve(!1),Jr;if(a=!0,bN(c))this.events.next(new Ao(s.id,this.urlSerializer.serialize(s.extractedUrl),c.message,c.cancellationCode)),Fq(c)?this.events.next(new Fu(c.url,c.navigationBehaviorOptions)):s.resolve(!1);else{let l=new Uf(s.id,this.urlSerializer.serialize(s.extractedUrl),c,s.targetSnapshot??void 0);try{let u=Er(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(u instanceof Hf){let{message:f,cancellationCode:h}=Wg(this.urlSerializer,u);this.events.next(new Ao(s.id,this.urlSerializer.serialize(s.extractedUrl),f,h)),this.events.next(new Fu(u.redirectTo,u.navigationBehaviorOptions))}else throw this.events.next(l),c}catch(u){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(u)}}return Jr}))}))}cancelNavigationTransition(t,r,i){let s=new Ao(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Ve({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function AG(n){return n!==Lf}var MG=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=Ve({token:n,factory:()=>ue(RG),providedIn:"root"})}return n})(),Fb=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},RG=(()=>{class n extends Fb{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Pi(n)))(i||n)}})();static \u0275prov=Ve({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),NN=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=Ve({token:n,factory:()=>ue(PG),providedIn:"root"})}return n})(),PG=(()=>{class n extends NN{location=ue(Ul);urlSerializer=ue(Kf);options=ue(Zf,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";urlHandlingStrategy=ue(jb);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Mo;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}routerState=yN(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof Nu)this.stateMemento=this.createStateMemento();else if(t instanceof ba)this.rawUrlTree=r.initialUrl;else if(t instanceof Bg){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else t instanceof jf?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):t instanceof Ao&&(t.code===Ti.GuardRejected||t.code===Ti.NoDataFromResolver)?this.restoreHistory(r):t instanceof Uf?this.restoreHistory(r,!0):t instanceof cs&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){let i=t instanceof Mo?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let s=this.browserPageId,o=me(me({},r.extras.state),this.generateNgRouterState(r.id,s));this.location.replaceState(i,"",o)}else{let s=me(me({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",s)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,s=this.currentPageId-i;s!==0?this.location.historyGo(s):this.currentUrlTree===t.finalUrl&&s===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Pi(n)))(i||n)}})();static \u0275prov=Ve({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function FN(n,e){n.events.pipe(gi(t=>t instanceof cs||t instanceof Ao||t instanceof Uf||t instanceof ba),ut(t=>t instanceof cs||t instanceof ba?0:(t instanceof Ao?t.code===Ti.Redirect||t.code===Ti.SupersededByNewNavigation:!1)?2:1),gi(t=>t!==2),Zs(1)).subscribe(()=>{e()})}var OG={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},NG={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},cn=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=ue(Py);stateManager=ue(NN);options=ue(Zf,{optional:!0})||{};pendingTasks=ue(cc);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=ue($b);urlSerializer=ue(Kf);location=ue(Ul);urlHandlingStrategy=ue(jb);_events=new mn;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=ue(MG);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=ue(qf,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!ue(Xg,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new xn;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(i!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof Ao&&r.code!==Ti.Redirect&&r.code!==Ti.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof cs)this.navigated=!0;else if(r instanceof Fu){let o=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=me({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||AG(i.source)},o);this.scheduleNavigation(a,Lf,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}LG(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Lf,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,i){let s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){let c=me({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(s.state=c)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Bb),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:o,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=me(me({},this.currentUrlTree.queryParams),s);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=s||null}u!==null&&(u=this.removeEmptyProps(u));let f;try{let h=i?i.snapshot:this.routerState.snapshot.root;f=mN(h)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),f=this.currentUrlTree.root}return gN(f,t,u,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Nc(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Lf,null,r)}navigate(t,r={skipLocationChange:!1}){return FG(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=me({},OG):r===!1?i=me({},NG):i=r,Nc(t))return YO(this.currentUrlTree,t,i);let s=this.parseUrl(t);return YO(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,s])=>(s!=null&&(r[i]=s),r),{})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,c,l;o?(a=o.resolve,c=o.reject,l=o.promise):l=new Promise((f,h)=>{a=f,c=h});let u=this.pendingTasks.add();return FN(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(f=>Promise.reject(f))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Ve({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function FG(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new Ue(4008,!1)}function LG(n){return!(n instanceof jf)&&!(n instanceof Fu)}var Gg=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new mn;constructor(t,r,i,s,o,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a;let c=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=t.events.subscribe(l=>{l instanceof cs&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Nc(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,s,o){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||s||o||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:Nk(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let i=this.renderer,s=this.el.nativeElement;r!==null?i.setAttribute(s,t,r):i.removeAttribute(s,t)}get urlTree(){return this.routerLinkInput===null?null:Nc(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(xe(cn),xe(ci),sy("tabindex"),xe(ri),xe(Xn),xe(ho))};static \u0275dir=Ft({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&ae("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),r&2&&uc("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",aa],skipLocationChange:[2,"skipLocationChange","skipLocationChange",aa],replaceUrl:[2,"replaceUrl","replaceUrl",aa],routerLink:"routerLink"},features:[ra]})}return n})(),LN=(()=>{class n{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new Hn;constructor(t,r,i,s,o){this.router=t,this.element=r,this.renderer=i,this.cdr=s,this.link=o,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof cs&&this.update()})}ngAfterContentInit(){We(this.links.changes,We(null)).pipe(qo()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=Qt(t).pipe(qo()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){let r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let r=VG(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let s=i.urlTree;return s?t.isActive(s,r):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static \u0275fac=function(r){return new(r||n)(xe(cn),xe(Xn),xe(ri),xe(lo),xe(Gg,8))};static \u0275dir=Ft({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,s){if(r&1&&bA(s,Gg,5),r&2){let o;Ll(o=Vl())&&(i.links=o)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[ra]})}return n})();function VG(n){return!!n.paths}var Kg=class{};var BG=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(t,r,i,s,o){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(gi(t=>t instanceof cs),Xa(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let s of r){s.providers&&!s._injector&&(s._injector=N0(s.providers,t,`Route: ${s.path}`));let o=s._injector??t,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return Qt(i).pipe(qo())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=We(null);let s=i.pipe(Dn(o=>o===null?We(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));if(r.loadComponent&&!r._loadedComponent){let o=this.loader.loadComponent(r);return Qt([s,o]).pipe(qo())}else return s})}static \u0275fac=function(r){return new(r||n)(Ze(cn),Ze(H0),Ze($r),Ze(Kg),Ze(Ub))};static \u0275prov=Ve({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),VN=new je(""),UG=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(t,r,i,s,o={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,o.scrollPositionRestoration||="disabled",o.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Nu?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof cs?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof ba&&t.code===Vg.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Ug&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Ug(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){cA()};static \u0275prov=Ve({token:n,factory:n.\u0275fac})}return n})();function BN(n,...e){return Ji([{provide:qf,multi:!0,useValue:n},[],{provide:ci,useFactory:UN,deps:[cn]},{provide:V0,multi:!0,useFactory:jN},e.map(t=>t.\u0275providers)])}function UN(n){return n.routerState.root}function Jf(n,e){return{\u0275kind:n,\u0275providers:e}}function jN(){let n=ue(gn);return e=>{let t=n.get(ta);if(e!==t.components[0])return;let r=n.get(cn),i=n.get($N);n.get(Hb)===1&&r.initialNavigation(),n.get(HN,null,pt.Optional)?.setUpPreloading(),n.get(VN,null,pt.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var $N=new je("",{factory:()=>new mn}),Hb=new je("",{providedIn:"root",factory:()=>1});function jG(){return Jf(2,[{provide:Hb,useValue:0},{provide:L0,multi:!0,deps:[gn],useFactory:e=>{let t=e.get(LA,Promise.resolve());return()=>t.then(()=>new Promise(r=>{let i=e.get(cn),s=e.get($N);FN(i,()=>{r(!0)}),e.get($b).afterPreactivation=()=>(r(!0),s.closed?We(void 0):s),i.initialNavigation()}))}}])}function $G(){return Jf(3,[{provide:L0,multi:!0,useFactory:()=>{let e=ue(cn);return()=>{e.setUpLocationChangeListener()}}},{provide:Hb,useValue:2}])}var HN=new je("");function HG(n){return Jf(0,[{provide:HN,useExisting:BG},{provide:Kg,useExisting:n}])}function zG(){return Jf(8,[eN,{provide:Xg,useExisting:eN}])}function WG(n){let e=[{provide:RN,useValue:DG},{provide:PN,useValue:me({skipNextTransition:!!n?.skipInitialTransition},n)}];return Jf(9,e)}var qG=[Ul,{provide:Kf,useClass:Ou},cn,Yf,{provide:ci,useFactory:UN,deps:[cn]},Ub,[]],ji=(()=>{class n{constructor(){}static forRoot(t,r){return{ngModule:n,providers:[qG,[],{provide:qf,multi:!0,useValue:t},[],r?.errorHandler?{provide:ON,useValue:r.errorHandler}:[],{provide:Zf,useValue:r||{}},r?.useHash?KG():XG(),GG(),r?.preloadingStrategy?HG(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?YG(r):[],r?.bindToComponentInputs?zG().\u0275providers:[],r?.enableViewTransitions?WG().\u0275providers:[],QG()]}}static forChild(t){return{ngModule:n,providers:[{provide:qf,multi:!0,useValue:t}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=sa({type:n});static \u0275inj=na({})}return n})();function GG(){return{provide:VN,useFactory:()=>{let n=ue(GA),e=ue(Nt),t=ue(Zf),r=ue($b),i=ue(Kf);return t.scrollOffset&&n.setOffset(t.scrollOffset),new UG(i,r,n,e,t)}}}function KG(){return{provide:ho,useClass:BA}}function XG(){return{provide:ho,useClass:Jy}}function YG(n){return[n.initialNavigation==="disabled"?$G().\u0275providers:[],n.initialNavigation==="enabledBlocking"?jG().\u0275providers:[]]}var iN=new je("");function QG(){return[{provide:iN,useFactory:jN},{provide:V0,multi:!0,useExisting:iN}]}var Qg=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=_t({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){t&1&&be(0,"router-outlet")},dependencies:[ji,Vb],encapsulation:2})};var JN=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(xe(ri),xe(Xn))};static \u0275dir=Ft({type:n})}return n})(),oh=(()=>{class n extends JN{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Pi(n)))(i||n)}})();static \u0275dir=Ft({type:n,features:[zr]})}return n})(),zu=new je(""),ZG={provide:zu,useExisting:vi(()=>Wb),multi:!0},Wb=(()=>{class n extends oh{writeValue(t){this.setProperty("checked",t)}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Pi(n)))(i||n)}})();static \u0275dir=Ft({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){r&1&&ae("change",function(o){return i.onChange(o.target.checked)})("blur",function(){return i.onTouched()})},standalone:!1,features:[ts([ZG]),zr]})}return n})(),JG={provide:zu,useExisting:vi(()=>$i),multi:!0};function eK(){let n=fo()?fo().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var tK=new je(""),$i=(()=>{class n extends JN{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!eK())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(xe(ri),xe(Xn),xe(tK,8))};static \u0275dir=Ft({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&ae("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},standalone:!1,features:[ts([JG]),zr]})}return n})();function nK(n){return n==null||rK(n)===0}function rK(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var ah=new je(""),eF=new je("");function iK(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function sK(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function oK(n){return nK(n.value)?{required:!0}:null}function zN(n){return null}function tF(n){return n!=null}function nF(n){return oa(n)?Qt(n):n}function rF(n){let e={};return n.forEach(t=>{e=t!=null?me(me({},e),t):e}),Object.keys(e).length===0?null:e}function iF(n,e){return e.map(t=>t(n))}function aK(n){return!n.validate}function sF(n){return n.map(e=>aK(e)?e:t=>e.validate(t))}function cK(n){if(!n)return null;let e=n.filter(tF);return e.length==0?null:function(t){return rF(iF(t,e))}}function qb(n){return n!=null?cK(sF(n)):null}function lK(n){if(!n)return null;let e=n.filter(tF);return e.length==0?null:function(t){let r=iF(t,e).map(nF);return Sv(r).pipe(ut(rF))}}function Gb(n){return n!=null?lK(sF(n)):null}function WN(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function uK(n){return n._rawValidators}function dK(n){return n._rawAsyncValidators}function zb(n){return n?Array.isArray(n)?n:[n]:[]}function Jg(n,e){return Array.isArray(n)?n.includes(e):n===e}function qN(n,e){let t=zb(e);return zb(n).forEach(i=>{Jg(t,i)||t.push(i)}),t}function GN(n,e){return zb(e).filter(t=>!Jg(n,t))}var e_=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=qb(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Gb(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},$u=class extends e_{name;get formDirective(){return null}get path(){return null}},sh=class extends e_{_parent=null;name=null;valueAccessor=null},t_=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},fK={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},d1e=Ke(me({},fK),{"[class.ng-submitted]":"isSubmitted"}),kr=(()=>{class n extends t_{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(xe(sh,2))};static \u0275dir=Ft({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&ii("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[zr]})}return n})(),s_=(()=>{class n extends t_{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(xe($u,10))};static \u0275dir=Ft({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&ii("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[zr]})}return n})();var eh="VALID",Zg="INVALID",Uu="PENDING",th="DISABLED",Hu=class{},n_=class extends Hu{value;source;constructor(e,t){super(),this.value=e,this.source=t}},rh=class extends Hu{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},ih=class extends Hu{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},ju=class extends Hu{status;source;constructor(e,t){super(),this.status=e,this.source=t}};function oF(n){return(o_(n)?n.validators:n)||null}function hK(n){return Array.isArray(n)?qb(n):n||null}function aF(n,e){return(o_(e)?e.asyncValidators:n)||null}function pK(n){return Array.isArray(n)?Gb(n):n||null}function o_(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function mK(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new Ue(1e3,"");if(!r[t])throw new Ue(1001,"")}function gK(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new Ue(1002,"")})}var r_=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Ni(this.statusReactive)}set status(e){Ni(()=>this.statusReactive.set(e))}_status=Bl(()=>this.statusReactive());statusReactive=Mn(void 0);get valid(){return this.status===eh}get invalid(){return this.status===Zg}get pending(){return this.status==Uu}get disabled(){return this.status===th}get enabled(){return this.status!==th}errors;get pristine(){return Ni(this.pristineReactive)}set pristine(e){Ni(()=>this.pristineReactive.set(e))}_pristine=Bl(()=>this.pristineReactive());pristineReactive=Mn(!0);get dirty(){return!this.pristine}get touched(){return Ni(this.touchedReactive)}set touched(e){Ni(()=>this.touchedReactive.set(e))}_touched=Bl(()=>this.touchedReactive());touchedReactive=Mn(!1);get untouched(){return!this.touched}_events=new mn;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(qN(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(qN(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(GN(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(GN(e,this._rawAsyncValidators))}hasValidator(e){return Jg(this._rawValidators,e)}hasAsyncValidator(e){return Jg(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(Ke(me({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new ih(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new ih(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(Ke(me({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new rh(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new rh(!0,r))}markAsPending(e={}){this.status=Uu;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ju(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(Ke(me({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=th,this.errors=null,this._forEachChild(i=>{i.disable(Ke(me({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new n_(this.value,r)),this._events.next(new ju(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Ke(me({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=eh,this._forEachChild(r=>{r.enable(Ke(me({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Ke(me({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===eh||this.status===Uu)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new n_(this.value,t)),this._events.next(new ju(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(Ke(me({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?th:eh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Uu,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=nF(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new ju(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new Hn,this.statusChanges=new Hn}_calculateStatus(){return this._allControlsDisabled()?th:this.errors?Zg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Uu)?Uu:this._anyControlsHaveStatus(Zg)?Zg:eh}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new rh(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new ih(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){o_(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=hK(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=pK(this._rawAsyncValidators)}},i_=class extends r_{constructor(e,t,r){super(oF(t),aF(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){gK(this,!0,e),Object.keys(e).forEach(r=>{mK(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Kb=new je("",{providedIn:"root",factory:()=>Xb}),Xb="always";function _K(n,e){return[...e.path,n]}function cF(n,e,t=Xb){lF(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),yK(n,e),EK(n,e),xK(n,e),vK(n,e)}function KN(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function vK(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function lF(n,e){let t=uK(n);e.validator!==null?n.setValidators(WN(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=dK(n);e.asyncValidator!==null?n.setAsyncValidators(WN(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();KN(e._rawValidators,i),KN(e._rawAsyncValidators,i)}function yK(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&uF(n,e)})}function xK(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&uF(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function uF(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function EK(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function wK(n,e){n==null,lF(n,e)}function CK(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function bK(n){return Object.getPrototypeOf(n.constructor)===oh}function IK(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function TK(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(s=>{s.constructor===$i?t=s:bK(s)?r=s:i=s}),i||r||t||null}var SK={provide:$u,useExisting:vi(()=>ch)},nh=Promise.resolve(),ch=(()=>{class n extends $u{callSetDisabledState;get submitted(){return Ni(this.submittedReactive)}_submitted=Bl(()=>this.submittedReactive());submittedReactive=Mn(!1);_directives=new Set;form;ngSubmit=new Hn;options;constructor(t,r,i){super(),this.callSetDisabledState=i,this.form=new i_({},qb(t),Gb(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){nh.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),cF(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){nh.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){nh.then(()=>{let r=this._findContainer(t.path),i=new i_({});wK(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){nh.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){nh.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),IK(this.form,this._directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(r){return new(r||n)(xe(ah,10),xe(eF,10),xe(Kb,8))};static \u0275dir=Ft({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&ae("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[ts([SK]),zr]})}return n})();function XN(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function YN(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var DK=class extends r_{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(oF(t),aF(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),o_(t)&&(t.nonNullable||t.initialValueIsDefault)&&(YN(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){XN(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){XN(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){YN(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var kK={provide:sh,useExisting:vi(()=>fr)},QN=Promise.resolve(),fr=(()=>{class n extends sh{_changeDetectorRef;callSetDisabledState;control=new DK;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Hn;constructor(t,r,i,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=TK(this,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),CK(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){cF(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){QN.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&aa(r);QN.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?_K(t,this._parent):[t]}static \u0275fac=function(r){return new(r||n)(xe($u,9),xe(ah,10),xe(eF,10),xe(zu,10),xe(lo,8),xe(Kb,8))};static \u0275dir=Ft({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[ts([kK]),zr,ra]})}return n})();var a_=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=Ft({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})(),AK={provide:zu,useExisting:vi(()=>Yb),multi:!0},Yb=(()=>{class n extends oh{writeValue(t){let r=t??"";this.setProperty("value",r)}registerOnChange(t){this.onChange=r=>{t(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Pi(n)))(i||n)}})();static \u0275dir=Ft({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&ae("input",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[ts([AK]),zr]})}return n})();var MK={provide:zu,useExisting:vi(()=>Ta),multi:!0};function dF(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function RK(n){return n.split(":")[0]}var Ta=(()=>{class n extends oh{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r=this._getOptionId(t),i=dF(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=RK(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Pi(n)))(i||n)}})();static \u0275dir=Ft({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&ae("change",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[ts([MK]),zr]})}return n})(),Sa=(()=>{class n{_element;_renderer;_select;id;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(dF(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(xe(Xn),xe(ri),xe(Ta,9))};static \u0275dir=Ft({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),PK={provide:zu,useExisting:vi(()=>fF),multi:!0};function ZN(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function OK(n){return n.split(":")[0]}var fF=(()=>{class n extends oh{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(s=>this._getOptionId(s));r=(s,o)=>{s._setSelected(i.indexOf(o.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],s=r.selectedOptions;if(s!==void 0){let o=s;for(let a=0;a<o.length;a++){let c=o[a],l=this._getOptionValue(c.value);i.push(l)}}else{let o=r.options;for(let a=0;a<o.length;a++){let c=o[a];if(c.selected){let l=this._getOptionValue(c.value);i.push(l)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=OK(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Pi(n)))(i||n)}})();static \u0275dir=Ft({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&ae("change",function(o){return i.onChange(o.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[ts([PK]),zr]})}return n})(),Da=(()=>{class n{_element;_renderer;_select;id;_value;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(ZN(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(ZN(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(xe(Xn),xe(ri),xe(fF,9))};static \u0275dir=Ft({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();function hF(n){return typeof n=="number"?n:parseFloat(n)}var Qb=(()=>{class n{_validator=zN;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):zN,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Ft({type:n,features:[ra]})}return n})(),NK={provide:ah,useExisting:vi(()=>Zb),multi:!0},Zb=(()=>{class n extends Qb{max;inputName="max";normalizeInput=t=>hF(t);createValidator=t=>sK(t);static \u0275fac=(()=>{let t;return function(i){return(t||(t=Pi(n)))(i||n)}})();static \u0275dir=Ft({type:n,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&uc("max",i._enabled?i.max:null)},inputs:{max:"max"},standalone:!1,features:[ts([NK]),zr]})}return n})(),FK={provide:ah,useExisting:vi(()=>Jb),multi:!0},Jb=(()=>{class n extends Qb{min;inputName="min";normalizeInput=t=>hF(t);createValidator=t=>iK(t);static \u0275fac=(()=>{let t;return function(i){return(t||(t=Pi(n)))(i||n)}})();static \u0275dir=Ft({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&uc("min",i._enabled?i.min:null)},inputs:{min:"min"},standalone:!1,features:[ts([FK]),zr]})}return n})(),LK={provide:ah,useExisting:vi(()=>lh),multi:!0};var lh=(()=>{class n extends Qb{required;inputName="required";normalizeInput=aa;createValidator=t=>oK;enabled(t){return t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Pi(n)))(i||n)}})();static \u0275dir=Ft({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&uc("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[ts([LK]),zr]})}return n})();var VK=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=sa({type:n});static \u0275inj=na({})}return n})();var fn=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Kb,useValue:t.callSetDisabledState??Xb}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=sa({type:n});static \u0275inj=na({imports:[VK]})}return n})();var Hi=class n{auth=ue(xi);router=ue(cn);userSubject=new $n(null);user$=this.userSubject.asObservable();constructor(){of(this.auth,e=>{this.userSubject.next(e)})}login(e,t){return GM(this.auth,e,t).then(r=>{this.userSubject.next(r.user)})}register(e,t){return WM(this.auth,e,t).then(r=>{this.userSubject.next(r.user)})}logout(){return KM(this.auth).then(()=>{this.userSubject.next(null),this.router.navigate(["/home"])})}isAuthenticated(){return this.userSubject.value!==null}getUserId(){return new Promise(e=>{of(this.auth,t=>{e(t?t.uid:null)})})}getUserRole(){return this.userSubject.value?.email==="admin@vydad2001.com"?"admin":"user"}getAuth(){return this.auth}static \u0275fac=function(t){return new(t||n)};static \u0275prov=Ve({token:n,factory:n.\u0275fac,providedIn:"root"})};function BK(n,e){n&1&&(_(0,"a",8),E(1,"Karakterek"),g())}function UK(n,e){n&1&&(_(0,"a",9),E(1,"Kamp\xE1nyok"),g())}function jK(n,e){n&1&&(_(0,"button",10),E(1,"Bejelentkez\xE9s"),g())}function $K(n,e){if(n&1){let t=De();_(0,"button",11),ae("click",function(){re(t);let i=D();return ie(i.toggleAccountPanel())}),E(1,"Fi\xF3k"),g()}}function HK(n,e){if(n&1&&(_(0,"p",22),E(1),g()),n&2){let t=D(2);C(),pe(t.passwordError)}}function zK(n,e){if(n&1&&(_(0,"p",23),E(1),g()),n&2){let t=D(2);C(),pe(t.passwordSuccess)}}function WK(n,e){if(n&1){let t=De();_(0,"div",12),ae("click",function(){re(t);let i=D();return ie(i.toggleAccountPanel())}),_(1,"div",13),ae("click",function(i){return re(t),ie(i.stopPropagation())}),_(2,"p")(3,"strong"),E(4,"Email:"),g(),be(5,"br"),E(6),g(),_(7,"div",14)(8,"input",15),Jt("ngModelChange",function(i){re(t);let s=D();return rn(s.currentPassword,i)||(s.currentPassword=i),ie(i)}),g()(),_(9,"div",14)(10,"input",16),Jt("ngModelChange",function(i){re(t);let s=D();return rn(s.newPassword,i)||(s.newPassword=i),ie(i)}),g()(),_(11,"div",14)(12,"input",17),Jt("ngModelChange",function(i){re(t);let s=D();return rn(s.confirmPassword,i)||(s.confirmPassword=i),ie(i)}),g()(),Z(13,HK,2,1,"p",18)(14,zK,2,1,"p",19),_(15,"button",20),ae("click",function(){re(t);let i=D();return ie(i.submitPasswordChange())}),E(16,"Jelsz\xF3 m\xF3dos\xEDt\xE1sa"),g(),_(17,"button",21),ae("click",function(){re(t);let i=D();return ie(i.logout())}),E(18,"Kijelentkez\xE9s"),g()()()}if(n&2){let t=D();C(6),pe(t.userEmail),C(2),Zt("ngModel",t.currentPassword),C(2),Zt("ngModel",t.newPassword),C(2),Zt("ngModel",t.confirmPassword),C(),W("ngIf",t.passwordError),C(),W("ngIf",t.passwordSuccess)}}var er=class n{constructor(e){this.auth=e}authService=ue(Hi);showAccountPanel=!1;userEmail=null;userId=null;currentPassword="";newPassword="";confirmPassword="";passwordError="";passwordSuccess="";showCurrent=!1;showNew=!1;showConfirm=!1;ngOnInit(){zM(this.auth).subscribe(e=>{e?(this.userEmail=e.email,this.userId=e.uid):(this.userEmail=null,this.userId=null)})}toggleAccountPanel(){this.showAccountPanel=!this.showAccountPanel}logout(){this.authService.logout(),this.showAccountPanel=!1}submitPasswordChange(){return B(this,null,function*(){if(this.passwordError="",this.passwordSuccess="",!this.currentPassword){this.passwordError="Add meg a r\xE9gi jelsz\xF3t!";return}let e=this.newPassword;if(e.length<8||!/[A-Z]/.test(e)||!/[0-9]/.test(e)){this.passwordError="A jelsz\xF3nak legal\xE1bb 8 karaktert, egy nagybet\u0171t \xE9s egy sz\xE1mot kell tartalmaznia!";return}if(this.newPassword!==this.confirmPassword){this.passwordError="A k\xE9t jelsz\xF3 nem egyezik!";return}let r=sf().currentUser,i=this.userEmail||"";try{let s=wm.credential(i,this.currentPassword);yield Cm(r,s),yield bm(r,this.newPassword),this.passwordSuccess="\u2705 Sikeres jelsz\xF3csere!",this.currentPassword="",this.newPassword="",this.confirmPassword=""}catch{this.passwordError="\u274C Hib\xE1s jelsz\xF3 vagy hiba t\xF6rt\xE9nt!"}})}static \u0275fac=function(t){return new(t||n)(xe(xi))};static \u0275cmp=_t({type:n,selectors:[["app-navbar"]],decls:9,vars:5,consts:[[1,"navbar"],["id","logo","src","../assets/images/logo.png","routerLink","/home","routerLinkActive","active"],["routerLink","/characters","routerLinkActive","active",4,"ngIf"],["routerLink","/campaigns","routerLinkActive","active",4,"ngIf"],["id","log"],["routerLink","/login","routerLinkActive","active",4,"ngIf"],["class","account-btn",3,"click",4,"ngIf"],["class","account-overlay",3,"click",4,"ngIf"],["routerLink","/characters","routerLinkActive","active"],["routerLink","/campaigns","routerLinkActive","active"],["routerLink","/login","routerLinkActive","active"],[1,"account-btn",3,"click"],[1,"account-overlay",3,"click"],[1,"account-panel",3,"click"],[1,"input-wrapper"],["type","password","placeholder","R\xE9gi jelsz\xF3",3,"ngModelChange","ngModel"],["type","password","placeholder","\xDAj jelsz\xF3","title","Legal\xE1bb 8 karakter, 1 nagybet\u0171, 1 sz\xE1m",3,"ngModelChange","ngModel"],["type","password","placeholder","\xDAj jelsz\xF3 \xFAjra",3,"ngModelChange","ngModel"],["class","error",4,"ngIf"],["class","success",4,"ngIf"],[1,"change-pass-btn",3,"click"],[1,"logout-btn",3,"click"],[1,"error"],[1,"success"]],template:function(t,r){t&1&&(_(0,"nav",0)(1,"div"),be(2,"img",1),Z(3,BK,2,0,"a",2)(4,UK,2,0,"a",3),g(),_(5,"div",4),Z(6,jK,2,0,"button",5)(7,$K,2,0,"button",6),g()(),Z(8,WK,19,6,"div",7)),t&2&&(C(3),W("ngIf",r.authService.isAuthenticated()),C(),W("ngIf",r.authService.isAuthenticated()),C(2),W("ngIf",!r.authService.isAuthenticated()),C(),W("ngIf",r.authService.isAuthenticated()),C(),W("ngIf",r.showAccountPanel))},dependencies:[At,Ht,ji,Gg,LN,fn,$i,kr,fr],styles:['@charset "UTF-8";.navbar[_ngcontent-%COMP%]{background:#7c0f0f;display:flex;justify-content:space-between;align-items:center;width:100%;padding:10px 20px;position:fixed;top:0;left:0;right:0;max-height:40px;font-family:Berk}.navbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;text-decoration:none;padding:10px 15px;background-color:#f7ef8a;border:none;border-radius:10px;font-size:medium;margin-right:30px}.navbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#000;text-decoration:none;padding:10px 15px;background-color:#f7ef8a;border:none;border-radius:10px;font-size:medium;margin-right:30px;cursor:pointer}.right[_ngcontent-%COMP%]{flex:1;text-align:right}.account-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;justify-content:center;align-items:center;z-index:9999;font-family:Darker}.account-panel[_ngcontent-%COMP%]{background:#7c0f0f;padding:20px;border-radius:10px;color:#fff;text-align:center;min-width:30%;display:flex;flex-direction:column;gap:12px;align-items:center}.account-panel[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .account-panel[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0;text-align:center}.account-panel[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]{width:100%;max-width:200px;display:flex;justify-content:center}.account-panel[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .account-panel[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;max-width:200px;padding:8px;border-radius:6px;border:1px solid #e8d56b;background:#0000004d;color:#fff;text-align:center;font-family:Cinzel}.account-panel[_ngcontent-%COMP%]   .change-pass-btn[_ngcontent-%COMP%], .account-panel[_ngcontent-%COMP%]   .logout-btn[_ngcontent-%COMP%]{width:100%;max-width:200px;padding:10px;border-radius:6px;cursor:pointer;border:none;display:flex;justify-content:center;margin:0;font-family:Cinzel}.account-panel[_ngcontent-%COMP%]   .change-pass-btn[_ngcontent-%COMP%]{background:#f7ef8a;color:#000;font-weight:700}.account-panel[_ngcontent-%COMP%]   .logout-btn[_ngcontent-%COMP%]{background:#c94444;color:#fff;margin-top:5px}.account-panel[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%], .account-panel[_ngcontent-%COMP%]   .success[_ngcontent-%COMP%]{text-align:center;width:100%;max-width:200px}.account-panel[_ngcontent-%COMP%]   input[title][_ngcontent-%COMP%]:hover:after{content:attr(title);position:absolute;background:#000;color:#fff;padding:5px 8px;border-radius:5px;font-size:12px;top:-32px;left:50%;transform:translate(-50%);white-space:nowrap}#logo[_ngcontent-%COMP%]{height:50px;margin-right:30px;cursor:pointer}#log[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-family:Berk}.navbar[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;align-items:center}']})};function qK(n,e){n&1&&(_(0,"div",8),E(1),g()),n&2&&(C(),ge(" ","Hib\xE1s e-mail c\xEDm vagy jelsz\xF3!"," "))}var c_=class n{email="";password="";errorMessage=null;authService=ue(Hi);router=ue(cn);onLogin(){this.authService.login(this.email,this.password).then(()=>this.router.navigate(["/home"])).catch(e=>{this.errorMessage=e.message,console.error(e)})}goRegister(){this.router.navigate(["/signup"])}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=_t({type:n,selectors:[["app-login"]],decls:13,vars:4,consts:[["loginForm","ngForm"],[1,"login-container"],[3,"submit"],["type","email","name","email","placeholder","Email","required","",3,"ngModelChange","ngModel"],["type","password","name","password","placeholder","Jelsz\xF3","required","",3,"ngModelChange","ngModel"],["type","submit","id","login",3,"disabled"],[3,"click"],["class","error-message",4,"ngIf"],[1,"error-message"]],template:function(t,r){if(t&1){let i=De();be(0,"app-navbar"),_(1,"div",1)(2,"h2"),E(3,"Bejelentkez\xE9s"),g(),_(4,"form",2,0),ae("submit",function(){return re(i),ie(r.onLogin())}),_(6,"input",3),Jt("ngModelChange",function(o){return re(i),rn(r.email,o)||(r.email=o),ie(o)}),g(),_(7,"input",4),Jt("ngModelChange",function(o){return re(i),rn(r.password,o)||(r.password=o),ie(o)}),g(),_(8,"button",5),E(9,"Bejelentkez\xE9s"),g()(),_(10,"button",6),ae("click",function(){return re(i),ie(r.goRegister())}),E(11,"Regisztr\xE1ci\xF3"),g(),Z(12,qK,2,1,"div",7),g()}if(t&2){let i=Lt(5);C(6),Zt("ngModel",r.email),C(),Zt("ngModel",r.password),C(),W("disabled",i.invalid),C(4),W("ngIf",r.errorMessage)}},dependencies:[At,Ht,fn,a_,$i,kr,s_,lh,fr,ch,er],styles:[".login-container[_ngcontent-%COMP%]{width:350px;margin:65px auto auto;height:100%;text-align:center}input[_ngcontent-%COMP%]{display:block;width:94%;padding:10px;margin:10px 0;border-radius:4px;border:1px solid #ccc}button[_ngcontent-%COMP%]{width:100%;min-width:100px;max-width:250px;padding:10px;background:#0000b9;font-size:large;color:#f7ef8a;border:none;cursor:pointer;border-radius:10px}#login[_ngcontent-%COMP%]{width:100%;min-width:100px;max-width:250px;padding:10px;background:#6a0000;font-size:large;border:none;color:#f7ef8a;cursor:pointer;margin:10px}#login[_ngcontent-%COMP%]:hover{background:#570000}button[_ngcontent-%COMP%]:hover{background:#00008b}.error-message[_ngcontent-%COMP%]{color:red;margin-top:10px;font-size:16px}form[_ngcontent-%COMP%]{margin:auto}"]})};function GK(n,e){if(n&1&&(_(0,"div",10),E(1),g()),n&2){let t=D();C(),ge(" ",t.Message," ")}}function KK(n,e){if(n&1&&(_(0,"div",11),E(1),g()),n&2){let t=D();C(),ge(" ",t.errorMessage," ")}}var l_=class n{email="";password="";password2="";errorMessage=null;Message="A jelsz\xF3nak legal\xE1bb 8 karakter hossz\xFAnak kell lennie \xE9s tartamlazni kell legal\xE1bb egy nagybet\u0171t \xE9s sz\xE1mot!";authService=ue(Hi);router=ue(cn);onRegister(){this.Message=null;let e=/[0-9]/.test(this.password),t=/[A-Z]/.test(this.password);this.password!=this.password2?this.errorMessage="A k\xE9t jelsz\xF3nak egyezni kell!":this.password.length<8?this.errorMessage="A jelsz\xF3nak legal\xE1bb 8 karakter hossz\xFAnak kell lennie!":e==!1?this.errorMessage="A jelsz\xF3nak legal\xE1bb egy sz\xE1mnak kell benne szerepelnie!":t==!1?this.errorMessage="A jelsz\xF3nak legal\xE1bb egy nagybet\u0171nek kell benne szerepelnie!":this.authService.register(this.email,this.password).then(()=>{this.errorMessage=null,this.router.navigate(["/login"])}).catch(r=>{this.errorMessage="Hiba t\xF6rt\xE9nt a regisztr\xE1ci\xF3 sor\xE1n!",console.error(r)})}goLogin(){this.router.navigate(["/login"])}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=_t({type:n,selectors:[["app-signup"]],decls:15,vars:6,consts:[["signupForm","ngForm"],[1,"signup-container"],["class","message",4,"ngIf"],["class","error-message",4,"ngIf"],[3,"submit"],["type","email","name","email","placeholder","Email","required","",3,"ngModelChange","ngModel"],["type","password","name","password","placeholder","Jelsz\xF3","required","",3,"ngModelChange","ngModel"],["type","password","name","password","placeholder","Jelsz\xF3 meger\u0151s\xEDt\xE9se","required","",3,"ngModelChange","ngModel"],["type","submit","id","signup",3,"disabled"],["id","login",3,"click"],[1,"message"],[1,"error-message"]],template:function(t,r){if(t&1){let i=De();be(0,"app-navbar"),_(1,"div",1)(2,"h2"),E(3,"Regisztr\xE1ci\xF3"),g(),Z(4,GK,2,1,"div",2)(5,KK,2,1,"div",3),_(6,"form",4,0),ae("submit",function(){return re(i),ie(r.onRegister())}),_(8,"input",5),Jt("ngModelChange",function(o){return re(i),rn(r.email,o)||(r.email=o),ie(o)}),g(),_(9,"input",6),Jt("ngModelChange",function(o){return re(i),rn(r.password,o)||(r.password=o),ie(o)}),g(),_(10,"input",7),Jt("ngModelChange",function(o){return re(i),rn(r.password2,o)||(r.password2=o),ie(o)}),g(),_(11,"button",8),E(12,"Regisztr\xE1ci\xF3"),g()(),_(13,"button",9),ae("click",function(){return re(i),ie(r.goLogin())}),E(14,"Vissza a Bejelentkez\xE9shez"),g()()}if(t&2){let i=Lt(7);C(4),W("ngIf",r.Message),C(),W("ngIf",r.errorMessage),C(3),Zt("ngModel",r.email),C(),Zt("ngModel",r.password),C(),Zt("ngModel",r.password2),C(),W("disabled",i.invalid)}},dependencies:[At,Ht,fn,a_,$i,kr,s_,lh,fr,ch,er],styles:[".signup-container[_ngcontent-%COMP%]{width:350px;margin:65px auto auto;height:100%;text-align:center}input[_ngcontent-%COMP%]{display:block;width:94%;padding:10px;margin:10px 0;border-radius:4px;border:1px solid #ccc}button[_ngcontent-%COMP%]{width:100%;min-width:100px;max-width:250px;padding:10px;background:#0000b9;font-size:large;color:#f7ef8a;border:none;cursor:pointer;border-radius:10px}#login[_ngcontent-%COMP%]{width:100%;min-width:100px;max-width:250px;padding:10px;background:#6a0000;font-size:large;border:none;color:#f7ef8a;cursor:pointer;margin:10px}#login[_ngcontent-%COMP%]:hover{background:#570000}button[_ngcontent-%COMP%]:hover{background:#00008b}.error-message[_ngcontent-%COMP%]{color:red;margin-top:10px;font-size:16px}.message[_ngcontent-%COMP%]{color:#454545;margin-top:10px;font-size:small}form[_ngcontent-%COMP%]{margin:auto}"]})};var Us=class n{constructor(e){this.firestore=e}getCards(){let e=an(this.firestore,"cards");return Cu(e,{idField:"id"})}getClass(){let e=an(this.firestore,"class");return Cu(e,{idField:"id"})}getTraits(){let e=an(this.firestore,"traits");return Cu(e,{idField:"id"})}getRace(){let e=an(this.firestore,"race");return Cu(e,{idField:"id"})}getBackground(){let e=an(this.firestore,"background");return Cu(e,{idField:"id"})}static \u0275fac=function(t){return new(t||n)(Ze(Wn))};static \u0275prov=Ve({token:n,factory:n.\u0275fac,providedIn:"root"})};var Wu=class n{selectedCardSource="";setSelectedCard(e){this.selectedCardSource=e}static \u0275fac=function(t){return new(t||n)};static \u0275prov=Ve({token:n,factory:n.\u0275fac,providedIn:"root"})};function YK(n,e){if(n&1){let t=De();_(0,"li")(1,"button",5),ae("click",function(){let i=re(t).$implicit,s=D();return ie(s.selectnav(i))}),E(2),g()()}if(n&2){let t=e.$implicit;C(2),pe(t.title)}}function QK(n,e){if(n&1&&(qe(0),_(1,"p"),E(2),g(),Ge()),n&2){let t=e.$implicit;C(2),pe(t)}}var u_=class n{dataService=ue(Us);selectionService=ue(Wu);cards=[];selectedNav;selected="2";itemId;data=Mn(null);constructor(){this.dataService.getCards().subscribe(e=>this.cards=e),this.selected=this.selectionService.selectedCardSource}get filteredCards(){return this.cards.filter(e=>e.id[0]===this.selected[0]||e.id[0]===this.selected[0]||e.id[0]===this.selected[0])}selectnav(e){this.selectedNav=e}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=_t({type:n,selectors:[["app-expanded-card"]],inputs:{itemId:"itemId"},decls:11,vars:4,consts:[[1,"expanded-card"],[1,"sidebar"],[4,"ngFor","ngForOf"],[1,"content"],["id","text"],[1,"action",3,"click"]],template:function(t,r){t&1&&(_(0,"div",0)(1,"div",1)(2,"ul"),Z(3,YK,3,1,"li",2),g()(),_(4,"div",3)(5,"div",4)(6,"h2"),E(7),g(),_(8,"h4"),E(9),g(),Z(10,QK,3,1,"ng-container",2),g()()()),t&2&&(C(3),W("ngForOf",r.filteredCards),C(4),pe(r.selectedNav==null?null:r.selectedNav.title),C(2),pe(r.selectedNav==null?null:r.selectedNav.little_title),C(),W("ngForOf",r.selectedNav==null?null:r.selectedNav.description))},dependencies:[At,Rn],styles:['@charset "UTF-8";.expanded-card[_ngcontent-%COMP%]{display:flex;position:fixed;width:100%;height:100%;background:#550505;border-radius:10px;box-shadow:0 4px 8px #0003;overflow:hidden;top:0;left:0}.expanded-card[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]{width:15%;background:#3a0303;text-align:left;margin:0;padding:0;top:0}.expanded-card[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;width:100%;top:0;left:0}.expanded-card[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{cursor:pointer;width:100%;top:0;left:0}.expanded-card[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:wheat}.expanded-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{width:90%;padding:20px}.expanded-card[_ngcontent-%COMP%]   #text[_ngcontent-%COMP%]{color:#c9a93c;padding:20px 20%;max-height:70vh;overflow-y:auto;border-radius:10px;scrollbar-width:thin;scrollbar-color:#f7ef8a #3a0303}.expanded-card[_ngcontent-%COMP%]   #text[_ngcontent-%COMP%]::-webkit-scrollbar{width:10px}.expanded-card[_ngcontent-%COMP%]   #text[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#3a0303;border-radius:10px}.expanded-card[_ngcontent-%COMP%]   #text[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:linear-gradient(180deg,#f7ef8a,#c9a93c);border-radius:10px;border:2px solid #3a0303}.expanded-card[_ngcontent-%COMP%]   #text[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:linear-gradient(180deg,#fff3a0,#e0c45c)}.expanded-card[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:10px}.expanded-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#7c0f0f;color:#fff;border:none;border-radius:0;cursor:pointer;width:100%;left:0;min-height:30px;font-family:Merienda}.expanded-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#8c1010}']})};function ZK(n,e){if(n&1){let t=De();_(0,"div",8)(1,"div",9),be(2,"app-expanded-card"),_(3,"h2"),E(4),In(5,"titlecase"),g(),_(6,"p"),E(7,"R\xE9szletes le\xEDr\xE1s ehhez a kateg\xF3ri\xE1hoz..."),g(),_(8,"button",5),ae("click",function(i){re(t);let s=D();return ie(s.closeCard(i))}),E(9,"Bez\xE1r\xE1s"),g()()()}if(n&2){let t=D();C(4),pe($0(5,1,t.expandedCard))}}var d_=class n{constructor(e,t,r){this.renderer=e;this.elRef=t;this.selectionService=r}expandedCard=null;cardStyles=null;expandCard(e,t){if(this.expandedCard===e){this.expandedCard=null,this.cardStyles=null;return}this.selectionService.setSelectedCard(e);let i=t.currentTarget.getBoundingClientRect();this.cardStyles={top:`${i.top}px`,left:`${i.left}px`,width:`${i.width}px`,height:`${i.height}px`},setTimeout(()=>{this.expandedCard=e,this.cardStyles=null},10)}closeCard(e){e.stopPropagation(),this.expandedCard=null,this.selectionService.setSelectedCard("")}static \u0275fac=function(t){return new(t||n)(xe(ri),xe(Xn),xe(Wu))};static \u0275cmp=_t({type:n,selectors:[["app-home"]],decls:27,vars:1,consts:[["id","bg"],["id","main"],["id","default"],[1,"card-container"],[1,"card"],[3,"click"],[1,"card",3,"click"],["class","expanded-overlay",4,"ngIf"],[1,"expanded-overlay"],[1,"expanded-card"]],template:function(t,r){t&1&&(be(0,"app-navbar"),_(1,"div",0)(2,"div",1)(3,"h1"),E(4,"\xDCdv\xF6z\xF6llek az Omni Port\xE1l weboldal\xE1n!"),g(),_(5,"div",2)(6,"p"),E(7," Ez a weboldal a Dungeons and Dragons asztali szerepj\xE1t\xE9k alapj\xE1n j\xF6tt l\xE9tre, n\xE9hol kiss\xE9 \xFAjragondolva. A c\xE9lja, hogy v\xE9gre legyen egy felhaszn\xE1l\xF3bar\xE1t platform a magyar j\xE1t\xE9kosok sz\xE1m\xE1ra, ami nagy hangs\xFAlyt fektet a homebrew tartalmak l\xE9trehoz\xE1s\xE1ra is, ez\xE9rt az eredeti tartalmak mellett fellelhet\u0151k mind saj\xE1t, mind az internetr\u0151l sz\xE1rmaz\xF3 kreat\xEDv \xF6tletek, mint a k\xFCl\xF6nf\xE9le \xFAj h\xE1tt\xE9rt\xF6rt\xE9netek, fegyverek, var\xE1zslatok stb. A tov\xE1bbiakban sz\xE1mos \xFAj fejleszt\xE9s v\xE1rhat\xF3. "),g(),_(8,"h4"),E(9," J\xF3 sz\xF3rakoz\xE1st! "),g()(),_(10,"div",3)(11,"div",4)(12,"h3"),E(13,"Vil\xE1gle\xEDr\xE1s"),g(),_(14,"button",5),ae("click",function(s){return r.expandCard("vilag",s),s.stopPropagation()}),E(15,"B\u0151vebben"),g()(),_(16,"div",6),ae("click",function(s){return r.expandCard("tortenetek",s)}),_(17,"h3"),E(18,"T\xF6rt\xE9netek"),g(),_(19,"button",5),ae("click",function(s){return r.expandCard("tortenetek",s),s.stopPropagation()}),E(20,"B\u0151vebben"),g()(),_(21,"div",6),ae("click",function(s){return r.expandCard("magia",s)}),_(22,"h3"),E(23,"M\xE1gia"),g(),_(24,"button",5),ae("click",function(s){return r.expandCard("magia",s),s.stopPropagation()}),E(25,"B\u0151vebben"),g()()(),Z(26,ZK,10,3,"div",7),g()()),t&2&&(C(26),W("ngIf",r.expandedCard))},dependencies:[At,Ht,WA,fn,er,u_],styles:['@charset "UTF-8";.card-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:20px;max-width:800px;margin:0 auto}.card[_ngcontent-%COMP%]{width:calc(50% - 10px);max-width:320px;height:200px;background:#7c0f0f;color:wheat;display:flex;flex-direction:column;align-items:center;text-align:center;border-radius:10px;padding:15px;transition:transform .4s ease-in-out,opacity .3s ease-in-out;position:relative;overflow:hidden}.card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:10px;padding:10px;border:none;background:#f7ef8a;color:#000;font-size:16px;cursor:pointer;border-radius:5px;position:absolute;bottom:20px;left:50%;transform:translate(-50%);display:flex;justify-content:center;font-family:Merienda}.expanded-card[_ngcontent-%COMP%]{width:80vw;height:80vh;background:#550505;padding:40px;border-radius:10px;display:flex;flex-direction:column;justify-content:center;text-align:center;transform:scale(.5);animation:_ngcontent-%COMP%_expand .4s ease-in-out forwards}.expanded-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000;opacity:0;animation:_ngcontent-%COMP%_fadeIn .3s forwards}#main[_ngcontent-%COMP%]{margin-top:7%;font-family:Merienda}#bg[_ngcontent-%COMP%]{min-height:100vh;background-image:url(/../assets/images/card_bg.jpg);background-size:cover;background-position:center;background-repeat:no-repeat;display:flex;justify-content:center}h1[_ngcontent-%COMP%]{text-align:center}#default[_ngcontent-%COMP%]{width:60%;text-align:center;font-size:large;margin:auto}.expanded-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;margin-top:10px;padding:10px;border:none;background:#f7ef8a;color:#000;font-size:16px;cursor:pointer;border-radius:5px;bottom:20px;left:50%;transform:translate(-50%);display:flex;justify-content:center;font-family:Merienda}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_expand{0%{transform:scale(.5);opacity:0}to{transform:scale(1);opacity:1}}@media (max-width: 600px){.card[_ngcontent-%COMP%]{width:100%}}']})};function JK(n,e){if(n&1){let t=De();_(0,"button",3),ae("click",function(){re(t);let i=D().$implicit,s=D();return ie(s.openCharacter(i.id))}),E(1," Megnyit\xE1s "),g()}}function eX(n,e){if(n&1){let t=De();_(0,"button",3),ae("click",function(){re(t);let i=D().$implicit,s=D();return ie(s.joinCampaign(i.id))}),E(1," Csatlakoz\xE1s "),g()}}function tX(n,e){if(n&1){let t=De();_(0,"div",7),Z(1,JK,2,0,"button",8)(2,eX,2,0,"button",8),_(3,"button",9),ae("click",function(){let i=re(t).$implicit,s=D();return s.saveId(i.id),ie(s.showLeavePopup=!0)}),E(4," T\xF6rl\xE9s "),g(),_(5,"h2"),E(6),g(),_(7,"p")(8,"strong"),E(9,"Kaszt:"),g(),E(10),g(),_(11,"p")(12,"strong"),E(13,"Faj:"),g(),E(14),g()()}if(n&2){let t=e.$implicit,r=D();C(),W("ngIf",!r.campaignId),C(),W("ngIf",r.campaignId&&!t.campaign),C(4),pe(t.name||"N\xE9vtelen"),C(4),ge(" ",t.class,""),C(4),ge(" ",t.race,"")}}function nX(n,e){if(n&1){let t=De();_(0,"div",10)(1,"div",11)(2,"h3"),E(3,"Biztosan ki akarod t\xF6r\xF6lni a karaktert?"),g(),_(4,"div",12)(5,"button",13),ae("click",function(){re(t);let i=D();return ie(i.showLeavePopup=!1)}),E(6,"M\xE9gse"),g(),_(7,"button",14),ae("click",function(){re(t);let i=D();return ie(i.deleteCharacter())}),E(8,"T\xF6rl\xE9s"),g()()()()}}var uh=class n{constructor(e,t,r,i){this.firestore=e;this.auth=t;this.router=r;this.route=i}characters=[];userId=null;campaignId=null;showLeavePopup=!1;id="";ngOnInit(){return B(this,null,function*(){this.userId=yield this.auth.getUserId();let e=this.route.snapshot.paramMap.get("id");this.userId&&(yield this.loadCharacters(this.userId)),e&&(this.campaignId=e)})}loadCharacters(e){return B(this,null,function*(){let t=an(this.firestore,"character"),r=Iu(t,Ag("userId","==",e)),i=yield Gr(r),s=[];for(let o of i.docs){let a=o.data(),c=yield this.getNameFromId("class",a.class),l=yield this.getNameFromId("race",a.race);s.push({id:o.id,name:a.appearance?.name||"N\xE9vtelen H\u0151s",class:c||"Ismeretlen kaszt",race:l||"Ismeretlen faj",campaign:a.campaign})}this.characters=s})}getNameFromId(e,t){return B(this,null,function*(){try{let r=it(this.firestore,e,t),i=yield qr(r);if(i.exists())return i.data().name}catch{}return null})}joinCampaign(e){return B(this,null,function*(){if(this.campaignId){try{let t=it(this.firestore,`campaigns/${this.campaignId}`);yield Wt(t,{characterIds:TO(e)});let r=it(this.firestore,`character/${e}`);yield Wt(r,{campaign:!0}),alert("A karakter sikeresen csatlakozott a kamp\xE1nyhoz!")}catch{alert("Hiba t\xF6rt\xE9nt a csatlakoz\xE1skor.")}this.router.navigate(["/characters"])}})}openCharacter(e){this.router.navigate(["/character-sheet",e])}openCharacterCreate(){this.router.navigate(["/charactercreate"])}deleteCharacter(){return B(this,null,function*(){if(this.id)try{let e=it(this.firestore,"character",this.id);yield kg(e),this.showLeavePopup=!1,this.router.navigate(["/characters"]),this.userId=yield this.auth.getUserId(),this.userId&&(yield this.loadCharacters(this.userId))}catch{alert("Hiba t\xF6rt\xE9nt a t\xF6rl\xE9s sor\xE1n!")}})}saveId(e){this.id=e}static \u0275fac=function(t){return new(t||n)(xe(Wn),xe(Hi),xe(cn),xe(ci))};static \u0275cmp=_t({type:n,selectors:[["app-characters"]],decls:11,vars:2,consts:[["id","bg"],["id","main"],["id","new",1,"top"],[3,"click"],["id","bot",1,"grid"],["class","card",4,"ngFor","ngForOf"],["class","popup-backdrop",4,"ngIf"],[1,"card"],[3,"click",4,"ngIf"],[1,"delete-btn",3,"click"],[1,"popup-backdrop"],[1,"popup2"],[1,"btn-group"],[1,"cancel",3,"click"],[1,"confirm",3,"click"]],template:function(t,r){t&1&&(be(0,"app-navbar"),_(1,"div",0)(2,"div",1)(3,"div",2)(4,"h1"),E(5,"Karaktereim"),g(),_(6,"button",3),ae("click",function(){return r.openCharacterCreate()}),E(7,"\xDAj Karakter L\xE9trehoz\xE1sa"),g()(),_(8,"div",4),Z(9,tX,15,5,"div",5),g(),Z(10,nX,9,0,"div",6),g()()),t&2&&(C(9),W("ngForOf",r.characters),C(),W("ngIf",r.showLeavePopup))},dependencies:[At,Rn,Ht,fn,er,ji],styles:['@charset "UTF-8";#main[_ngcontent-%COMP%]{margin-top:50px;padding:20px;font-family:Merienda}#bg[_ngcontent-%COMP%]{min-height:100vh;background-image:url(/../assets/images/card_bg.jpg);background-size:cover;background-position:center;background-repeat:no-repeat}button[_ngcontent-%COMP%]{font-family:Merienda}.top[_ngcontent-%COMP%]{padding:20px;display:flex;justify-content:space-between;align-items:center}#new[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#7c0f0f;color:#fff;border:none;border-radius:10px;min-height:30px;padding:8px 12px;cursor:pointer}.card[_ngcontent-%COMP%]{background-image:url(/assets/images/characterSelection.png);background-repeat:no-repeat;background-size:cover;background-position:center center;border:1px solid #ccc;border-radius:10px;padding:16px;box-shadow:2px 2px 8px #0000001a;width:400px;height:135px;position:relative}.card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:3.5%;font-family:Berk}.card[_ngcontent-%COMP%]:hover{transform:scale(1.02)}.card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#7c0f0f;color:#fff;border:none;border-radius:8px;padding:6px 10px;cursor:pointer;margin-top:10px}#bot.grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(450px,1fr));gap:20px;padding:20px}#bot[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{float:right}.delete-btn[_ngcontent-%COMP%]{background-color:#8b0000;color:#fff;padding:8px 12px;border:none;border-radius:6px;cursor:pointer;font-weight:600;transition:.2s;position:absolute;bottom:20px;right:20px}.delete-btn[_ngcontent-%COMP%]:hover{background-color:#5a0000}.popup-backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#000000b3;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);display:flex;justify-content:center;align-items:center;z-index:999}.popup2[_ngcontent-%COMP%]{background:#2b1b19;border:2px solid #d5b462;box-shadow:0 0 18px #d5b46273;border-radius:12px;padding:25px;width:350px;text-align:center;animation:_ngcontent-%COMP%_fadeIn .25s ease-out;color:#f4e9c4}.popup2[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:10px;font-size:1.3rem;color:#f7d277;font-weight:700}.popup2[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:20px;font-size:1rem;opacity:.85}.btn-group[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:12px}button.cancel[_ngcontent-%COMP%], button.confirm[_ngcontent-%COMP%]{width:50%;padding:10px 0;font-weight:700;border-radius:8px;cursor:pointer;transition:.2s;font-size:.95rem}button.cancel[_ngcontent-%COMP%]{background:#444;color:#fff;border:1px solid #999}button.cancel[_ngcontent-%COMP%]:hover{background:#555}button.confirm[_ngcontent-%COMP%]{background:#7c0f0f;border:1px solid #d5b462;color:#fff}button.confirm[_ngcontent-%COMP%]:hover{background:#a31212;transform:scale(1.03)}strong[_ngcontent-%COMP%]{font-family:Merienda}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:scale(.92)}to{opacity:1;transform:scale(1)}}']})};var f_=class n{transform(e,t){if(!e||!t)return e;let r=t.toLowerCase();return e.filter(i=>i.name?.toLowerCase().includes(r))}static \u0275fac=function(t){return new(t||n)};static \u0275pipe=Ts({name:"itemSearch",type:n,pure:!0})};var h_=class n{transform(e,t){return Array.isArray(e)?e.some(r=>r.lvl===t||r.level===t):!1}static \u0275fac=function(t){return new(t||n)};static \u0275pipe=Ts({name:"hasSpellLevel",type:n,pure:!0})};var p_=class n{transform(e,t,r){if(!e||e.length===0)return[];let i=e.filter(s=>s.uses?Array.isArray(s.uses)?s.uses.some(o=>o.toLowerCase().includes(r?.toLowerCase()||"")):typeof s.uses=="string"?s.uses.toLowerCase().includes(r?.toLowerCase()||""):!1:!1);if(t&&t.trim()!==""){let s=t.toLowerCase();i=i.filter(o=>o.name?.toLowerCase().includes(s))}return i}static \u0275fac=function(t){return new(t||n)};static \u0275pipe=Ts({name:"spellFilter",type:n,pure:!0})};var m_,rX=new Uint8Array(16);function eI(){if(!m_&&(m_=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!m_))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return m_(rX)}var mF=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function iX(n){return typeof n=="string"&&mF.test(n)}var gF=iX;var hr=[];for(g_=0;g_<256;++g_)hr.push((g_+256).toString(16).substr(1));var g_;function sX(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(hr[n[e+0]]+hr[n[e+1]]+hr[n[e+2]]+hr[n[e+3]]+"-"+hr[n[e+4]]+hr[n[e+5]]+"-"+hr[n[e+6]]+hr[n[e+7]]+"-"+hr[n[e+8]]+hr[n[e+9]]+"-"+hr[n[e+10]]+hr[n[e+11]]+hr[n[e+12]]+hr[n[e+13]]+hr[n[e+14]]+hr[n[e+15]]).toLowerCase();if(!gF(t))throw TypeError("Stringified UUID is invalid");return t}var _F=sX;function oX(n,e,t){n=n||{};var r=n.random||(n.rng||eI)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){t=t||0;for(var i=0;i<16;++i)e[t+i]=r[i];return e}return _F(r)}var tI=oX;var aX=(n,e)=>({positive:n,negative:e}),vF=(n,e)=>({top:n,left:e}),cX=()=>[],lX=()=>[1,2,3,4,5,6,7,8,9],uX=()=>[0,1,2,3,4,5,6,7,8,9];function dX(n,e){if(n&1&&(_(0,"li")(1,"strong"),E(2),g(),E(3),_(4,"p"),E(5),g()()),n&2){let t=e.$implicit;C(2),pe(t.title),C(),ge(" \u2014 Szint: ",t.lvl," "),C(2),pe(t.description)}}function fX(n,e){if(n&1&&(_(0,"ul"),Z(1,dX,6,3,"li",64),g()),n&2){let t=D(3);C(),W("ngForOf",t.filteredTraits)}}function hX(n,e){n&1&&(_(0,"p"),E(1,"Nincs \xFAj trait a megadott szinten."),g())}function pX(n,e){if(n&1){let t=De();_(0,"div",52)(1,"div",53)(2,"button",54),ae("click",function(){re(t);let i=D(2);return ie(i.closeLevelUpPopup())}),E(3,"\u2716"),g(),_(4,"div",55)(5,"div",56)(6,"h2"),E(7),g(),_(8,"p"),E(9),g()(),_(10,"div",57)(11,"label",58),E(12,"Szint: "),g(),_(13,"input",59),Jt("ngModelChange",function(i){re(t);let s=D(2);return rn(s.targetLevel,i)||(s.targetLevel=i),ie(i)}),ae("change",function(){re(t);let i=D(2);return ie(i.updateAvailableTraits())}),g()()(),_(14,"div",60)(15,"h3"),E(16,"\xDAj k\xE9pess\xE9gek"),g(),Z(17,fX,2,1,"ul",61)(18,hX,2,0,"ng-template",null,0,un),g(),_(20,"div",62)(21,"button",63),ae("click",function(){re(t);let i=D(2);return ie(i.saveLevelUp())}),E(22,"Ment\xE9s"),g()()()()}if(n&2){let t=Lt(19),r=D().ngIf,i=D();C(7),pe((r.appearance==null?null:r.appearance.name)||"N\xE9vtelen"),C(2),pe(i.className),C(4),Zt("ngModel",i.targetLevel),W("min",1)("max",20),C(4),W("ngIf",i.filteredTraits.length>0&&i.filteredTraits!==void 0)("ngIfElse",t)}}function mX(n,e){if(n&1){let t=De();_(0,"div",68)(1,"span",69),E(2),g(),_(3,"button",70),ae("click",function(){re(t);let i=D().$implicit,s=D().$implicit,o=D(2);return ie(o.roll(i.value+s.modifier))}),E(4),g()()}if(n&2){let t=D().$implicit,r=D().$implicit;C(2),pe(t.name),C(),W("ngClass",j0(3,aX,t.value+r.modifier>0,t.value+r.modifier<0)),C(),ge(" ",t.value+r.modifier," ")}}function gX(n,e){if(n&1&&(qe(0),Z(1,mX,5,6,"div",67),Ge()),n&2){let t=e.$implicit,r=D().$implicit;C(),W("ngIf",t.type===r.name)}}function _X(n,e){if(n&1&&(_(0,"div",65)(1,"div")(2,"strong"),E(3),g(),be(4,"br"),E(5),be(6,"br"),_(7,"h3"),E(8),g()(),_(9,"div",66),Z(10,gX,2,1,"ng-container",64),g()()),n&2){let t=e.$implicit,r=D(2);C(3),pe(t.name),C(2),ge(" ",t.total," "),C(3),ge(" ",t.modifier==0?t.modifier:t.modifier>0?"+"+t.modifier:+t.modifier," "),C(2),W("ngForOf",r.skills)}}function vX(n,e){if(n&1){let t=De();_(0,"button",17),ae("click",function(){let i=re(t).$implicit,s=D(2);return ie(s.selectTab(i))}),E(1),g()}if(n&2){let t=e.$implicit,r=D(2);ii("active",r.selectedTab===t),C(),ge(" ",t," ")}}function yX(n,e){if(n&1){let t=De();_(0,"button",17),ae("click",function(){re(t);let i=D(2);return ie(i.selectTab("Var\xE1zslatok"))}),E(1," Var\xE1zslatok "),g()}if(n&2){let t=D(2);ii("active",t.selectedTab==="Var\xE1zslatok")}}function xX(n,e){if(n&1){let t=De();_(0,"button",83),ae("click",function(){let i=re(t).$implicit,s=D(2).$implicit,o=D(4);return ie(o.rollDamage(s.mod,i.trim()))}),E(1),g()}if(n&2){let t=e.$implicit,r=D(2).$implicit,i=D(4);C(),ge(" ",t.trim()+i.dmgMod(r.mod)," ")}}function EX(n,e){if(n&1&&(qe(0),Z(1,xX,2,1,"button",82),Ge()),n&2){let t=D().$implicit;C(),W("ngForOf",t.dmg.split(","))}}function wX(n,e){if(n&1){let t=De();_(0,"tr",79),ae("mouseenter",function(i){let s=re(t).$implicit,o=D(4);return ie(o.startTooltipTimer(i,s))})("mouseleave",function(){re(t);let i=D(4);return ie(i.hideTooltip())})("mousemove",function(i){re(t);let s=D(4);return ie(s.moveTooltip(i))}),_(1,"td"),E(2),g(),_(3,"td"),E(4),g(),_(5,"td")(6,"button",80),ae("click",function(){let i=re(t).$implicit,s=D(4);return ie(s.roll(s.attackRoll(i.mod,i.type)))}),E(7),g()(),_(8,"td"),Z(9,EX,2,1,"ng-container",81),g()()}if(n&2){let t=e.$implicit,r=D(4);C(2),pe(t.name),C(2),pe(t.range+"m"),C(3),ge(" ",r.attackRoll(t.mod,t.type)>0?"+"+r.attackRoll(t.mod,t.type):r.attackRoll(t.mod,t.type)," "),C(2),W("ngIf",t.dmg)}}function CX(n,e){if(n&1&&(_(0,"div",84)(1,"h4"),E(2),g(),_(3,"p"),E(4),g()()),n&2){let t=D(4);W("ngStyle",j0(3,vF,t.tooltipY+"px",t.tooltipX+"px")),C(2),pe(t.tooltipItem==null?null:t.tooltipItem.name),C(2),pe(t.tooltipItem==null?null:t.tooltipItem.description)}}function bX(n,e){if(n&1&&(_(0,"div",75)(1,"table",76)(2,"thead")(3,"tr")(4,"th"),E(5,"N\xE9v"),g(),_(6,"th"),E(7,"T\xE1vols\xE1g"),g(),_(8,"th"),E(9,"Tal\xE1lat"),g(),_(10,"th"),E(11,"Sebz\xE9s"),g()()(),_(12,"tbody"),Z(13,wX,10,4,"tr",77),g()(),Z(14,CX,5,6,"div",78),g()),n&2){let t=D(3);C(13),W("ngForOf",t.equipmentWeapon),C(),W("ngIf",t.tooltipVisible)}}function IX(n,e){n&1&&(_(0,"p"),E(1,"Nincs felszerelve fegyver."),g())}function TX(n,e){if(n&1){let t=De();qe(0),_(1,"input",86),ae("change",function(){let i=re(t).index,s=D(2).$implicit,o=D(3);return ie(o.toggleCharge(s,i))}),g(),Ge()}if(n&2){let t=e.index,r=D(2).$implicit;C(),W("checked",t<r.charge-r.temp_charge)}}function SX(n,e){if(n&1&&(_(0,"div")(1,"h4"),E(2),g(),_(3,"p"),E(4),g(),_(5,"div",85),Z(6,TX,2,1,"ng-container",64),g()()),n&2){let t=D().$implicit,r=D(3);C(2),pe(t.name),C(2),pe(t.action_des),C(2),W("ngForOf",r.getChargeArray(t))}}function DX(n,e){if(n&1&&(_(0,"div"),Z(1,SX,7,3,"div",81),g()),n&2){let t=e.$implicit;C(),W("ngIf",t.action&&t.action_type=="a")}}function kX(n,e){if(n&1){let t=De();_(0,"div",88),ae("click",function(){let i=re(t).index,s=D(2).$implicit,o=D(3);return ie(o.toggleCharge(s,i))}),g()}if(n&2){let t=e.index,r=D(2).$implicit;ii("filled",t<r.charge-r.temp_charge)}}function AX(n,e){if(n&1&&(_(0,"div")(1,"h4"),E(2),g(),_(3,"span"),E(4),g(),_(5,"p"),E(6),g(),_(7,"div",85),Z(8,kX,1,2,"div",87),g()()),n&2){let t=D().$implicit,r=D(3);C(2),pe(t.name),C(2),pe(t.dmg),C(2),pe(t.action_des),C(2),W("ngForOf",r.getChargeArray(t))}}function MX(n,e){if(n&1&&(_(0,"div"),Z(1,AX,9,4,"div",81),g()),n&2){let t=e.$implicit;C(),W("ngIf",t.action&&t.action_type=="ba")}}function RX(n,e){if(n&1){let t=De();_(0,"div",88),ae("click",function(){let i=re(t).index,s=D(2).$implicit,o=D(3);return ie(o.toggleCharge(s,i))}),g()}if(n&2){let t=e.index,r=D(2).$implicit;ii("filled",t<r.charge-r.temp_charge)}}function PX(n,e){if(n&1&&(_(0,"div")(1,"h4"),E(2),g(),_(3,"span"),E(4),g(),_(5,"p"),E(6),g(),_(7,"div",85),Z(8,RX,1,2,"div",87),g()()),n&2){let t=D().$implicit,r=D(3);C(2),pe(t.name),C(2),pe(t.dmg),C(2),pe(t.action_des),C(2),W("ngForOf",r.getChargeArray(t))}}function OX(n,e){if(n&1&&(_(0,"div"),Z(1,PX,9,4,"div",81),g()),n&2){let t=e.$implicit;C(),W("ngIf",t.action&&t.action_type=="r")}}function NX(n,e){if(n&1&&(_(0,"div",71)(1,"div",72)(2,"h2"),E(3,"Akci\xF3k"),g(),Z(4,bX,15,2,"div",73)(5,IX,2,0,"ng-template",null,1,un)(7,DX,2,1,"div",64),g(),_(8,"div",74),be(9,"hr"),_(10,"h3"),E(11,"Bonusz Akci\xF3k"),g(),Z(12,MX,2,1,"div",64),g(),_(13,"div",74),be(14,"hr"),_(15,"h3"),E(16,"Reakci\xF3k"),g(),_(17,"div")(18,"h4"),E(19,"H\xE1tbat\xE1mad\xE1s"),g(),_(20,"p"),E(21,"Akkor haszn\xE1lhatsz h\xE1tba t\xE1mad\xE1st amikor egy l\xE9ny amit l\xE1tsz kil\xE9p a kar t\xE1vols\xE1godb\xF3l elhaszn\xE1lva egy akci\xF3j\xE1t, b\xF3nusz akci\xF3j\xE1t, reakci\xF3j\xE1t vagy sebess\xE9g\xE9t. A h\xE1tba t\xE1mad\xE1st egy reakci\xF3 elhaszn\xE1l\xE1s\xE1val tudod alkalmazni, ez alatt egy fegyveres vagy puszta kezes k\xF6zelharci t\xE1mad\xE1st tudsz haszn\xE1lni a l\xE9ny ellen. A t\xE1mad\xE1s az el\u0151tt t\xF6rt\xE9nik, hogy a l\xE9ny kil\xE9pne a kar t\xE1vols\xE1godb\xF3l"),g()(),Z(22,OX,2,1,"div",64),g()()),n&2){let t=Lt(6),r=D(2);C(4),W("ngIf",(r.characterData==null||r.characterData.equipment==null?null:r.characterData.equipment.length)&&r.equippedWeapons.length)("ngIfElse",t),C(3),W("ngForOf",r.characterData==null?null:r.characterData.traits),C(5),W("ngForOf",r.characterData==null?null:r.characterData.traits),C(10),W("ngForOf",r.characterData==null?null:r.characterData.traits)}}function FX(n,e){if(n&1){let t=De();_(0,"div",79),ae("mouseenter",function(i){let s=re(t).$implicit,o=D(5);return ie(o.startTooltipTimer(i,s))})("mouseleave",function(){re(t);let i=D(5);return ie(i.hideTooltip())})("mousemove",function(i){re(t);let s=D(5);return ie(s.moveTooltip(i))}),_(1,"span"),E(2),g(),_(3,"button",105),ae("click",function(){let i=re(t).$implicit,s=D(5);return ie(s.addItem(i))}),E(4,"Hozz\xE1ad\xE1s"),g()()}if(n&2){let t=e.$implicit;C(2),pe(t.name)}}function LX(n,e){if(n&1&&(_(0,"div",104)(1,"h4"),E(2,"\u2694\uFE0F Fegyverek"),g(),Z(3,FX,5,1,"div",77),In(4,"itemSearch"),g()),n&2){let t=D(4);C(3),W("ngForOf",Cr(4,1,t.filteredItems.fegyver,t.searchTerm))}}function VX(n,e){if(n&1){let t=De();_(0,"div",79),ae("mouseenter",function(i){let s=re(t).$implicit,o=D(5);return ie(o.startTooltipTimer(i,s))})("mouseleave",function(){re(t);let i=D(5);return ie(i.hideTooltip())})("mousemove",function(i){re(t);let s=D(5);return ie(s.moveTooltip(i))}),_(1,"span"),E(2),g(),_(3,"button",105),ae("click",function(){let i=re(t).$implicit,s=D(5);return ie(s.addItem(i))}),E(4,"Hozz\xE1ad\xE1s"),g()()}if(n&2){let t=e.$implicit;C(2),pe(t.name)}}function BX(n,e){if(n&1&&(_(0,"div",104)(1,"h4"),E(2,"\u{1F6E1}\uFE0F P\xE1nc\xE9lok"),g(),Z(3,VX,5,1,"div",77),In(4,"itemSearch"),g()),n&2){let t=D(4);C(3),W("ngForOf",Cr(4,1,t.filteredItems.pancel,t.searchTerm))}}function UX(n,e){if(n&1){let t=De();_(0,"div",79),ae("mouseenter",function(i){let s=re(t).$implicit,o=D(5);return ie(o.startTooltipTimer(i,s))})("mouseleave",function(){re(t);let i=D(5);return ie(i.hideTooltip())})("mousemove",function(i){re(t);let s=D(5);return ie(s.moveTooltip(i))}),_(1,"span"),E(2),g(),_(3,"button",105),ae("click",function(){let i=re(t).$implicit,s=D(5);return ie(s.addItem(i))}),E(4,"Hozz\xE1ad\xE1s"),g()()}if(n&2){let t=e.$implicit;C(2),pe(t.name)}}function jX(n,e){if(n&1&&(_(0,"div",104)(1,"h4"),E(2,"\u{1F392} T\xE1rol\xF3k"),g(),Z(3,UX,5,1,"div",77),In(4,"itemSearch"),g()),n&2){let t=D(4);C(3),W("ngForOf",Cr(4,1,t.filteredItems.tarolo,t.searchTerm))}}function $X(n,e){if(n&1){let t=De();_(0,"div",79),ae("mouseenter",function(i){let s=re(t).$implicit,o=D(5);return ie(o.startTooltipTimer(i,s))})("mouseleave",function(){re(t);let i=D(5);return ie(i.hideTooltip())})("mousemove",function(i){re(t);let s=D(5);return ie(s.moveTooltip(i))}),_(1,"span"),E(2),g(),_(3,"input",106),Jt("ngModelChange",function(i){let s=re(t).$implicit;return rn(s.selectedQuantity,i)||(s.selectedQuantity=i),ie(i)}),g(),_(4,"button",105),ae("click",function(){let i=re(t).$implicit,s=D(5);return ie(s.addItem(i))}),E(5,"Hozz\xE1ad\xE1s"),g()()}if(n&2){let t=e.$implicit;C(2),pe(t.name),C(),Zt("ngModel",t.selectedQuantity)}}function HX(n,e){if(n&1&&(_(0,"div",104)(1,"h4"),E(2,"\u{1F4E6} Egy\xE9b t\xE1rgyak"),g(),Z(3,$X,6,2,"div",77),In(4,"itemSearch"),g()),n&2){let t=D(4);C(3),W("ngForOf",Cr(4,1,t.filteredItems.egyeb,t.searchTerm))}}function zX(n,e){if(n&1){let t=De();_(0,"div",100)(1,"div",101)(2,"button",54),ae("click",function(){re(t);let i=D(3);return ie(i.hideMenu())}),E(3,"\u2716"),g(),_(4,"h3"),E(5,"\xDAj t\xE1rgy hozz\xE1ad\xE1sa"),g(),_(6,"input",102),Jt("ngModelChange",function(i){re(t);let s=D(3);return rn(s.searchTerm,i)||(s.searchTerm=i),ie(i)}),g(),Z(7,LX,5,4,"div",103)(8,BX,5,4,"div",103)(9,jX,5,4,"div",103)(10,HX,5,4,"div",103),g()()}if(n&2){let t=D(3);C(6),Zt("ngModel",t.searchTerm),C(),W("ngIf",t.filteredItems.fegyver.length),C(),W("ngIf",t.filteredItems.pancel.length),C(),W("ngIf",t.filteredItems.tarolo.length),C(),W("ngIf",t.filteredItems.egyeb.length)}}function WX(n,e){if(n&1){let t=De();qe(0),_(1,"input",86,4),ae("change",function(){re(t);let i=Lt(2),s=D().$implicit,o=D(4);return ie(o.toggleEquip(s,i.checked))}),g(),Ge()}if(n&2){let t=D().$implicit;C(),W("checked",t.felszerelt)}}function qX(n,e){n&1&&E(0,"-")}function GX(n,e){if(n&1&&(_(0,"option",112),E(1),g()),n&2){let t=e.$implicit;W("value",t.id),C(),_n(" ",t.name," (",t.capacity," kg) ")}}function KX(n,e){if(n&1){let t=De();_(0,"div")(1,"select",109,5),ae("change",function(){re(t);let i=Lt(2),s=D().$implicit,o=D(4);return ie(o.moveItemToContainer(s,i.value))}),_(3,"option",110),E(4,"V\xE1lassz t\xE1rol\xF3t"),g(),Z(5,GX,2,3,"option",111),g()()}if(n&2){let t=D(5);C(5),W("ngForOf",t.equippedContainers)}}function XX(n,e){if(n&1){let t=De();_(0,"tr",79),ae("mouseenter",function(i){let s=re(t).$implicit,o=D(4);return ie(o.startTooltipTimer(i,s))})("mouseleave",function(){re(t);let i=D(4);return ie(i.hideTooltip())})("mousemove",function(i){re(t);let s=D(4);return ie(s.moveTooltip(i))}),_(1,"td"),Z(2,WX,3,1,"ng-container",61)(3,qX,1,0,"ng-template",null,3,un),g(),_(5,"td"),E(6),g(),_(7,"td"),E(8),g(),_(9,"td")(10,"input",108),ae("change",function(i){let s=re(t).$implicit,o=D(4);return ie(o.updateItemQuantity(s,i))}),g()(),_(11,"td"),E(12),g(),_(13,"td"),E(14),g(),_(15,"td"),Z(16,KX,6,1,"div",81),g()()}if(n&2){let t=e.$implicit,r=Lt(4);C(2),W("ngIf",(t.type==null?null:t.type.includes("fegyver"))||(t.type==null?null:t.type.includes("p\xE1nc\xE9l"))||(t.type==null?null:t.type.includes("t\xE1rol\xF3")))("ngIfElse",r),C(4),pe(t.name),C(2),pe(t.weight?t.weight+" kg":"-"),C(2),W("value",t.db),C(2),pe(t.weight?t.weight*t.db+" kg":"-"),C(2),pe(t.cost?t.cost+" gp":"-"),C(2),W("ngIf",t.type!=="t\xE1rol\xF3")}}function YX(n,e){if(n&1){let t=De();_(0,"tr",79),ae("mouseenter",function(i){let s=re(t).$implicit,o=D(5);return ie(o.startTooltipTimer(i,s))})("mouseleave",function(){re(t);let i=D(5);return ie(i.hideTooltip())})("mousemove",function(i){re(t);let s=D(5);return ie(s.moveTooltip(i))}),_(1,"td"),E(2),g(),_(3,"td"),E(4),g(),_(5,"td")(6,"input",108),ae("change",function(i){let s=re(t).$implicit,o=D(5);return ie(o.updateItemQuantity(s,i))}),g()(),_(7,"td"),E(8),g(),_(9,"td")(10,"button",115),ae("click",function(){let i=re(t).$implicit,s=D(5);return ie(s.removeFromContainer(i))}),E(11," Kivesz "),g()()()}if(n&2){let t=e.$implicit;C(2),pe(t.name),C(2),ge("",t.weight," kg"),C(2),W("value",t.db),C(2),ge("",(t.weight||0)*(t.db||1)," kg")}}function QX(n,e){if(n&1&&(_(0,"div",113)(1,"h4"),E(2),g(),_(3,"div",114),E(4),g(),_(5,"table",76)(6,"thead")(7,"tr")(8,"th"),E(9,"N\xE9v"),g(),_(10,"th"),E(11,"S\xFAly"),g(),_(12,"th"),E(13,"Mennyis\xE9g"),g(),_(14,"th"),E(15,"\xD6sszs\xFAly"),g(),_(16,"th"),E(17,"M\u0171velet"),g()()(),_(18,"tbody"),Z(19,YX,12,4,"tr",77),g()()()),n&2){let t=e.$implicit,r=D(4);C(2),pe(t.name),C(2),ge(" Teherb\xEDr\xE1s: ",t.inv_weight/t.light+" / "+t.capacity," kg "),C(15),W("ngForOf",r.getContainerContents(t.id))}}function ZX(n,e){if(n&1&&(_(0,"div",84)(1,"h4"),E(2),g(),_(3,"p"),E(4),g()()),n&2){let t=D(4);W("ngStyle",j0(3,vF,t.tooltipY+"px",t.tooltipX+"px")),C(2),pe(t.tooltipItem==null?null:t.tooltipItem.name),C(2),pe(t.tooltipItem==null?null:t.tooltipItem.description)}}function JX(n,e){if(n&1&&(_(0,"div",75)(1,"table",76)(2,"thead")(3,"tr")(4,"th"),E(5,"Felszerel"),g(),_(6,"th"),E(7,"N\xE9v"),g(),_(8,"th"),E(9,"S\xFAly/darab"),g(),_(10,"th"),E(11,"Mennyis\xE9g"),g(),_(12,"th"),E(13,"\xD6ssz s\xFAly"),g(),_(14,"th"),E(15,"\xC9rt\xE9k"),g(),_(16,"th"),E(17,"T\xE1rol\xF3"),g()()(),_(18,"tbody"),Z(19,XX,17,8,"tr",77),g()(),Z(20,QX,20,3,"div",107)(21,ZX,5,6,"div",78),g()),n&2){let t=D(3);C(19),W("ngForOf",t.mainInventory),C(),W("ngForOf",t.equippedContainers),C(),W("ngIf",t.tooltipVisible)}}function eY(n,e){n&1&&(_(0,"p"),E(1,"Nincs felszerel\xE9s."),g())}function tY(n,e){if(n&1){let t=De();_(0,"div",71)(1,"div",89)(2,"h2"),E(3,"Felszerel\xE9s"),g(),_(4,"div",90)(5,"button",91),ae("click",function(){re(t);let i=D(2);return ie(i.toggleMenu())}),E(6,"Felszerel\xE9s hozz\xE1ad\xE1sa"),g(),Z(7,zX,11,5,"div",92),g()(),_(8,"div",93)(9,"div",94),E(10),g(),_(11,"div",95)(12,"div",96)(13,"label"),E(14,"Arany:"),g(),_(15,"input",97),Jt("ngModelChange",function(i){re(t);let s=D().ngIf;return rn(s.gold,i)||(s.gold=i),ie(i)}),ae("change",function(){re(t);let i=D(2);return ie(i.updateCurrency("gold"))}),g()(),_(16,"div",98)(17,"label"),E(18,"Ez\xFCst:"),g(),_(19,"input",97),Jt("ngModelChange",function(i){re(t);let s=D().ngIf;return rn(s.silver,i)||(s.silver=i),ie(i)}),ae("change",function(){re(t);let i=D(2);return ie(i.updateCurrency("silver"))}),g()(),_(20,"div",99)(21,"label"),E(22,"R\xE9z:"),g(),_(23,"input",97),Jt("ngModelChange",function(i){re(t);let s=D().ngIf;return rn(s.copper,i)||(s.copper=i),ie(i)}),ae("change",function(){re(t);let i=D(2);return ie(i.updateCurrency("copper"))}),g()()()(),Z(24,JX,22,3,"div",73)(25,eY,2,0,"ng-template",null,2,un),g()}if(n&2){let t=Lt(26),r=D().ngIf,i=D();C(7),W("ngIf",i.itemAdd),C(3),ge("Teherb\xEDr\xE1s: ",i.weight+" / "+i.strengthTotal()*3," kg"),C(5),Zt("ngModel",r.gold),C(4),Zt("ngModel",r.silver),C(4),Zt("ngModel",r.copper),C(),W("ngIf",i.characterData==null||i.characterData.equipment==null?null:i.characterData.equipment.length)("ngIfElse",t)}}function nY(n,e){if(n&1&&(_(0,"div",71)(1,"h2"),E(2,"El\u0151\xE9let"),g(),_(3,"h3"),E(4,"Megjelen\xE9s:"),g(),_(5,"table",116)(6,"tr")(7,"td")(8,"strong"),E(9,"N\xE9v:"),g(),_(10,"p"),E(11),g()(),_(12,"td")(13,"strong"),E(14,"Kor:"),g(),_(15,"p"),E(16),g()(),_(17,"td")(18,"strong"),E(19,"Nem:"),g(),_(20,"p"),E(21),g()(),_(22,"td")(23,"strong"),E(24,"Magass\xE1g:"),g(),_(25,"p"),E(26),g()()(),_(27,"tr")(28,"td")(29,"strong"),E(30,"S\xFAly:"),g(),_(31,"p"),E(32),g()(),_(33,"td")(34,"strong"),E(35,"Szemsz\xEDn:"),g(),_(36,"p"),E(37),g()(),_(38,"td")(39,"strong"),E(40,"Hajsz\xEDn:"),g(),_(41,"p"),E(42),g()(),_(43,"td")(44,"strong"),E(45,"B\u0151rsz\xEDn:"),g(),_(46,"p"),E(47),g()()()(),_(48,"h3"),E(49,"El\u0151\xE9let:"),g(),_(50,"strong"),E(51),g(),_(52,"p",117),E(53),g()()),n&2){let t=D().ngIf,r=D();C(11),pe((t.appearance==null||t.appearance.name==null?null:t.appearance.name.trim())||"N\xE9vtelen"),C(5),pe((t.appearance==null||t.appearance.age==null?null:t.appearance.age.trim())||"Nincs megadva"),C(5),pe((t.appearance==null||t.appearance.gender==null?null:t.appearance.gender.trim())||"Nincs megadva"),C(5),pe((t.appearance==null||t.appearance.height==null?null:t.appearance.height.trim())||"Nincs megadva"),C(6),pe((t.appearance==null||t.appearance.weight==null?null:t.appearance.weight.trim())||"Nincs megadva"),C(5),pe((t.appearance==null||t.appearance.eyeColor==null?null:t.appearance.eyeColor.trim())||"Nincs megadva"),C(5),pe((t.appearance==null||t.appearance.hairColor==null?null:t.appearance.hairColor.trim())||"Nincs megadva"),C(5),pe((t.appearance==null||t.appearance.skinTone==null?null:t.appearance.skinTone.trim())||"Nincs megadva"),C(4),pe(r.backgroundName),C(2),pe(r.backgroundDescription)}}function rY(n,e){if(n&1&&(_(0,"div",119)(1,"strong"),E(2),g(),_(3,"p"),E(4),g()()),n&2){let t=e.$implicit;C(2),pe(t.title),C(2),pe(t.description)}}function iY(n,e){if(n&1&&(qe(0),Z(1,rY,5,2,"div",118),Ge()),n&2){let t=D(3);C(),W("ngForOf",t.raceTraits)}}function sY(n,e){n&1&&(_(0,"p"),E(1,"Nincsenek fajhoz tartoz\xF3 jellemz\u0151k."),g())}function oY(n,e){if(n&1&&(_(0,"div",119)(1,"strong"),E(2),g(),_(3,"p"),E(4),g()()),n&2){let t=D().$implicit;C(2),pe(t.title+" ("+t.lvl+".szint)"),C(2),pe(t.description)}}function aY(n,e){if(n&1&&(qe(0),Z(1,oY,5,2,"div",120),Ge()),n&2){let t=e.$implicit,r=D(4);C(),W("ngIf",!t.lvl||t.lvl<=r.lvl)}}function cY(n,e){if(n&1&&(qe(0),Z(1,aY,2,1,"ng-container",64),Ge()),n&2){let t=D(3);C(),W("ngForOf",t.classTraits)}}function lY(n,e){n&1&&(_(0,"p"),E(1,"Nincsenek kaszthoz tartoz\xF3 jellemz\u0151k."),g())}function uY(n,e){if(n&1&&(_(0,"div",119)(1,"strong"),E(2),g(),_(3,"p"),E(4),g()()),n&2){let t=e.$implicit;C(2),pe(t.title),C(2),pe(t.description)}}function dY(n,e){if(n&1&&(qe(0),Z(1,uY,5,2,"div",118),Ge()),n&2){let t=D(3);C(),W("ngForOf",t.backgroundTraits)}}function fY(n,e){n&1&&(_(0,"p"),E(1,"Nincsenek h\xE1tt\xE9rhez tartoz\xF3 jellemz\u0151k."),g())}function hY(n,e){if(n&1&&(_(0,"div",71)(1,"h2"),E(2,"Jellemz\u0151k"),g(),_(3,"h3"),E(4),g(),Z(5,iY,2,1,"ng-container",61)(6,sY,2,0,"ng-template",null,6,un),_(8,"h3"),E(9),g(),Z(10,cY,2,1,"ng-container",61)(11,lY,2,0,"ng-template",null,7,un),_(13,"h3"),E(14),g(),Z(15,dY,2,1,"ng-container",61)(16,fY,2,0,"ng-template",null,8,un),g()),n&2){let t=Lt(7),r=Lt(12),i=Lt(17),s=D(2);C(4),ge("",s.raceName,":"),C(),W("ngIf",s.raceTraits.length>0)("ngIfElse",t),C(4),ge("",s.className,":"),C(),W("ngIf",s.classTraits.length>0)("ngIfElse",r),C(4),ge("",s.backgroundName,":"),C(),W("ngIf",s.backgroundTraits.length>0)("ngIfElse",i)}}function pY(n,e){if(n&1){let t=De();_(0,"tr")(1,"td"),E(2),g(),_(3,"td",133)(4,"button",134),ae("click",function(){re(t);let i=D().$implicit,s=D(7);return ie(s.prepareSpell(i))}),E(5),g()(),_(6,"td")(7,"button",135),ae("click",function(){re(t);let i=D().$implicit,s=D(3).$implicit,o=D(4);return ie(o.toggleSpellDetails(i,s))}),E(8),g()()()}if(n&2){let t=D().$implicit,r=D(3).$implicit,i=D(4);C(2),pe(t.name),C(2),ii("remove",i.isSpellPrepared(t)),W("disabled",i.isSpellPrepared(t)?!1:i.hasReachedLimit(r)),C(),ge(" ",i.isSpellPrepared(t)?"T\xF6r\xF6l":"Bek\xE9sz\xEDt"," "),C(3),ge(" ",i.openedSpellId[r]===t.name?"Bez\xE1r":"B\u0151vebben"," ")}}function mY(n,e){if(n&1&&(_(0,"tr")(1,"td",136)(2,"div",137)(3,"table",138)(4,"tr")(5,"td")(6,"strong"),E(7,"Iskola:"),g()(),_(8,"td"),E(9),g()(),_(10,"tr")(11,"td")(12,"strong"),E(13,"Id\u0151:"),g()(),_(14,"td"),E(15),g()(),_(16,"tr")(17,"td")(18,"strong"),E(19,"Hat\xF3t\xE1v:"),g()(),_(20,"td"),E(21),g()(),_(22,"tr")(23,"td")(24,"strong"),E(25,"Komponensek:"),g()(),_(26,"td"),E(27),g()(),_(28,"tr")(29,"td")(30,"strong"),E(31,"Id\u0151tartam:"),g()(),_(32,"td"),E(33),g()()(),be(34,"br"),_(35,"p"),E(36),g()()()()),n&2){let t=D().$implicit;C(9),pe(t.school),C(6),pe(t.casting_time),C(6),pe(t.range),C(6),pe(t.component),C(6),pe(t.time),C(3),pe(t.description)}}function gY(n,e){if(n&1&&(qe(0),Z(1,pY,9,6,"tr",81)(2,mY,37,6,"tr",81),Ge()),n&2){let t=e.$implicit,r=D(3).$implicit,i=D(4);C(),W("ngIf",t.lvl===r),C(),W("ngIf",i.openedSpellId[r]===t.name)}}function _Y(n,e){if(n&1&&(qe(0),_(1,"h3"),E(2),g(),_(3,"table",124),Z(4,gY,3,2,"ng-container",64),In(5,"spellFilter"),g(),Ge()),n&2){let t=D(2).$implicit,r=D(4);C(2),pe(t===0?"Var\xE1zsfort\xE9ly":t+". szint"),C(2),W("ngForOf",Vy(5,2,r.allSpells,r.spellSearch,r.className))}}function vY(n,e){if(n&1&&(_(0,"div"),Z(1,_Y,6,6,"ng-container",81),g()),n&2){let t=D().$implicit,r=D(4);C(),W("ngIf",r.getVarazstoltesTrait().charge[t]!=null)}}function yY(n,e){if(n&1&&(_(0,"div",132),Z(1,vY,2,1,"div",81),In(2,"spellFilter"),In(3,"hasSpellLevel"),g()),n&2){let t=e.$implicit,r=D(4);C(),W("ngIf",Cr(3,5,Vy(2,1,r.allSpells,r.spellSearch,r.className),t))}}function xY(n,e){if(n&1){let t=De();_(0,"div",52)(1,"div",53)(2,"button",54),ae("click",function(){re(t);let i=D(3);return ie(i.closeSpellPopup())}),E(3,"\u2716"),g(),_(4,"div",129)(5,"h2"),E(6,"Var\xE1zslat kiv\xE1laszt\xE1sa"),g(),be(7,"br"),E(8),be(9,"br"),E(10),g(),_(11,"input",130),Jt("ngModelChange",function(i){re(t);let s=D(3);return rn(s.spellSearch,i)||(s.spellSearch=i),ie(i)}),g(),Z(12,yY,4,8,"div",131),g()()}if(n&2){let t=D(2).ngIf,r=D();C(8),ge(" ","Bek\xE9sz\xEDtett Var\xE1zsfort\xE9lyok: "+((t==null||t.cantrips==null?null:t.cantrips.length)||0)+"/"+r.varazstoltesMax," "),C(2),ge(" ","Bek\xE9sz\xEDtett var\xE1zslatok: "+((t==null||t.prepared_spells==null?null:t.prepared_spells.length)||0)+"/"+(r.spellModifier()+r.lvl)," "),C(),Zt("ngModel",r.spellSearch),C(),W("ngForOf",U0(4,uX))}}function EY(n,e){if(n&1){let t=De();qe(0),_(1,"button",139),ae("click",function(){re(t);let i=D().$implicit,s=D(3);return ie(s.rollDamage("",i.dmg))}),E(2),g(),Ge()}if(n&2){let t=D().$implicit;C(2),pe(t.dmg)}}function wY(n,e){n&1&&E(0,"-")}function CY(n,e){if(n&1){let t=De();qe(0),_(1,"button",140),ae("click",function(){re(t);let i=D(4);return ie(i.roll(i.spellModifier()+i.proficiency))}),E(2),g(),Ge()}if(n&2){let t=D(4);C(2),pe(t.spellModifier()+t.proficiency>0?"+"+(t.spellModifier()+t.proficiency):t.spellModifier()+t.proficiency)}}function bY(n,e){if(n&1&&E(0),n&2){let t=D().$implicit;ge(" ",t.dc===""||t.dc==null?"-":t.dc," ")}}function IY(n,e){if(n&1&&(_(0,"tr")(1,"td"),E(2),g(),_(3,"td"),Z(4,EY,3,1,"ng-container",61)(5,wY,1,0,"ng-template",null,9,un),g(),_(7,"td"),Z(8,CY,3,1,"ng-container",61)(9,bY,1,1,"ng-template",null,10,un),g(),_(11,"td"),E(12),g(),_(13,"td"),E(14),g(),_(15,"td"),E(16),g(),_(17,"td"),E(18),g()()),n&2){let t=e.$implicit,r=Lt(6),i=Lt(10);C(2),pe(t.name),C(2),W("ngIf",t.dmg&&t.dmg!=="")("ngIfElse",r),C(4),W("ngIf",t.dc==="tal\xE1lat")("ngIfElse",i),C(4),pe(t.casting_time),C(2),pe(t.range),C(2),pe(t.component),C(2),pe(t.time)}}function TY(n,e){n&1&&(_(0,"tr")(1,"td",141),E(2,"Nincs var\xE1zsfort\xE1ly bek\xE9sz\xEDtve."),g()())}function SY(n,e){if(n&1){let t=De();_(0,"div",88),ae("click",function(){let i=re(t).index,s=D(2).ngIf,o=D(2).$implicit,a=D(3);return ie(a.toggleSpellCharge(s,o,i))}),g()}if(n&2){let t=e.index,r=D(2).ngIf,i=D(2).$implicit;ii("filled",t<r.charge[i]-r.temp_charge[i])}}function DY(n,e){if(n&1&&(_(0,"div",85),Z(1,SY,1,2,"div",87),g()),n&2){let t=D().ngIf,r=D(2).$implicit,i=D(3);C(),W("ngForOf",i.getChargeArraySpell(t.charge[r]))}}function kY(n,e){if(n&1&&(qe(0),_(1,"div",142)(2,"h3",126),E(3),g(),Z(4,DY,2,1,"div",143),g(),Ge()),n&2){let t=e.ngIf,r=D(2).$implicit;C(3),ge("",r,". szint\u0171 var\xE1zslatok"),C(),W("ngIf",(t.charge==null?null:t.charge[r])!==void 0)}}function AY(n,e){if(n&1){let t=De();qe(0),_(1,"button",139),ae("click",function(){re(t);let i=D().$implicit,s=D(5);return ie(s.rollDamage("",i.dmg))}),E(2),g(),Ge()}if(n&2){let t=D().$implicit;C(2),ge(" ",t.dmg," ")}}function MY(n,e){n&1&&E(0,"-")}function RY(n,e){if(n&1){let t=De();qe(0),_(1,"button",140),ae("click",function(){re(t);let i=D(6);return ie(i.roll(i.spellModifier()+i.proficiency))}),E(2),g(),Ge()}if(n&2){let t=D(6);C(2),ge(" ",t.spellModifier()+t.proficiency>0?"+"+(t.spellModifier()+t.proficiency):t.spellModifier()+t.proficiency," ")}}function PY(n,e){if(n&1&&E(0),n&2){let t=D().$implicit;ge(" ",t.dc||"-"," ")}}function OY(n,e){if(n&1&&(_(0,"tr")(1,"td"),E(2),g(),_(3,"td"),Z(4,AY,3,1,"ng-container",61)(5,MY,1,0,"ng-template",null,9,un),g(),_(7,"td"),Z(8,RY,3,1,"ng-container",61)(9,PY,1,1,"ng-template",null,10,un),g(),_(11,"td"),E(12),g(),_(13,"td"),E(14),g(),_(15,"td"),E(16),g(),_(17,"td"),E(18),g()()),n&2){let t=e.$implicit,r=Lt(6),i=Lt(10);C(2),pe(t.name),C(2),W("ngIf",t.dmg)("ngIfElse",r),C(4),W("ngIf",t.dc==="tal\xE1lat")("ngIfElse",i),C(4),pe(t.casting_time),C(2),pe(t.range),C(2),pe(t.component),C(2),pe(t.time)}}function NY(n,e){if(n&1&&(qe(0),Z(1,kY,5,2,"ng-container",81),_(2,"table",127)(3,"thead")(4,"tr")(5,"th"),E(6,"N\xE9v"),g(),_(7,"th"),E(8,"Sebz\xE9s"),g(),_(9,"th"),E(10,"Kit\xE9r\xE9s/Tal\xE1lat"),g(),_(11,"th"),E(12,"Id\u0151"),g(),_(13,"th"),E(14,"Hat\xF3t\xE1v"),g(),_(15,"th"),E(16,"Komponensek"),g(),_(17,"th"),E(18,"Id\u0151tartam"),g()()(),_(19,"tbody"),Z(20,OY,19,9,"tr",64),g()(),Ge()),n&2){let t=D().$implicit,r=D(3);C(),W("ngIf",r.getVarazstoltesTrait()),C(19),W("ngForOf",r.getPreparedSpellsByLevel(t))}}function FY(n,e){if(n&1&&(_(0,"div"),Z(1,NY,21,2,"ng-container",81),g()),n&2){let t,r=e.$implicit,i=D(3);C(),W("ngIf",i.getPreparedSpellsByLevel(r).length>0&&((t=i.getVarazstoltesTrait().charge)==null?null:t[r])!==void 0)}}function LY(n,e){if(n&1){let t=De();_(0,"div",71)(1,"div",121)(2,"h2"),E(3,"Var\xE1zslatok"),g(),_(4,"button",122),ae("click",function(){re(t);let i=D(2);return ie(i.openSpellPopup())}),E(5,"M\xE1gia bek\xE9sz\xEDt\xE9se"),g()(),_(6,"div",123)(7,"table",124)(8,"tr")(9,"th"),E(10,"M\xF3dos\xEDt\xF3"),g(),_(11,"th"),E(12,"Spell Attack"),g(),_(13,"th"),E(14,"Save DC"),g()(),_(15,"tr")(16,"td"),E(17),g(),_(18,"td"),E(19),g(),_(20,"td"),E(21),g()()(),Z(22,xY,13,5,"div",19),_(23,"div",125)(24,"h3",126),E(25,"Var\xE1zsfort\xE9lyok"),g(),_(26,"table",127)(27,"thead")(28,"tr")(29,"th"),E(30,"N\xE9v"),g(),_(31,"th"),E(32,"Sebz\xE9s"),g(),_(33,"th"),E(34,"Kit\xE9r\xE9s/Tal\xE1lat"),g(),_(35,"th"),E(36,"Id\u0151"),g(),_(37,"th"),E(38,"Hat\xF3t\xE1v"),g(),_(39,"th"),E(40,"Komponensek"),g(),_(41,"th"),E(42,"Id\u0151tartam"),g()()(),_(43,"tbody"),Z(44,IY,19,9,"tr",64)(45,TY,3,0,"tr",81),g()(),be(46,"br"),_(47,"div",128),Z(48,FY,2,1,"div",64),g()()()()}if(n&2){let t=D().ngIf,r=D();C(17),pe(r.spellModifier()>0?"+"+r.spellModifier():r.spellModifier()),C(2),pe(r.spellModifier()+r.proficiency>0?"+"+(r.spellModifier()+r.proficiency):r.spellModifier()+r.proficiency),C(2),pe(8+r.spellModifier()+r.proficiency),C(),W("ngIf",r.spellPopupVisible),C(22),W("ngForOf",(t==null?null:t.cantrips)||U0(7,cX)),C(),W("ngIf",!(!(t==null||t.cantrips==null)&&t.cantrips.length)),C(3),W("ngForOf",U0(8,lX))}}function VY(n,e){if(n&1){let t=De();_(0,"div",12)(1,"div",13),E(2," Dob\xE1s: "),be(3,"br"),E(4),g(),_(5,"div")(6,"div",14)(7,"div",15)(8,"h1"),E(9),g(),_(10,"p"),E(11),g()(),_(12,"div",16)(13,"button",17),ae("click",function(){re(t);let i=D();return ie(i.reset())}),E(14,"Hossz\xFA Pihen\u0151"),g(),_(15,"button",18),ae("click",function(){re(t);let i=D();return ie(i.openLevelUpPopup())}),E(16,"Szint l\xE9p\xE9s"),g()(),Z(17,pX,23,7,"div",19),g(),_(18,"div",20)(19,"div",21)(20,"div",22),E(21," Sebess\xE9g: "),be(22,"br"),E(23),g(),_(24,"div",23),E(25," Kezdem\xE9nyez\xE9s: "),be(26,"br"),_(27,"button",24),ae("click",function(){re(t);let i=D();return ie(i.roll(i.getInitiative()))}),E(28),g()(),_(29,"div",25),E(30," Inspir\xE1ci\xF3: "),be(31,"br"),_(32,"input",26),Jt("ngModelChange",function(i){re(t);let s=D();return rn(s.isCheckedInspiration,i)||(s.isCheckedInspiration=i),ie(i)}),ae("change",function(){re(t);let i=D();return ie(i.saveCheckbox())}),g()(),_(33,"div",27),E(34," J\xE1rtass\xE1gi b\xF3nusz: "),be(35,"br"),E(36),g(),_(37,"div",28),E(38," P\xE1nc\xE9l: "),be(39,"br"),E(40),g()(),_(41,"div",29)(42,"p")(43,"strong"),E(44,"\xC9leter\u0151:"),g(),E(45),be(46,"br"),_(47,"strong"),E(48,"Ideiglenes \xE9leter\u0151:"),g(),_(49,"input",30),Jt("ngModelChange",function(i){re(t);let s=D();return rn(s.temp,i)||(s.temp=i),ie(i)}),ae("ngModelChange",function(){re(t);let i=D();return ie(i.updateTempHp())}),g()(),_(50,"div",31)(51,"input",32),Jt("ngModelChange",function(i){re(t);let s=D();return rn(s.hpDelta,i)||(s.hpDelta=i),ie(i)}),g(),_(52,"button",33),ae("click",function(){let i=re(t).ngIf,s=D();return ie(s.applyDamageOrHeal(i,-s.hpDelta))}),E(53,"Sebz\xE9s"),g(),_(54,"button",34),ae("click",function(){let i=re(t).ngIf,s=D();return ie(s.applyDamageOrHeal(i,s.hpDelta))}),E(55,"Gy\xF3gy\xEDt\xE1s"),g()()()()(),_(56,"div",35)(57,"div",36)(58,"h2"),E(59,"Adotts\xE1gok"),g(),_(60,"div",37),Z(61,_X,11,4,"div",38),g()(),_(62,"div",39)(63,"div",40)(64,"div",41)(65,"p")(66,"strong"),E(67,"P\xE1nc\xE9lok"),g(),be(68,"br"),E(69),g(),be(70,"hr"),_(71,"p")(72,"strong"),E(73,"Fegyverek"),g(),be(74,"br"),E(75),g(),be(76,"hr"),_(77,"p")(78,"strong"),E(79,"Eszk\xF6z\xF6k"),g(),be(80,"br"),E(81),g(),be(82,"hr"),_(83,"p")(84,"strong"),E(85,"Nyelvek"),g(),be(86,"br"),E(87),g()(),_(88,"div",42)(89,"h4"),E(90,"Ment\u0151 Dob\xE1sok:"),g(),_(91,"table")(92,"tr")(93,"td"),E(94," Er\u0151"),be(95,"br"),E(96),g(),_(97,"td"),E(98," \xDCgyess\xE9g"),be(99,"br"),E(100),g(),_(101,"td"),E(102," \xC1ll\xF3k\xE9pess\xE9g"),be(103,"br"),E(104),g()(),_(105,"tr")(106,"td"),E(107," B\xF6lcsess\xE9g"),be(108,"br"),E(109),g(),_(110,"td"),E(111," Intelligencia"),be(112,"br"),E(113),g(),_(114,"td"),E(115," Karizma"),be(116,"br"),E(117),g()()()(),_(118,"div",43)(119,"table")(120,"tr")(121,"td"),E(122," Passz\xEDv \xC9szlel\xE9s "),g(),_(123,"td",44),E(124),g()(),_(125,"tr")(126,"td"),E(127," Passz\xEDv Kutat\xE1s "),g(),_(128,"td",44),E(129),g()(),_(130,"tr")(131,"td"),E(132," Passz\xEDv Emberismeret "),g(),_(133,"td",44),E(134),g()()()()(),_(135,"div",45)(136,"div",46),Z(137,vX,2,3,"button",47)(138,yX,2,2,"button",48),g(),_(139,"div",49),qe(140,50),Z(141,NX,23,5,"div",51)(142,tY,27,7,"div",51)(143,nY,54,10,"div",51)(144,hY,18,9,"div",51)(145,LY,49,9,"div",51),Ge(),g()()()()()}if(n&2){let t=e.ngIf,r=D();C(4),ge(" ",r.rollShow()," "),C(5),pe((t.appearance==null?null:t.appearance.name)||"N\xE9vtelen"),C(2),Ny(" ",r.raceName||"Ismeretlen faj"," ",r.className||"Ismeretlen oszt\xE1ly"," \u2013 Szint ",t.lvl," "),C(6),W("ngIf",r.levelUpVisible),C(6),ge(" ",r.raceData.speed,"m "),C(5),ge(" ",r.getInitiative()==0?r.getInitiative():r.getInitiative()>0?"+"+r.getInitiative():r.getInitiative()," "),C(4),Zt("ngModel",r.isCheckedInspiration),C(4),ge(" ",r.proficiencyBonus()," "),C(4),ge(" ",r.ac," "),C(5),_n(" ",t.hp,"/",r.maxHp," "),C(4),Zt("ngModel",r.temp),C(2),Zt("ngModel",r.hpDelta),C(3),W("disabled",t.hp>=r.maxHp),C(7),W("ngForOf",t.abilities),C(8),ge(" ",t.armor," "),C(6),ge(" ",t.weapon," "),C(6),ge(" ",t.tools," "),C(6),ge(" ",t.language," "),C(9),ge(" ",r.save("Er\u0151")," "),C(4),ge(" ",r.save("\xDCgyess\xE9g")," "),C(4),ge(" ",r.save("\xC1ll\xF3k\xE9pess\xE9g")," "),C(5),ge(" ",r.save("B\xF6lcsess\xE9g")," "),C(4),ge(" ",r.save("Intelligencia")," "),C(4),ge(" ",r.save("Karizma")," "),C(7),ge(" ",r.passziv("B\xF6lcsess\xE9g","\xC9szlel\xE9s")," "),C(5),ge(" ",r.passziv("Intelligencia","Kutat\xE1s")," "),C(5),ge(" ",r.passziv("B\xF6lcsess\xE9g","Emberismeret")," "),C(3),W("ngForOf",r.tabs),C(),W("ngIf",t.mage==!0),C(2),W("ngSwitch",r.selectedTab),C(),W("ngSwitchCase","Akci\xF3k"),C(),W("ngSwitchCase","Felszerel\xE9s"),C(),W("ngSwitchCase","El\u0151\xE9let"),C(),W("ngSwitchCase","Jellemz\u0151k"),C(),W("ngSwitchCase","Var\xE1zslatok")}}var __=class n{constructor(e){this.router=e}tabs=["Akci\xF3k","Felszerel\xE9s","El\u0151\xE9let","Jellemz\u0151k"];selectedTab="Akci\xF3k";character$;className="";raceName="";backgroundName="";temp=0;hpDelta=0;maxHp=0;baseHp=0;characterId="";characterData;raceData;ac=0;traits=[];raceTraits=[];classTraits=[];backgroundTraits=[];backgroundDescription="";isCheckedInspiration=!1;rollnumber=0;proficiency=0;skills=[{name:"Akrobatika",type:"\xDCgyess\xE9g",value:0},{name:"\xC1llatok kezel\xE9se",type:"B\xF6lcsess\xE9g",value:0},{name:"Atl\xE9tika",type:"Er\u0151",value:0},{name:"El\u0151ad\xE1s",type:"Karizma",value:0},{name:"Emberismeret",type:"B\xF6lcsess\xE9g",value:0},{name:"\xC9szlel\xE9s",type:"B\xF6lcsess\xE9g",value:0},{name:"K\xE9z\xFCgyess\xE9g",type:"\xDCgyess\xE9g",value:0},{name:"Kutat\xE1s",type:"Intelligencia",value:0},{name:"Lopakod\xE1s",type:"\xDCgyess\xE9g",value:0},{name:"M\xE1giaismeret",type:"Intelligencia",value:0},{name:"Megf\xE9leml\xEDt\xE9s",type:"Karizma",value:0},{name:"Megt\xE9veszt\xE9s",type:"Karizma",value:0},{name:"Meggy\u0151z\xE9s",type:"Karizma",value:0},{name:"Orvosl\xE1s",type:"B\xF6lcsess\xE9g",value:0},{name:"Term\xE9szetismeret",type:"Intelligencia",value:0},{name:"T\xF6rt\xE9nelem",type:"Intelligencia",value:0},{name:"T\xFAl\xE9l\xE9s",type:"B\xF6lcsess\xE9g",value:0},{name:"Vall\xE1s",type:"Intelligencia",value:0}];isSyncing=!1;traitsSynced=!1;firestore=ue(Wn);route=ue(ci);equippedContainers=[];equippedArmors=[];equippedWeapons=[];itemAdd=!1;searchTerm="";allItems=[];weight=0;filteredItems={fegyver:[],pancel:[],tarolo:[],egyeb:[]};selectedQuantity={};selectedItemToAdd=null;tooltipVisible=!1;tooltipItem=null;tooltipX=0;tooltipY=0;tooltipTimer;lvl=1;spellPopupVisible=!1;spellSearch="";filteredSpells=[];allSpells=[];openedSpellId={};levelUpVisible=!1;targetLevel=1;filteredTraits=[];ngOnInit(){this.character$=this.route.paramMap.pipe(ar(e=>{let t=e.get("id");if(!t)throw new Error("Karakter ID hi\xE1nyzik.");return this.characterId=t,OO(it(this.firestore,`character/${t}`))}),ar(e=>B(this,null,function*(){return this.characterData=e,this.temp=e.tempHp??0,this.isCheckedInspiration=e.inspiration??!1,yield this.loadClassAndRaceAndBackgroundNames(e.class,e.race,e.backstory),yield this.getMaxHp(),yield this.setSkill(e.skill),this.raceData=yield this.loadRaceData(e.race),yield this.loadTraits(),this.isSyncing||(yield this.loadEquipment()),this.traitsSynced||(yield this.syncTraitsToDatabase(),yield this.cleanCharacterTraits(),this.traitsSynced=!0),this.getequippedContainers(),this.getequippedWeapons(),this.getequippedArmors(),this.updateAllContainerWeights(),e})),ar(e=>We(e)))}get characterDetailedTraits(){return!this.characterData?.traits||!this.traits?[]:this.characterData.traits.map(e=>this.traits.find(t=>t.uses===e.uses&&t.name===e.name)).filter(e=>!!e)}setSkill(e){return B(this,null,function*(){if(!(!this.characterData||!e)){this.skills.forEach(t=>t.value=0);for(let t=0;t<e.length;t++){let r=this.skills.find(i=>i.name===e[t]);r&&(r.value+=this.proficiencyBonus())}}})}rollNot20(e,t,r){var i=0;for(let s=0;s<t;s++)i+=Math.floor(Math.random()*r+1);this.rollnumber=i+e,this.rollShow()}selectTab(e){this.selectedTab=e}roll(e){this.rollnumber=Math.floor(Math.random()*20+1)+e,this.rollShow()}rollShow(){return this.rollnumber}strengthTotal(){return this.characterData.abilities?.find(r=>r.name==="Er\u0151")?.total??0}saveCheckbox(){return B(this,null,function*(){if(!this.characterId)return;let e=it(this.firestore,`character/${this.characterId}`);yield Wt(e,{inspiration:this.isCheckedInspiration})})}getInitiative(){return this.characterData.abilities?.find(r=>r.name==="\xDCgyess\xE9g")?.modifier??0}loadRaceData(e){return B(this,null,function*(){try{let t=it(this.firestore,`race/${e}`),r=yield qr(t);return r.exists()?r.data():null}catch{return null}})}loadClassAndRaceAndBackgroundNames(e,t,r){return B(this,null,function*(){try{let i=yield qr(it(this.firestore,`class/${e}`));if(i.exists()){let a=i.data();this.className=a.name}let s=yield qr(it(this.firestore,`background/${r}`));if(s.exists()){let a=s.data();this.backgroundName=a.name,this.backgroundDescription=a.description}let o=yield qr(it(this.firestore,`race/${t}`));if(o.exists()){let a=o.data();this.raceName=a.name}}catch{}})}loadTraits(){return B(this,null,function*(){try{if(!this.characterData?.traits||!Array.isArray(this.characterData.traits)){this.traits=[];return}let t=(yield Gr(an(this.firestore,"traits"))).docs.map(i=>i.data()),r=this.characterData.traits.map(i=>i.name);this.traits=t.filter(i=>{if(!i.title||!i.uses)return!1;let s=this.raceName&&i.uses.includes(this.raceName),o=this.className&&i.uses.includes(this.className),a=this.backgroundName&&i.uses.includes(this.backgroundName);return r.includes(i.title)&&(s||o||a)}),this.groupTraitsByCategory()}catch{}})}syncTraitsToDatabase(){return B(this,null,function*(){if(!(!this.characterData||!Array.isArray(this.characterData.traits)))try{let e=an(this.firestore,"traits"),r=(yield Gr(e)).docs.map(s=>s.data()),i=[];for(let s of this.characterData.traits){let o=r.filter(u=>u.title===s.name&&u.uses===s.uses);if(o.length===0){i.push(s);continue}let a=o.filter(u=>(u.lvl??0)<=this.characterData.lvl),c=a.length>0?a.reduce((u,f)=>(f.lvl??0)>(u.lvl??0)?f:u):o[0],l=Ke(me(me({},s),c),{name:c.title,uses:c.uses,lvl:c.lvl??0});delete l.id,c.charge!==void 0&&(l.charge===void 0&&(l.charge=c.charge),l.temp_charge===void 0&&(l.temp_charge=c.charge)),i.push(l)}if(this.characterData.traits=i,this.characterId){let s=it(this.firestore,"character",this.characterId);yield Wt(s,{traits:this.characterData.traits})}}catch{}})}cleanCharacterTraits(){if(this.characterData?.traits&&(this.characterData.traits=this.characterData.traits.map(e=>{let t=me({},e);return"title"in t&&delete t.title,"description"in t&&delete t.description,t}),this.characterId)){let e=it(this.firestore,"character",this.characterId);Wt(e,{traits:this.characterData.traits})}}loadEquipment(){return B(this,null,function*(){try{let t=(yield Gr(an(this.firestore,"items"))).docs.map(a=>me({},a.data()));if(!this.characterData?.equipment)return;let r=this.characterData.equipment.map(a=>{let c=t.find(f=>f.name===a.name),l=a.hasOwnProperty("felszerelt")?a.felszerelt:!1,u=a.id?a.id:tI();return c?Ke(me(me({},c),a),{id:u,felszerelt:l}):Ke(me({},a),{id:u,felszerelt:l})}),i=JSON.stringify(this.characterData.equipment),s=JSON.stringify(r);if(i===s){this.characterData.equipment=r;return}this.isSyncing=!0,this.characterData.equipment=r;let o=it(this.firestore,`character/${this.characterId}`);yield Wt(o,{equipment:r}),setTimeout(()=>{this.isSyncing=!1},500)}catch{this.isSyncing=!1}})}groupTraitsByCategory(){this.raceTraits=[],this.classTraits=[],this.backgroundTraits=[],!(!this.traits||this.traits.length===0)&&this.traits.forEach(e=>{let t=e.uses.split(",").map(r=>r.trim());t.includes(this.raceName)?this.raceTraits.push(e):t.includes(this.className)?this.classTraits.push(e):t.includes(this.backgroundName)&&this.backgroundTraits.push(e)})}getMaxHp(){return B(this,null,function*(){let e=this.characterId;if(!e)return;let t=yield qr(it(this.firestore,`character/${e}`));if(!t.exists())return;let r=t.data(),i=yield qr(it(this.firestore,`class/${r.class}`));if(!i.exists())return;let s=i.data();this.baseHp=s.hp||0;let o=r.lvl||1;this.lvl=o;let c=r.abilities?.find(u=>u.name==="\xC1ll\xF3k\xE9pess\xE9g")?.modifier||0,l=r.maxhp||0;this.maxHp=(this.baseHp+c)*o+l,this.armoreClass()})}armoreClass(){let e=this.characterData.abilities.find(a=>a.name==="\xDCgyess\xE9g"),t=e?e.modifier:0,r=this.equippedArmors.filter(a=>a.type?.includes("p\xE1nc\xE9l")&&!a.type?.includes("pajzs")),i=r.length>0?Math.max(...r.map(a=>Number(a.armor)||0)):10,s=this.equippedArmors.filter(a=>a.type?.includes("pajzs")),o=s.length>0?Math.max(...s.map(a=>Number(a.armor)||0)):0;this.ac=i+t+o}proficiencyBonus(){return this.proficiency=Math.ceil(this.characterData.lvl/4)+1,Math.ceil(this.characterData.lvl/4)+1}save(e){let r=this.characterData.abilities?.find(i=>i.name===e)?.modifier;for(let i=0;i<this.characterData.save.length;i++)this.characterData.save[i]==e&&(r+=this.proficiency);return r}passziv(e,t){let i=this.characterData.abilities?.find(s=>s.name===e)?.modifier;for(let s=0;s<this.characterData.skill.length;s++)this.characterData.skill[s]==t&&(i+=this.proficiency);return i}applyDamageOrHeal(e,t){return B(this,null,function*(){let r=this.route.snapshot.paramMap.get("id");if(!r)return;let i=it(this.firestore,`character/${r}`),{hp:s=0}=e,o=this.temp;if(t>0&&s<this.maxHp){let a=Math.min(s+t,this.maxHp);yield this.updateCharacterHp(i,a)}else if(t<0){let a=Math.abs(t);if(o>=a)this.temp=o-a;else{let c=a-o;this.temp=0;let l=Math.max(s-c,0);yield this.updateCharacterHp(i,l)}}Wt(it(this.firestore,`character/${this.characterId}`),{tempHp:this.temp}),this.hpDelta=0})}updateCharacterHp(e,t){return B(this,null,function*(){yield KC(this.firestore,r=>B(this,null,function*(){r.update(e,{hp:t})}))})}updateTempHp(){if(this.characterId==null)return;let e=it(this.firestore,`character/${this.characterId}`);Wt(e,{tempHp:this.temp})}startTooltipTimer(e,t){clearTimeout(this.tooltipTimer),this.tooltipTimer=setTimeout(()=>{this.tooltipItem=t,this.tooltipVisible=!0,this.tooltipX=e.clientX+15,this.tooltipY=e.clientY+15},500)}moveTooltip(e){this.tooltipVisible&&(this.tooltipX=e.clientX+15,this.tooltipY=e.clientY+15)}hideTooltip(){this.clearTooltipTimer(),this.tooltipVisible=!1}clearTooltipTimer(){this.tooltipTimer&&(clearTimeout(this.tooltipTimer),this.tooltipTimer=null)}get mainInventory(){return this.characterData?.equipment?.filter(e=>!e.t\u00E1rolt||e.t\u00E1rolt==="")||[]}get equipmentWeapon(){return this.characterData?.equipment?.filter(e=>e.type?.includes("fegyver")&&e.felszerelt==!0)||[]}get containers(){return this.characterData?.equipment?.filter(e=>e.type?.includes("t\xE1rol\xF3")&&e.felszerelt)}getequippedContainers(){if(!this.characterData?.equipment){this.equippedContainers=[];return}this.equippedContainers=this.characterData.equipment.filter(e=>e.type?.includes("t\xE1rol\xF3")&&e.felszerelt===!0)}getequippedWeapons(){if(!this.characterData?.equipment){this.equippedWeapons=[];return}this.equippedWeapons=this.characterData.equipment.filter(e=>e.type?.includes("fegyver")&&e.felszerelt===!0)}getequippedArmors(){if(!this.characterData?.equipment){this.equippedArmors=[];return}this.equippedArmors=this.characterData.equipment.filter(e=>e.type?.includes("p\xE1nc\xE9l")&&e.felszerelt===!0)}attackRoll(e,t){let r=0;for(let i=0;i<this.characterData.weapon.length;i++)if(t.includes(this.characterData.weapon[i])){r+=this.proficiency;break}return e==="Er\u0151"?r+=this.characterData.abilities?.find(i=>i.name==="Er\u0151").modifier:e==="\xDCgyess\xE9g"&&(r+=this.characterData.abilities?.find(i=>i.name==="\xDCgyess\xE9g").modifier),r}dmgMod(e){let t="";return e==="Er\u0151"?t=this.characterData.abilities?.find(r=>r.name==="Er\u0151").modifier>0?"+"+this.characterData.abilities?.find(r=>r.name==="Er\u0151").modifier:this.characterData.abilities?.find(r=>r.name==="Er\u0151").modifier:e==="\xDCgyess\xE9g"&&(t=this.characterData.abilities?.find(r=>r.name==="\xDCgyess\xE9g").modifier>0?"+"+this.characterData.abilities?.find(r=>r.name==="\xDCgyess\xE9g").modifier:this.characterData.abilities?.find(r=>r.name==="\xDCgyess\xE9g").modifier),t}rollDamage(e,t){let r=0;e==="Er\u0151"?r=this.characterData.abilities?.find(o=>o.name==="Er\u0151").modifier:e==="\xDCgyess\xE9g"&&(r=this.characterData.abilities?.find(o=>o.name==="\xDCgyess\xE9g").modifier);let i=Number(t.split("d")[0]),s=Number(t.split("d")[1]);this.rollNot20(r,i,s)}getChargeArray(e){let t=e.charge??0;return Array(t).fill(0)}toggleCharge(e,t){e.temp_charge==null&&(e.temp_charge=e.charge);let r=e.charge-e.temp_charge;t>=r?e.temp_charge=e.charge-(r+1):e.temp_charge=e.charge-(r-1),e.temp_charge=Math.max(0,Math.min(e.temp_charge,e.charge)),this.saveTraits()}saveTraits(){let e=it(this.firestore,`character/${this.characterId}`);Wt(e,{traits:this.characterData.traits})}toggleMenu(){return B(this,null,function*(){this.itemAdd=!this.itemAdd,this.itemAdd&&this.allItems.length===0&&(yield this.loadItemsFromDB())})}hideMenu(){this.itemAdd=!1}loadItemsFromDB(){return B(this,null,function*(){let e=an(this.firestore,"items"),t=yield Gr(e);this.allItems=t.docs.map(r=>r.data()),this.categorizeItems()})}categorizeItems(){this.filteredItems={fegyver:this.allItems.filter(e=>e.type?.toLowerCase().includes("fegyver")),pancel:this.allItems.filter(e=>e.type?.toLowerCase().includes("p\xE1nc\xE9l")),tarolo:this.allItems.filter(e=>e.type?.toLowerCase().includes("t\xE1rol\xF3")),egyeb:this.allItems.filter(e=>!e.type?.toLowerCase().includes("fegyver")&&!e.type?.toLowerCase().includes("p\xE1nc\xE9l")&&!e.type?.toLowerCase().includes("t\xE1rol\xF3"))}}setQuantity(e,t){this.selectedQuantity[e]=t}get itemGroups(){return[{label:"Fegyverek",items:this.allItems.filter(e=>e.type?.includes("fegyver")),allowQuantity:!1},{label:"P\xE1nc\xE9lok",items:this.allItems.filter(e=>e.type?.includes("p\xE1nc\xE9l")),allowQuantity:!1},{label:"T\xE1rol\xF3k",items:this.allItems.filter(e=>e.type?.includes("t\xE1rol\xF3")),allowQuantity:!1},{label:"Egy\xE9b",items:this.allItems.filter(e=>!["fegyver","p\xE1nc\xE9l","t\xE1rol\xF3"].some(t=>e.type?.includes(t))),allowQuantity:!0}]}addItem(e,t=1){if(e.type.includes("fegyver")||e.type.includes("p\xE1nc\xE9l")||e.type.includes("t\xE1rol\xF3")){let r=Ke(me({},e),{db:1,felszerelt:!1,t\u00E1rolt:""});this.characterData.equipment.push(r)}else{let r=this.characterData.equipment.find(i=>i.name===e.name);if(r&&r.t\u00E1rolt=="")r.db+=t;else{let i=Ke(me({},e),{db:t,felszerelt:!1,t\u00E1rolt:""});this.characterData.equipment.push(i)}}this.saveEquipment()}toggleEquip(e,t){return B(this,null,function*(){e.felszerelt=t,e.type?.includes("t\xE1rol\xF3")&&(t?this.equippedContainers.find(r=>r.name===e.name)||this.equippedContainers.push(e):this.equippedContainers=this.equippedContainers.filter(r=>r.name!==e.name)),e.type?.includes("p\xE1nc\xE9l")&&(t?this.equippedArmors.find(r=>r.name===e.name)||this.equippedArmors.push(e):this.equippedArmors=this.equippedArmors.filter(r=>r.name!==e.name)),e.type?.includes("fegyver")&&(t?this.equippedWeapons.find(r=>r.name===e.name)||this.equippedWeapons.push(e):this.equippedWeapons=this.equippedWeapons.filter(r=>r.name!==e.name));try{let r=it(this.firestore,`character/${this.characterId}`);yield Wt(r,{equipment:this.characterData.equipment})}catch{}})}saveEquipment(){return B(this,null,function*(){try{let e=it(this.firestore,`character/${this.characterId}`);yield Wt(e,{equipment:this.characterData.equipment}),this.updateAllContainerWeights()}catch{}})}updateItemQuantity(e,t){let r=t.target,i=Number(r.value);isNaN(i)||((e.type?.includes("fegyver")||e.type?.includes("p\xE1nc\xE9l")||e.type?.includes("t\xE1rol\xF3"))&&i>1&&(i=1),i<0?this.characterData.equipment=this.characterData.equipment.filter(s=>s!==e):e.db=i,this.saveEquipment())}moveItemToContainer(e,t){if(!t)return;let r=this.characterData.equipment.find(u=>u.id===t&&u.type?.includes("t\xE1rol\xF3"));if(!r){alert("Nem tal\xE1lhat\xF3 a kiv\xE1lasztott t\xE1rol\xF3."),e.showContainerSelect=!1;return}if(e.type?.includes("t\xE1rol\xF3")){alert("T\xE1rol\xF3t nem tehetsz t\xE1rol\xF3ba!"),e.showContainerSelect=!1;return}let s=this.characterData.equipment.filter(u=>u.t\u00E1rolt===r.id).reduce((u,f)=>u+(f.weight||0)*(f.db||1),0),o=e.weight||0,a=e.db||1,c=r.capacity-s,l=Math.floor(c/o);if(l<=0){alert(`${r.name} megtelt!`),e.showContainerSelect=!1;return}if(l<a){let u=Ke(me({},e),{id:crypto.randomUUID(),db:l,t\u00E1rolt:r.id,felszerelt:!1});this.characterData.equipment.push(u),e.db-=l}else e.t\u00E1rolt=r.id,e.felszerelt=!1;this.saveEquipment(),e.showContainerSelect=!1}removeFromContainer(e){let t=this.characterData.equipment.find(r=>r.name===e.name&&(!r.t\u00E1rolt||r.t\u00E1rolt===""));t?(t.db=(t.db||1)+(e.db||1),this.characterData.equipment=this.characterData.equipment.filter(r=>r!==e)):e.t\u00E1rolt="",this.saveEquipment()}getContainerContents(e){return this.characterData?.equipment?.filter(t=>t.t\u00E1rolt===e)||[]}updateCurrency(e){this.characterData[e]<0&&(this.characterData[e]=0);let t=it(this.firestore,`character/${this.characterId}`);Wt(t,{[e]:this.characterData[e]}),this.getWeight()}getWeight(){this.weight=0;for(let e of this.characterData.equipment||[]){let t=Number(e.db)||1,r=Number(e.weight)||0;if((e.t\u00E1rolt===""||!e.t\u00E1rolt)&&(this.weight+=t*r),e.type?.includes("t\xE1rol\xF3")){let i=Number(e.inv_weight);this.weight+=i}}this.weight+=Number(this.characterData.gold)*.02,this.weight+=(Number(this.characterData.silver)||0)*.01,this.weight+=(Number(this.characterData.copper)||0)*.005,this.weight=parseFloat(this.weight.toFixed(2))}getContainerInvWeight(e){let t=0;for(let i=0;i<this.characterData.equipment.length;i++){let s=this.characterData.equipment[i];s.t\u00E1rolt===e&&(t+=Number(s.db)*Number(s.weight))}let r=this.characterData.equipment.find(i=>i.id===e&&i.type?.includes("t\xE1rol\xF3"));r&&(r.inv_weight=t*Number(r.light||1))}updateAllContainerWeights(){for(let e of this.characterData.equipment)e.type?.includes("t\xE1rol\xF3")&&this.getContainerInvWeight(e.id);this.getWeight()}reset(){this.characterData.hp=this.maxHp,this.characterData.tempHp=0,this.characterData.traits&&(this.characterData.traits=this.characterData.traits.map(t=>t.charge!==void 0?Ke(me({},t),{temp_charge:t.charge}):t));let e=it(this.firestore,`character/${this.characterId}`);Wt(e,{hp:this.maxHp,tempHp:0,traits:this.characterData.traits})}spellModifier(){let e=this.characterData.abilities.find(t=>t.name===this.characterData.spell_mod);return e?e.modifier:0}openSpellPopup(){this.spellPopupVisible=!0,this.loadSpells()}closeSpellPopup(){this.spellPopupVisible=!1}loadSpells(){return B(this,null,function*(){let e=an(this.firestore,"spells"),t=Iu(e),r=yield Gr(t);this.allSpells=r.docs.map(i=>me({id:i.id},i.data())),this.filterSpells()})}filterSpells(){!this.allSpells||!this.characterData.class||(this.filteredSpells=this.allSpells.filter(e=>(Array.isArray(e.uses)?e.uses:e.uses?.split(",").map(r=>r.trim())||[]).includes(this.className)))}prepareSpell(e){this.characterData.prepared_spells||(this.characterData.prepared_spells=[]),this.characterData.cantrips||(this.characterData.cantrips=[]);let t=me({},e);if(e.lvl===0){let i=this.characterData.cantrips.findIndex(s=>s.id===e.id);if(i!==-1){this.characterData.cantrips.splice(i,1),Wt(it(this.firestore,`character/${this.characterId}`),{cantrips:this.characterData.cantrips});return}this.characterData.cantrips.push(t),Wt(it(this.firestore,`character/${this.characterId}`),{cantrips:this.characterData.cantrips})}else{let i=this.characterData.prepared_spells.findIndex(s=>s.id===e.id);if(i!==-1){this.characterData.prepared_spells.splice(i,1),Wt(it(this.firestore,`character/${this.characterId}`),{prepared_spells:this.characterData.prepared_spells});return}this.characterData.prepared_spells.push(t),Wt(it(this.firestore,`character/${this.characterId}`),{prepared_spells:this.characterData.prepared_spells})}}toggleSpellDetails(e,t){this.openedSpellId[t]=this.openedSpellId[t]===e.name?null:e.name}getSpellsByLevel(e){return this.filteredSpells.filter(t=>t.lvl===e)}isSpellPrepared(e){return this.characterData.prepared_spells?.some(t=>t.id===e.id)||this.characterData.cantrips?.some(t=>t.id===e.id)}hasReachedLimit(e){if(!this.characterData)return!1;if(e===0){let t=this.characterData?.cantrips?.length||0,r=this.varazstoltesMax||0;return t>=r}else{let t=this.characterData?.prepared_spells?.length||0,r=this.spellModifier()+this.lvl;return t>=r}}get varazstoltesMax(){return this.characterData?.traits?.find(t=>t.name==="Var\xE1zst\xF6ltetek")?.temp_charge?.[0]??0}getPreparedSpellsByLevel(e){return this.characterData?.prepared_spells?.filter(t=>t.lvl===e)||[]}getVarazstoltesTrait(){return this.characterData?.traits?.find(e=>e.name==="Var\xE1zst\xF6ltetek"&&e.charge&&e.temp_charge)}toggleSpellCharge(e,t,r){if(!e.temp_charge||e.temp_charge[t]===void 0)return;let i=e.charge?.[t]??0,s=i-(e.temp_charge[t]??0);r>=s?s=s+1:s=s-1,e.temp_charge[t]=Math.max(0,Math.min(i,i-s)),this.saveTraits?.()}getChargeArraySpell(e){let t=Math.max(0,Math.floor(Number(e)||0));return Array(t)}openLevelUpPopup(){this.levelUpVisible=!0,this.targetLevel=this.characterData?.lvl??1,this.updateAvailableTraits()}closeLevelUpPopup(){this.levelUpVisible=!1}updateAvailableTraits(){if(!this.characterData?.traits)return;let e=this.characterData.lvl||1;this.filteredTraits=this.classTraits.filter(t=>t.lvl>e&&t.lvl<=this.targetLevel)}saveLevelUp(){if(!this.characterId)return;let t=this.characterData.abilities?.find(i=>i.name==="\xC1ll\xF3k\xE9pess\xE9g")?.modifier||0,r=this.targetLevel;r>this.lvl?r+this.lvl>=20?Wt(it(this.firestore,`character/${this.characterId}`),{lvl:20,hp:this.maxHp+(this.baseHp+t)*(20-this.lvl)}):Wt(it(this.firestore,`character/${this.characterId}`),{lvl:r,hp:this.maxHp+(this.baseHp+t)*(r-this.lvl)}):r+this.lvl<1?Wt(it(this.firestore,`character/${this.characterId}`),{lvl:1,hp:this.maxHp-(this.baseHp+t)*(this.lvl-1)}):Wt(it(this.firestore,`character/${this.characterId}`),{lvl:r,hp:this.maxHp-(this.baseHp+t)*(this.lvl-r)}),this.closeLevelUpPopup(),this.router.navigate(["/character-sheet",this.characterId])}static \u0275fac=function(t){return new(t||n)(xe(cn))};static \u0275cmp=_t({type:n,selectors:[["app-character-sheet"]],decls:3,vars:3,consts:[["noTraits",""],["noAction",""],["noEquipment",""],["noCheckbox",""],["cb",""],["sel",""],["noRaceTraits",""],["noClassTraits",""],["noBackgroundTraits",""],["noDmg",""],["dcValue",""],["class","character-sheet",4,"ngIf"],[1,"character-sheet"],["id","roll"],[1,"header-container"],[1,"name"],[1,"actions"],[3,"click"],["id","lvl_up",3,"click"],["class","popup-backdrop",4,"ngIf"],[1,"header"],[1,"armory"],["id","speed",1,"armory-contaner"],["id","kezdemenyezes",1,"armory-contaner"],["id","initiative",1,"skill-value-btn",3,"click"],["id","inspir\xE1cio",1,"armory-contaner"],["type","checkbox",1,"armory-contaner",3,"ngModelChange","change","ngModel"],["id","proficiency",1,"armory-contaner"],["id","armor",1,"armory-contaner"],[1,"hp"],["type","number","min","0",3,"ngModelChange","ngModel"],[1,"hp-controls"],["type","number","min","1",3,"ngModelChange","ngModel"],["id","sebzes",3,"click"],["id","gyogyitas",3,"click","disabled"],[1,"body"],[1,"stat"],[1,"stats-container"],["class","stats",4,"ngFor","ngForOf"],[1,"main_body"],[1,"main_body_left"],[1,"main_body_left_top"],[1,"main_body_left_mid"],[1,"main_body_left_bot"],[1,"number"],[1,"main_body_right"],[1,"character-navbar"],[3,"active","click",4,"ngFor","ngForOf"],[3,"active","click",4,"ngIf"],[1,"character-content"],[3,"ngSwitch"],["class","tab-content",4,"ngSwitchCase"],[1,"popup-backdrop"],[1,"popup-window"],[1,"close-btn",3,"click"],[1,"popup-header_lvl_up"],[1,"left-info"],[1,"right-info"],["for","levelInput"],["id","levelInput","type","number",3,"ngModelChange","change","ngModel","min","max"],[1,"popup-content"],[4,"ngIf","ngIfElse"],[1,"popup-footer"],[1,"save-btn",3,"click"],[4,"ngFor","ngForOf"],[1,"stats"],[1,"skills-list"],["class","skill-row",4,"ngIf"],[1,"skill-row"],[1,"skill-name"],[1,"skill-value-btn",3,"click","ngClass"],[1,"tab-content"],[1,"action"],["class","equipment",4,"ngIf","ngIfElse"],[1,"bonus_action"],[1,"equipment"],[1,"equipment-table"],[3,"mouseenter","mouseleave","mousemove",4,"ngFor","ngForOf"],["class","item-tooltip",3,"ngStyle",4,"ngIf"],[3,"mouseenter","mouseleave","mousemove"],["id","weapon_hit",1,"skill-value-btn",3,"click"],[4,"ngIf"],["class","skill-value-btn","id","weapon_dmg",3,"click",4,"ngFor","ngForOf"],["id","weapon_dmg",1,"skill-value-btn",3,"click"],[1,"item-tooltip",3,"ngStyle"],[1,"charge-boxes"],["type","checkbox",3,"change","checked"],["class","charge-slot",3,"filled","click",4,"ngFor","ngForOf"],[1,"charge-slot",3,"click"],["id","inventory_title"],[1,"popup-container"],["id","openInventoryBtn",3,"click"],["class","popup-overlay",4,"ngIf"],["id","inventory_top"],["id","maxinv"],[1,"currency-container"],[1,"currency-item","gold"],["type","number","min","0",3,"ngModelChange","change","ngModel"],[1,"currency-item","silver"],[1,"currency-item","copper"],[1,"popup-overlay"],[1,"popup-card"],["type","text","placeholder","Keres\xE9s...",1,"search-input",3,"ngModelChange","ngModel"],["class","item-section",4,"ngIf"],[1,"item-section"],[1,"add-item-btn",3,"click"],["type","number","min","1",1,"quantity-input",3,"ngModelChange","ngModel"],["class","container-block",4,"ngFor","ngForOf"],["type","number","min","-1",1,"quantity-input",3,"change","value"],[1,"container-select",3,"change"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"container-block"],["id","capacity"],[1,"small-btn",3,"click"],[1,"kinezet"],["id","backgroundDescription"],["class","trait-item",4,"ngFor","ngForOf"],[1,"trait-item"],["class","trait-item",4,"ngIf"],[1,"spell-header"],[1,"spell-btn",3,"click"],[1,"spell-stats-container"],[1,"spell-table"],[1,"spell-lists"],[1,"left"],[1,"spell-table2"],[1,"prepared-spells"],[1,"popup-header"],["type","text","placeholder","Keres\xE9s spellre...",1,"search-input",3,"ngModelChange","ngModel"],["class","spell-section",4,"ngFor","ngForOf"],[1,"spell-section"],[1,"action-buttons"],[1,"prepare-btn",3,"click","disabled"],[1,"details-btn",3,"click"],["colspan","3",1,"spell-details"],[1,"spell-info-box"],[1,"spell-details-table"],[1,"dmg-btn",3,"click"],[1,"dc-btn",3,"click"],["colspan","4",1,"no-spell"],[1,"spell-level-header"],["class","charge-boxes",4,"ngIf"]],template:function(t,r){t&1&&(be(0,"app-navbar"),Z(1,VY,146,38,"div",11),In(2,"async")),t&2&&(C(),W("ngIf",$0(2,1,r.character$)))},dependencies:[At,jA,Rn,Ht,HA,ex,$A,zA,fn,Sa,Da,$i,Yb,Wb,kr,Jb,Zb,fr,er,ji,f_,h_,p_],styles:['@charset "UTF-8";.character-sheet[_ngcontent-%COMP%]{max-width:80%;margin:65px auto 0;padding:2rem;font-family:Georgia,serif}.character-sheet[_ngcontent-%COMP%]   #roll[_ngcontent-%COMP%]{display:flex;position:fixed;top:110px;right:3%;max-width:300px;background-color:#f9f9f9;padding:1rem;border:2px solid #ccc;border-radius:12px;box-shadow:0 2px 5px #0000001a;text-align:center}.character-sheet[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{margin-bottom:1rem}.character-sheet[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:2.2rem}.character-sheet[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.25rem 0 0;font-size:1.1rem;color:#444}.character-sheet[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]{margin-top:2rem}.character-sheet[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:1rem}.character-sheet[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-bottom:.5rem;font-size:.8rem}.character-sheet[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{margin-right:.5rem}.character-sheet[_ngcontent-%COMP%]   .traits[_ngcontent-%COMP%]{margin-top:2rem}.character-sheet[_ngcontent-%COMP%]   .traits[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:.75rem}.character-sheet[_ngcontent-%COMP%]   .traits[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:1.5rem}.character-sheet[_ngcontent-%COMP%]   .traits[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:.4rem;font-size:1.05rem}.character-sheet[_ngcontent-%COMP%]   .stats-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:5px;justify-items:center;margin-top:10px}.character-sheet[_ngcontent-%COMP%]   .stats-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.8em;margin-top:3%;margin-bottom:3%}.character-sheet[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]{width:100%;max-width:140px;border:1px solid #ccc;border-radius:12px;text-align:center;padding:12px;box-sizing:border-box;background:#fafafa;box-shadow:0 2px 6px #0000001a;display:flex;flex-direction:column;align-items:center}.character-sheet[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:1.1rem;display:block;margin-bottom:4px}.character-sheet[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.6rem;margin:4px 0 8px}.character-sheet[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   .skills-list[_ngcontent-%COMP%]{margin-top:0;padding-top:15px;border-top:1px solid #ddd;display:flex;flex-wrap:wrap;gap:6px;justify-content:center}.character-sheet[_ngcontent-%COMP%]   .skill-row[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;font-size:.75rem}.character-sheet[_ngcontent-%COMP%]   .skill-name[_ngcontent-%COMP%]{font-size:.75rem;color:#444;margin-bottom:2px}.character-sheet[_ngcontent-%COMP%]   .skill-value-btn[_ngcontent-%COMP%]{padding:2px 6px;border:none;border-radius:6px;font-weight:600;font-size:.8rem;min-width:28px;text-align:center;cursor:pointer}.character-sheet[_ngcontent-%COMP%]   .skill-value-btn.positive[_ngcontent-%COMP%]{background-color:#d1fae5;color:#065f46}.character-sheet[_ngcontent-%COMP%]   .skill-value-btn.negative[_ngcontent-%COMP%]{background-color:#fee2e2;color:#991b1b}.character-sheet[_ngcontent-%COMP%]   .skill-value-btn[_ngcontent-%COMP%]:not(.positive):not(.negative){background-color:#e5e7eb;color:#333}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;flex-wrap:wrap;gap:1rem;padding:1rem;border-bottom:2px solid #ddd}.header[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{flex:1}.header[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:2rem}.header[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.5rem 0 0;font-size:1.1rem;color:#555}.header[_ngcontent-%COMP%]   .hp[_ngcontent-%COMP%]{flex-shrink:0;max-width:300px;background-color:#f9f9f9;padding:1rem;border:2px solid #ccc;border-radius:12px;box-shadow:0 2px 5px #0000001a}.header[_ngcontent-%COMP%]   .hp[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 1rem;font-size:1rem}.header[_ngcontent-%COMP%]   .hp[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]{width:70px;margin-left:.5rem}.header[_ngcontent-%COMP%]   .hp[_ngcontent-%COMP%]   .hp-controls[_ngcontent-%COMP%]{display:flex;gap:.5rem;flex-wrap:wrap}.header[_ngcontent-%COMP%]   .hp[_ngcontent-%COMP%]   .hp-controls[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]{width:80px}.header[_ngcontent-%COMP%]   .hp[_ngcontent-%COMP%]   .hp-controls[_ngcontent-%COMP%]   #sebzes[_ngcontent-%COMP%]{padding:6px 12px;font-size:.9rem;border-radius:6px;border:none;cursor:pointer;background-color:#a90000;color:#fff}.header[_ngcontent-%COMP%]   .hp[_ngcontent-%COMP%]   .hp-controls[_ngcontent-%COMP%]   #sebzes[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#980000}.header[_ngcontent-%COMP%]   .hp[_ngcontent-%COMP%]   .hp-controls[_ngcontent-%COMP%]   #sebzes[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}.header[_ngcontent-%COMP%]   .hp[_ngcontent-%COMP%]   .hp-controls[_ngcontent-%COMP%]   #gyogyitas[_ngcontent-%COMP%]{padding:6px 12px;font-size:.9rem;border-radius:6px;border:none;cursor:pointer;background-color:#3ea900;color:#fff}.header[_ngcontent-%COMP%]   .hp[_ngcontent-%COMP%]   .hp-controls[_ngcontent-%COMP%]   #gyogyitas[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#179800}.header[_ngcontent-%COMP%]   .hp[_ngcontent-%COMP%]   .hp-controls[_ngcontent-%COMP%]   #gyogyitas[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}.header[_ngcontent-%COMP%]   .armory[_ngcontent-%COMP%]{border:2px solid #ccc;border-radius:12px;box-shadow:0 2px 5px #0000001a;display:flex;justify-content:space-between;align-items:flex-start;flex-wrap:wrap;gap:1rem;padding:1rem}.header[_ngcontent-%COMP%]   .armory[_ngcontent-%COMP%]   .armory-contaner[_ngcontent-%COMP%]{padding:1rem;text-align:center;border:2px solid #ccc;border-radius:6px;border-color:#7800004d;box-shadow:0 2px 5px #ff00001a}.main_body[_ngcontent-%COMP%]{border:2px solid #ccc;border-radius:12px;box-shadow:0 2px 5px #0000001a;display:flex;justify-content:space-between;align-items:flex-start;flex-wrap:wrap;gap:1rem;padding:1rem}.main_body[_ngcontent-%COMP%]   .main_body_left[_ngcontent-%COMP%]{min-width:20%;max-width:24%;padding:1rem}.main_body[_ngcontent-%COMP%]   .main_body_left[_ngcontent-%COMP%]   .main_body_left_top[_ngcontent-%COMP%]{margin-bottom:5px;text-align:center;border:2px solid #ccc;border-radius:12px;box-shadow:0 2px 5px #0000001a}.main_body[_ngcontent-%COMP%]   .main_body_left[_ngcontent-%COMP%]   .main_body_left_top[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:95%}.main_body[_ngcontent-%COMP%]   .main_body_left[_ngcontent-%COMP%]   .main_body_left_mid[_ngcontent-%COMP%]{margin-bottom:5px;padding-bottom:5px;text-align:center;border:2px solid #ccc;border-radius:12px;box-shadow:0 2px 5px #0000001a}.main_body[_ngcontent-%COMP%]   .main_body_left[_ngcontent-%COMP%]   .main_body_left_mid[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{margin:0 auto;width:100%}.main_body[_ngcontent-%COMP%]   .main_body_left[_ngcontent-%COMP%]   .main_body_left_bot[_ngcontent-%COMP%]{margin-bottom:5px;text-align:center;border:2px solid #ccc;border-radius:12px;box-shadow:0 2px 5px #0000001a}.main_body[_ngcontent-%COMP%]   .main_body_left[_ngcontent-%COMP%]   .main_body_left_bot[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{margin:0 auto;width:100%}.main_body[_ngcontent-%COMP%]   .main_body_left[_ngcontent-%COMP%]   .main_body_left_bot[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .number[_ngcontent-%COMP%]{width:20%;text-align:center}.main_body[_ngcontent-%COMP%]   .main_body_right[_ngcontent-%COMP%]{min-width:70%;max-width:70%;border:2px solid #ccc;border-radius:12px;box-shadow:0 2px 5px #0000001a}.character-container[_ngcontent-%COMP%]{width:100%;max-width:900px;margin:auto;background:#f8f9fa;border:2px solid #d0d0d0;border-radius:8px;box-shadow:0 2px 8px #0000001a}.character-navbar[_ngcontent-%COMP%]{display:flex;justify-content:space-around;background:#ececec;border-bottom:2px solid #ccc;padding:.5rem}.character-navbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;border:none;padding:.6rem 1rem;font-weight:700;cursor:pointer;color:#555;border-radius:6px;transition:.2s}.character-navbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#ddd}.character-navbar[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background:red;color:#fff}.character-content[_ngcontent-%COMP%]{max-height:550px;overflow-y:auto;padding:10px;border:1px solid #ccc;background-color:#f9f9f9}.tab-content[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-in-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}#inventory_title[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:100%;padding:.5rem 1rem;box-sizing:border-box;position:relative}.popup-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#0009;display:flex;justify-content:center;align-items:center;z-index:9999;animation:_ngcontent-%COMP%_fadeIn .2s ease-out}.popup-card[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:#1e1e1e;color:#fff;border-radius:12px;padding:20px;min-width:600px;max-width:1200px;max-height:80vh;overflow-y:auto;display:flex;flex-direction:column;gap:1rem;box-shadow:0 8px 20px #00000080;animation:_ngcontent-%COMP%_popIn .2s ease-out}.close-btn[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;background:#333;color:#fff;border:none;cursor:pointer;font-size:1.2rem;border-radius:5px}.close-btn[_ngcontent-%COMP%]:hover{color:#ff4d4d;transform:scale(1.1)}.popup-header[_ngcontent-%COMP%]{margin-top:5px;display:flex;justify-content:space-between;align-items:center}.popup-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0}.popup-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#f55;border:none;color:#fff;padding:6px 12px;border-radius:6px;cursor:pointer;font-weight:700;transition:background .2s}.popup-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#f22}.search-input[_ngcontent-%COMP%]{width:100%;padding:6px 10px;border-radius:6px;border:1px solid #555;background-color:#2a2a2a;color:#fff;margin-top:10px;box-sizing:border-box}.item-section[_ngcontent-%COMP%]{margin-top:10px}.item-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:6px;border-bottom:1px solid #555;padding-bottom:4px;color:gold}.item-section[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:6px 10px;border-bottom:1px solid #333}.item-section[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex:1}.quantity-input[_ngcontent-%COMP%]{width:60px;padding:4px;border-radius:4px;border:1px solid #555;background-color:#2a2a2a;color:#fff;text-align:center;font-size:.95rem}.add-item-btn[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;border:none;padding:6px 14px;border-radius:6px;cursor:pointer;font-weight:600;font-size:.95rem;transition:all .2s}.add-item-btn[_ngcontent-%COMP%]:hover{background-color:#45a049;transform:scale(1.05)}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_popIn{0%{opacity:0;transform:scale(.9)}to{opacity:1;transform:scale(1)}}#openInventoryBtn[_ngcontent-%COMP%]{margin-left:10px;background-color:#4caf50;color:#fff;border:none;padding:6px 14px;border-radius:6px;cursor:pointer;font-weight:600;font-size:.95rem;transition:all .2s}#openInventoryBtn[_ngcontent-%COMP%]:hover{background-color:#45a049;transform:scale(1.05)}#inventory_top[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:100%;padding:.5rem 1rem;box-sizing:border-box}#inventory_top[_ngcontent-%COMP%]   #maxinv[_ngcontent-%COMP%]{width:auto}#capacity[_ngcontent-%COMP%]{margin-left:5px}.kinezet[_ngcontent-%COMP%]{width:100%}.kinezet[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding-left:1%;padding-right:1%}#backgroundDescription[_ngcontent-%COMP%]{margin-left:2%;margin-right:2%}.equipment-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-top:10px;font-size:14px}.equipment-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .equipment-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:6px 8px;border-bottom:1px solid #ccc;text-align:left}.equipment-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#f8f8f8;font-weight:700}.equipment-table[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%]{font-weight:600}.equipment-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f0f0f0}.equipment-table[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{transform:scale(1.1);cursor:pointer}.item-tooltip[_ngcontent-%COMP%]{position:fixed;background:#14141ef2;color:#fff;border-radius:8px;padding:10px 14px;max-width:250px;box-shadow:0 4px 12px #0006;pointer-events:none;z-index:9999;transition:opacity .2s ease;font-size:.9rem}.item-tooltip[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 4px;font-size:1rem;font-weight:600}.item-tooltip[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.85rem;color:#ccc}.small-btn[_ngcontent-%COMP%]{background-color:#2b6cb0;color:#fff;border:none;padding:2px 6px;border-radius:4px;cursor:pointer;font-size:.8rem}.small-btn[_ngcontent-%COMP%]:hover{background-color:#2c5282}.container-select[_ngcontent-%COMP%]{margin-top:4px;width:100%;padding:2px;border-radius:4px;background-color:#1a202c;color:#fff}.currency-container[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;align-items:center;margin:10px 0;gap:.5rem;flex-wrap:wrap}.currency-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.4rem;padding:5px 8px;border-radius:6px;background-color:#1f1f1f;font-size:.9rem;color:#000;border:1px solid transparent;min-width:140px;justify-content:space-between}.currency-item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.85rem}.currency-item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:55px;padding:2px 4px;border-radius:4px;border:1px solid #555;background-color:#2a2a2a;color:#fff;text-align:center;font-size:.85rem}.currency-item[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:1rem}.currency-item.gold[_ngcontent-%COMP%]{background-color:#d4af37;border-color:#d4af37;box-shadow:0 0 4px #d4af3740}.currency-item.silver[_ngcontent-%COMP%]{background-color:silver;border-color:silver;box-shadow:0 0 4px #c0c0c040}.currency-item.copper[_ngcontent-%COMP%]{background-color:#b87333;border-color:#b87333;box-shadow:0 0 4px #b8733340}.header-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:15px}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px 14px;border:none;border-radius:6px;font-weight:600;cursor:pointer;background:#3b3b98;color:#fff;transition:.2s;margin:2px}#lvl_up[_ngcontent-%COMP%]{background-color:#179800}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#2a2a70}.charge-boxes[_ngcontent-%COMP%]{display:flex;gap:6px;margin-bottom:10px}.charge-slot[_ngcontent-%COMP%]{width:18px;height:18px;border-radius:4px;border:2px solid #555;background:#dcdcdc;cursor:pointer;transition:.2s ease;box-shadow:inset 0 0 2px #0006}.charge-slot[_ngcontent-%COMP%]:hover{transform:scale(1.15);border-color:#888}.charge-slot.filled[_ngcontent-%COMP%]{background:#ffd860;border-color:#555;box-shadow:0 0 4px #ffdc64b3}.charge-slot.filled[_ngcontent-%COMP%]:hover{background:#ffe48b}.spell-stats-container[_ngcontent-%COMP%]{width:100%;text-align:center;margin-top:10px}.spell-table[_ngcontent-%COMP%]{margin:0 auto;border-collapse:collapse;width:60%}.spell-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .spell-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:center;padding:8px;width:33%}.spell-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .spell-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:none}.spell-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.spell-btn[_ngcontent-%COMP%]{padding:8px 15px;background:#4a148c;color:#fff;border:none;border-radius:6px;cursor:pointer;font-size:14px}.spell-btn[_ngcontent-%COMP%]:hover{background:#6a1b9a}.popup-backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;background:#0009;display:flex;justify-content:center;align-items:center;z-index:9999}.popup-window[_ngcontent-%COMP%]{position:relative;background:#222;padding:20px;border-radius:10px;width:600px;max-height:80vh;overflow-y:auto;border:1px solid #555;color:#fff}.close-btn[_ngcontent-%COMP%]{position:absolute;top:8px;right:8px;background:#900;color:#fff;border:none;padding:6px 10px;font-size:14px;cursor:pointer;border-radius:6px}.close-btn[_ngcontent-%COMP%]:hover{background:#b00}.popup-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.search-box[_ngcontent-%COMP%]{width:100%;padding:6px;margin:10px 0}.spell-table[_ngcontent-%COMP%]{width:100%;margin-bottom:10px}.spell-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:6px}.spell-details-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-bottom:10px}.spell-details-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:4px 6px;vertical-align:top;text-align:left}.spell-details-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{font-weight:700;color:#ffc107;width:35%}.spell-info-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:justify}.prepare-btn[_ngcontent-%COMP%], .details-btn[_ngcontent-%COMP%]{padding:.4rem .8rem;border:none;border-radius:8px;font-size:.9rem;font-weight:500;cursor:pointer;color:#fff;transition:background-color .2s ease,transform .1s ease}.prepare-btn[_ngcontent-%COMP%]:active, .details-btn[_ngcontent-%COMP%]:active{transform:scale(.97)}.prepare-btn[_ngcontent-%COMP%]:disabled, .details-btn[_ngcontent-%COMP%]:disabled{background-color:#b0b0b0;cursor:not-allowed}.prepare-btn[_ngcontent-%COMP%]{background-color:#10b981}.prepare-btn[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#059669}.prepare-btn.remove[_ngcontent-%COMP%]{background-color:#ef4444}.prepare-btn.remove[_ngcontent-%COMP%]:hover{background-color:#dc2626}.details-btn[_ngcontent-%COMP%]{background-color:#3b82f6}.details-btn[_ngcontent-%COMP%]:hover{background-color:#2563eb}.spell-lists[_ngcontent-%COMP%]{margin-top:1rem}.spell-lists[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.3rem;margin-bottom:.4rem;color:#1f2937}.spell-lists[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:1rem;font-size:1.1rem}.spell-table2[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-bottom:.5rem;font-size:.95rem}.spell-table2[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#e5e7eb;text-align:left;padding:.5rem}.spell-table2[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom:1px solid #d1d5db;padding:.4rem .6rem;text-align:left}.spell-table2[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover   td[_ngcontent-%COMP%]{background:#f9fafb}.spell-table2[_ngcontent-%COMP%]   .no-spell[_ngcontent-%COMP%]{text-align:center;color:#6b7280;font-style:italic}.left[_ngcontent-%COMP%]{text-align:left}.dmg-btn[_ngcontent-%COMP%]{background-color:#673ab7;color:#fff;border:none;border-radius:6px;padding:4px 10px;font-size:14px;cursor:pointer;transition:background .2s ease}.dmg-btn[_ngcontent-%COMP%]:hover{background-color:#5e35b1}.spell-level-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:.5rem}.charge-boxes[_ngcontent-%COMP%]{display:flex;gap:6px}.charge-slot[_ngcontent-%COMP%]{width:20px;height:20px;border:2px solid #666;border-radius:4px;cursor:pointer;background:transparent;transition:background .2s,border-color .2s}.charge-slot.filled[_ngcontent-%COMP%]{background:#4caf50;border-color:#2e7d32}.charge-slot[_ngcontent-%COMP%]:hover{transform:scale(1.1);border-color:#00897b}.popup-backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;background:#0009;display:flex;justify-content:center;align-items:center;z-index:2000}.popup-window[_ngcontent-%COMP%]{background:#222;color:#fff;border-radius:1rem;padding:1.5rem;width:500px;max-height:80vh;overflow-y:auto;position:relative;box-shadow:0 0 20px #000c}.popup-header_lvl_up[_ngcontent-%COMP%]{margin-top:30px;display:flex;justify-content:space-between;align-items:flex-start;border-bottom:1px solid #444;padding-bottom:.5rem}.popup-header_lvl_up[_ngcontent-%COMP%]   .left-info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.3rem}.popup-header_lvl_up[_ngcontent-%COMP%]   .right-info[_ngcontent-%COMP%]{text-align:right}.popup-header_lvl_up[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:70px;text-align:center;padding:.2rem}.popup-content[_ngcontent-%COMP%]{margin-top:1rem}.popup-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0}.popup-content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background:#333;border-radius:.5rem;padding:.5rem;margin-bottom:.5rem}.popup-footer[_ngcontent-%COMP%]{text-align:center;margin-top:1rem}.save-btn[_ngcontent-%COMP%]{background:#4caf50;color:#fff;border:none;padding:.5rem 1.5rem;border-radius:.5rem;cursor:pointer}.close-btn[_ngcontent-%COMP%]{position:absolute;top:.5rem;right:.5rem;background:none;border:none;color:#fff;font-size:1.3rem;cursor:pointer}#initiative[_ngcontent-%COMP%]{background-color:#ff3c3c;color:#f7ef8a}#weapon_hit[_ngcontent-%COMP%]{background-color:#6998ff}#weapon_dmg[_ngcontent-%COMP%]{background-color:#ff3c3c;margin-left:2px}']})};var Ar=class n{constructor(e){this.firestore=e}raceBonusTrigger$=new mn;updateEquipmentListTrigger$=new mn;router=ue(cn);userId=null;gold=0;lvl=1;class="";traits=[];race="";backstory="";abilities=[];abiliti=[];armor=[];weapon=[];save=[];skill=[];tools=[];language=[];skilli=0;toolsi=0;hp=0;mage=!1;spell_mod="";bgEquipment=[];equipmentSummary=[];appearance=Mn({name:"",age:null,gender:"",height:null,weight:null,eyeColor:"",hairColor:"",skinTone:""});equipment=Mn([]);equipmentMode=Mn("point");setUserId(e){this.userId=e}getUserId(){return this.userId}loadTraitsAll(){return B(this,null,function*(){try{this.traits=[];let e=[{type:"background",id:this.backstory},{type:"race",id:this.race},{type:"class",id:this.class}];for(let{type:t,id:r}of e){if(!r)continue;let i=it(this.firestore,t,r),s=yield qr(i);if(!s.exists())continue;let a=s.data()?.name;if(!a)continue;let c=an(this.firestore,"traits"),u=(yield Gr(c)).docs.map(f=>f.data()).filter(f=>(f.uses||"").split(",").map(p=>p.trim()).some(p=>a.includes(p))).map(f=>({name:f.title,uses:f.uses}));this.traits=[...this.traits,...u]}}catch{}})}extractEquipmentSummary(){return this.equipment().map(t=>{let r=t.selected.trim().split(" "),i=r[0],s=r.slice(1).join(" "),o=!isNaN(Number(i)),a=o?Number(i):1,c=o?s:t.selected;return{db:a,name:c}})}addBgEquipmentToSummary(){for(let e of this.bgEquipment)if(e.name==="arany")this.gold=e.db;else{let t=this.equipmentSummary.find(r=>r.name===e.name);t?t.db+=e.db:this.equipmentSummary.push({db:e.db,name:e.name})}}setClass(e){this.class=e}setHp(e){this.hp=e}calculateHp(){return B(this,null,function*(){let t=this.abilities?.find(r=>r.name==="\xC1ll\xF3k\xE9pess\xE9g")?.modifier||0;this.hp=(this.hp+t)*this.lvl})}setRace(e){this.race=e}setBgEquipment(e){this.bgEquipment=e.map(t=>({db:t.db,name:t.name})),this.updateEquipmentListTrigger$.next()}getBgEquipment(){return this.bgEquipment}setSkill(e){this.skill=e}setTools(e){this.tools=e}setBackstory(e){this.backstory=e}setAbilities(e){this.abilities=e}setRaceAbilities(e){this.abiliti=e,this.raceBonusTrigger$.next()}getRaceAbilities(){return this.abiliti}setAppearance(e){this.appearance.set(e)}setEquipment(e){this.equipment.set(e)}setLvl(e){this.lvl=e}setArmor(e){this.armor=e}setWeapon(e){this.weapon=e}setSave(e){this.save=e}setMage(e,t){this.mage=e,e&&(this.spell_mod=t)}setLanguage(e){this.language=e}dataUpLoad(){return B(this,null,function*(){yield this.loadTraitsAll(),yield this.calculateHp(),this.equipmentSummary=this.extractEquipmentSummary(),this.addBgEquipmentToSummary();let e={userId:this.userId,lvl:this.lvl,class:this.class,traits:this.traits,race:this.race,backstory:this.backstory,abilities:this.abilities,appearance:this.appearance(),equipment:this.equipmentSummary,gold:this.gold,tools:this.tools,skill:this.skill,weapon:this.weapon,armor:this.armor,save:this.save,hp:this.hp,mage:this.mage,spell_mod:this.spell_mod,language:this.language},t=an(this.firestore,"character");bu(t,e),this.router.navigate(["/characters"])})}static \u0275fac=function(t){return new(t||n)(Ze(Wn))};static \u0275prov=Ve({token:n,factory:n.\u0275fac,providedIn:"root"})};function BY(n,e){n&1&&(qe(0),_(1,"em"),E(2,"Nincs eszk\xF6zj\xE1rtass\xE1g"),g(),Ge())}function UY(n,e){if(n&1&&(_(0,"div"),E(1),g()),n&2){let t=e.$implicit,r=D(4).$implicit,i=D(2);C(),_n(" - ",t," ",i.defaultTool(r.id,t)," ")}}function jY(n,e){if(n&1&&(qe(0),Z(1,UY,2,2,"div",7),In(2,"slice"),Ge()),n&2){let t=D(3).$implicit;C(),W("ngForOf",Cr(2,1,t.tools,1))}}function $Y(n,e){if(n&1&&(_(0,"option",19),E(1),g()),n&2){let t=e.$implicit;W("ngValue",t),C(),ge(" ",t," ")}}function HY(n,e){if(n&1){let t=De();_(0,"div")(1,"select",16),ae("ngModelChange",function(i){let s=re(t).index,o=D(5).$implicit,a=D(2);return ie(a.onSelectTool(o.id,s,i))}),_(2,"option",17),E(3,"-- V\xE1lassz egyet --"),g(),Z(4,$Y,2,2,"option",18),g()()}if(n&2){let t=e.index,r=D(5).$implicit,i=D(2);C(),W("ngModel",i.selectedTools[r.id][t]),C(),W("ngValue",null),C(2),W("ngForOf",i.getToolOptions(r,r.id,t))}}function zY(n,e){if(n&1&&(_(0,"div"),Z(1,HY,5,3,"div",7),g()),n&2){let t=D(4).$implicit,r=D(2);C(),W("ngForOf",r.selectedTools[t.id])}}function WY(n,e){if(n&1&&Z(0,zY,2,1,"div",14),n&2){let t=D(3).$implicit,r=D(2);W("ngIf",r.initToolSelection(t))}}function qY(n,e){if(n&1&&(qe(0),Z(1,jY,3,4,"ng-container",15)(2,WY,1,1,"ng-template",null,0,un),Ge()),n&2){let t=Lt(3),r=D(2).$implicit;C(),W("ngIf",r.tools[0]==0)("ngIfElse",t)}}function GY(n,e){n&1&&(qe(0),_(1,"em"),E(2,"Nincs k\xE9szs\xE9g"),g(),Ge())}function KY(n,e){if(n&1&&(_(0,"div"),E(1),g()),n&2){let t=e.$implicit,r=D(4).$implicit,i=D(2);C(),_n(" - ",t," ",i.defaultSkill(r.id,t)," ")}}function XY(n,e){if(n&1&&(qe(0),Z(1,KY,2,2,"div",7),In(2,"slice"),Ge()),n&2){let t=D(3).$implicit;C(),W("ngForOf",Cr(2,1,t.skills,1))}}function YY(n,e){if(n&1&&(_(0,"option",19),E(1),g()),n&2){let t=e.$implicit;W("ngValue",t),C(),ge(" ",t," ")}}function QY(n,e){if(n&1){let t=De();_(0,"div")(1,"select",16),ae("ngModelChange",function(i){let s=re(t).index,o=D(5).$implicit,a=D(2);return ie(a.onSelectSkill(o.id,s,i))}),_(2,"option",17),E(3,"-- V\xE1lassz egyet --"),g(),Z(4,YY,2,2,"option",18),g()()}if(n&2){let t=e.index,r=D(5).$implicit,i=D(2);C(),W("ngModel",i.selectedSkills[r.id][t]),C(),W("ngValue",null),C(2),W("ngForOf",i.getSkillOptions(r,r.id,t))}}function ZY(n,e){if(n&1&&(_(0,"div"),Z(1,QY,5,3,"div",7),g()),n&2){let t=D(4).$implicit,r=D(2);C(),W("ngForOf",r.selectedSkills[t.id])}}function JY(n,e){if(n&1&&Z(0,ZY,2,1,"div",14),n&2){let t=D(3).$implicit,r=D(2);W("ngIf",r.initSkillSelection(t))}}function eQ(n,e){if(n&1&&(qe(0),Z(1,XY,3,4,"ng-container",15)(2,JY,1,1,"ng-template",null,1,un),Ge()),n&2){let t=Lt(3),r=D(2).$implicit;C(),W("ngIf",r.skills[0]==0)("ngIfElse",t)}}function tQ(n,e){if(n&1&&(_(0,"div")(1,"p")(2,"strong"),E(3),g(),be(4,"br"),E(5),g()()),n&2){let t=e.$implicit;C(3),ge("",t.title,":"),C(2),pe(t.description)}}function nQ(n,e){if(n&1&&(_(0,"div")(1,"p")(2,"strong",20),E(3),g()(),Z(4,tQ,6,2,"div",7),g()),n&2){let t=D().$implicit;C(3),ge("Szint: ",t.level,""),C(),W("ngForOf",t.traits)}}function rQ(n,e){if(n&1&&(qe(0),Z(1,nQ,5,2,"div",14),Ge()),n&2){let t=e.$implicit,r=D(4);C(),W("ngIf",t.level<=r.lvl)}}function iQ(n,e){if(n&1){let t=De();_(0,"div",10)(1,"button",11),ae("click",function(){re(t);let i=D().$implicit,s=D(2);return ie(s.kivalaszt(i.id,i.armors,i.weapons,i.saves,i.mage,i.spell_mod))}),E(2),g(),_(3,"strong",12),E(4,"Szint: "),g(),_(5,"input",13),ae("input",function(i){re(t);let s=D(3);return ie(s.updatelvl(i))}),g(),_(6,"p")(7,"strong"),E(8,"Le\xEDr\xE1s:"),g(),be(9,"br"),E(10),g(),_(11,"p")(12,"strong"),E(13,"HP:"),g(),be(14,"br"),E(15),g(),_(16,"p")(17,"strong"),E(18,"Eszk\xF6zj\xE1rtass\xE1g:"),g(),be(19,"br"),Z(20,BY,3,0,"ng-container",14)(21,qY,4,2,"ng-container",14),g(),_(22,"p")(23,"strong"),E(24,"K\xE9szs\xE9gek:"),g(),be(25,"br"),Z(26,GY,3,0,"ng-container",14)(27,eQ,4,2,"ng-container",14),g(),_(28,"p")(29,"strong"),E(30,"Ment\u0151dob\xE1sok:"),g(),be(31,"br"),E(32),g(),be(33,"p"),_(34,"p")(35,"strong"),E(36,"P\xE1nc\xE9lok:"),g(),be(37,"br"),E(38),g(),be(39,"p"),_(40,"p")(41,"strong"),E(42,"Fegyverek:"),g(),be(43,"br"),E(44),g(),_(45,"p"),Z(46,rQ,2,1,"ng-container",7),g()()}if(n&2){let t=D().$implicit,r=D(2);C(2),ge(" ",r.classId===t.id?"Kiv\xE1lasztva":"Kiv\xE1laszt\xE1s"," "),C(3),W("min",1)("max",20),C(5),ge(" ",t.description," "),C(5),_n(" ",t.hp,"",r.setHpRace(t.hp)," "),C(5),W("ngIf",(t.tools==null?null:t.tools.length)===0),C(),W("ngIf",(t.tools==null?null:t.tools.length)>0),C(5),W("ngIf",(t.skills==null?null:t.skills.length)===0),C(),W("ngIf",(t.skills==null?null:t.skills.length)>0),C(5),ge(" ",t.saves_des," "),C(6),ge(" ",t.armors_des," "),C(6),ge(" ",t.weapons_des," "),C(2),W("ngForOf",r.groupedTraits(t.name))}}function sQ(n,e){if(n&1){let t=De();_(0,"div")(1,"div",8)(2,"div",3)(3,"h3"),E(4),g(),_(5,"button",4),ae("click",function(){let i=re(t).$implicit,s=D(2);return ie(s.toggleClassDetails(i.id))}),E(6),g()(),Z(7,iQ,47,14,"div",9),g()()}if(n&2){let t=e.$implicit,r=D(2);C(4),pe(t.name),C(2),ge(" ",r.expandedClassId===t.id?"Bez\xE1r\xE1s":"B\u0151v\xEDt\xE9s"," "),C(),W("ngIf",r.expandedClassId===t.id)}}function oQ(n,e){if(n&1&&(_(0,"div",6),Z(1,sQ,8,3,"div",7),g()),n&2){let t=D();C(),W("ngForOf",t.children)}}var dh=class n{constructor(e){this.createService=e}dataService=ue(Us);title;children=[];traits=[];expanded=!1;expandedClassId=null;selectedTools={};defaultTools={};selectedSkills={};defaultSkills={};classId="";lvl=1;hp=0;ngOnInit(){this.dataService.getClass().subscribe(e=>{this.children=e}),this.dataService.getTraits().subscribe(e=>{this.traits=e})}toggleExpand(){this.expanded=!this.expanded}toggleClassDetails(e){this.expandedClassId===e?this.expandedClassId=null:this.expandedClassId=e}groupedTraits(e){let t=this.traits.filter(i=>e.includes(i.uses)),r={};return t.forEach(i=>{r[i.lvl]||(r[i.lvl]=[]),r[i.lvl].push(i)}),Object.entries(r).map(([i,s])=>({level:+i,traits:s})).sort((i,s)=>i.level-s.level)}initToolSelection(e){if(!this.selectedTools[e.id]){let t=e.tools[0];this.selectedTools[e.id]=Array(t).fill(null)}return!0}onSelectTool(e,t,r){this.selectedTools[e][t]=r}defaultTool(e,t){typeof t=="string"&&(this.defaultTools[e]||(this.defaultTools[e]=[]),this.defaultTools[e].includes(t)||(this.defaultTools[e].push(t),this.selectedTools=this.defaultTools))}getToolOptions(e,t,r){let i=e.tools.slice(1),s=this.selectedTools[t].filter((o,a)=>o!==null&&a!==r);return i.filter(o=>!s.includes(o))}initSkillSelection(e){if(!this.selectedSkills[e.id]){let t=e.skills[0];this.selectedSkills[e.id]=Array(t).fill(null)}return!0}onSelectSkill(e,t,r){this.selectedSkills[e][t]=r}defaultSkill(e,t){typeof t=="string"&&(this.defaultSkills[e]||(this.defaultSkills[e]=[]),this.defaultSkills[e].includes(t)||(this.defaultSkills[e].push(t),this.selectedSkills=this.defaultSkills))}getSkillOptions(e,t,r){let i=e.skills.slice(1),s=this.selectedSkills[t].filter((o,a)=>o!==null&&a!==r);return i.filter(o=>!s.includes(o))}setHpRace(e){this.hp=e}loadSkill(){return this.selectedSkills}loadTools(){return this.selectedTools}kivalaszt(e,t,r,i,s,o){this.classId=e,this.createService.setClass(e),this.createService.setHp(this.hp),this.createService.setArmor(t),this.createService.setSave(i),this.createService.setWeapon(r),this.createService.setMage(s,o)}updatelvl(e){let t=e.target,r=Number(t.value);this.lvl=r,this.createService.setLvl(r)}static \u0275fac=function(t){return new(t||n)(xe(Ar))};static \u0275cmp=_t({type:n,selectors:[["app-expanded-class"]],inputs:{title:"title"},decls:7,vars:2,consts:[["selectTools",""],["selectSkills",""],[1,"expandable-card"],[1,"card-header"],[1,"expand-btn",3,"click"],["class","class-list",4,"ngIf"],[1,"class-list"],[4,"ngFor","ngForOf"],[1,"class-item"],["class","class-details",4,"ngIf"],[1,"class-details"],[1,"kivalaszt",3,"click"],["for","numberSelect"],["type","number","id","level","value","1",3,"input","min","max"],[4,"ngIf"],[4,"ngIf","ngIfElse"],[3,"ngModelChange","ngModel"],["disabled","",3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"],[1,"lvl"]],template:function(t,r){t&1&&(_(0,"div",2)(1,"div",3)(2,"h2"),E(3,"Kasztok"),g(),_(4,"button",4),ae("click",function(){return r.toggleExpand()}),E(5),g()(),Z(6,oQ,2,1,"div",5),g()),t&2&&(C(5),ge(" ",r.expanded?"Bez\xE1r\xE1s":"B\u0151v\xEDt\xE9s"," "),C(),W("ngIf",r.expanded))},dependencies:[At,Rn,Ht,jl,fn,Sa,Da,Ta,kr,fr],styles:[".expandable-card[_ngcontent-%COMP%]{border:2px solid #ddd;border-radius:8px;padding:20px;width:90%;min-width:200px;margin:30px auto}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{font-family:Merienda}.card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding-left:10px;padding-right:10px}h2[_ngcontent-%COMP%]{font-size:30px;color:#333;margin:0}.expand-btn[_ngcontent-%COMP%]{padding:10px 16px;background-color:#4caf50;color:#fff;border:none;border-radius:5px;cursor:pointer}.expand-btn[_ngcontent-%COMP%]:hover{background-color:#45a049}.class-list[_ngcontent-%COMP%]{margin-top:20px;background-color:#a3a3a3}.class-item[_ngcontent-%COMP%]{margin-bottom:15px}.class-details[_ngcontent-%COMP%]{margin-top:10px;padding:10px;background-color:#eee;border-radius:5px}.lvl[_ngcontent-%COMP%]{color:#640000;font-size:large}.kivalaszt[_ngcontent-%COMP%]{padding:10px 16px;background-color:#7c0f0f;color:#fff;border:none;border-radius:5px;cursor:pointer;float:right}.kivalaszt[_ngcontent-%COMP%]:hover{background-color:#daa520}strong[_ngcontent-%COMP%]{font-weight:600;font-size:1rem;color:#333;min-width:60px;font-size:large}input[type=number][_ngcontent-%COMP%]{width:80px;padding:.4rem;font-size:1rem;border:1px solid #ccc;border-radius:.5rem;transition:border-color .3s ease}input[type=number][_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}select[_ngcontent-%COMP%]{flex:2;padding:8px;font-size:15px;border-radius:5px;border:1px solid #aaa;min-width:200px;text-align:center;margin-bottom:5px;margin-top:2px;margin-left:5%}"]})};function aQ(n,e){n&1&&(qe(0),_(1,"em"),E(2,"Nincs eszk\xF6zj\xE1rtass\xE1g"),g(),Ge())}function cQ(n,e){if(n&1&&(_(0,"div"),E(1),g()),n&2){let t=e.$implicit,r=D(4).$implicit,i=D(2);C(),_n(" - ",t," ",i.defaultTool(r.id,t)," ")}}function lQ(n,e){if(n&1&&(qe(0),Z(1,cQ,2,2,"div",7),In(2,"slice"),Ge()),n&2){let t=D(3).$implicit;C(),W("ngForOf",Cr(2,1,t.tools,1))}}function uQ(n,e){if(n&1&&(_(0,"option",17),E(1),g()),n&2){let t=e.$implicit;W("ngValue",t),C(),ge(" ",t," ")}}function dQ(n,e){if(n&1){let t=De();_(0,"div")(1,"select",14),ae("ngModelChange",function(i){let s=re(t).index,o=D(5).$implicit,a=D(2);return ie(a.onSelectTool(o.id,s,i))}),_(2,"option",15),E(3,"-- V\xE1lassz egyet --"),g(),Z(4,uQ,2,2,"option",16),g()()}if(n&2){let t=e.index,r=D(5).$implicit,i=D(2);C(),W("ngModel",i.selectedTools[r.id][t]),C(),W("ngValue",null),C(2),W("ngForOf",i.getToolOptions(r,r.id,t))}}function fQ(n,e){if(n&1&&(_(0,"div"),Z(1,dQ,5,3,"div",7),g()),n&2){let t=D(4).$implicit,r=D(2);C(),W("ngForOf",r.selectedTools[t.id])}}function hQ(n,e){if(n&1&&Z(0,fQ,2,1,"div",12),n&2){let t=D(3).$implicit,r=D(2);W("ngIf",r.initToolSelection(t))}}function pQ(n,e){if(n&1&&(qe(0),Z(1,lQ,3,4,"ng-container",13)(2,hQ,1,1,"ng-template",null,0,un),Ge()),n&2){let t=Lt(3),r=D(2).$implicit;C(),W("ngIf",r.tools[0]==0)("ngIfElse",t)}}function mQ(n,e){n&1&&(qe(0),_(1,"em"),E(2,"Nincs k\xE9szs\xE9g"),g(),Ge())}function gQ(n,e){if(n&1&&(_(0,"div"),E(1),g()),n&2){let t=e.$implicit,r=D(4).$implicit,i=D(2);C(),_n(" - ",t," ",i.defaultSkill(r.id,t)," ")}}function _Q(n,e){if(n&1&&(qe(0),Z(1,gQ,2,2,"div",7),In(2,"slice"),Ge()),n&2){let t=D(3).$implicit;C(),W("ngForOf",Cr(2,1,t.skills,1))}}function vQ(n,e){if(n&1&&(_(0,"option",17),E(1),g()),n&2){let t=e.$implicit;W("ngValue",t),C(),ge(" ",t," ")}}function yQ(n,e){if(n&1){let t=De();_(0,"div")(1,"select",14),ae("ngModelChange",function(i){let s=re(t).index,o=D(5).$implicit,a=D(2);return ie(a.onSelectSkill(o.id,s,i))}),_(2,"option",15),E(3,"-- V\xE1lassz egyet --"),g(),Z(4,vQ,2,2,"option",16),g()()}if(n&2){let t=e.index,r=D(5).$implicit,i=D(2);C(),W("ngModel",i.selectedSkills[r.id][t]),C(),W("ngValue",null),C(2),W("ngForOf",i.getSkillOptions(r,r.id,t))}}function xQ(n,e){if(n&1&&(_(0,"div"),Z(1,yQ,5,3,"div",7),g()),n&2){let t=D(4).$implicit,r=D(2);C(),W("ngForOf",r.selectedSkills[t.id])}}function EQ(n,e){if(n&1&&Z(0,xQ,2,1,"div",12),n&2){let t=D(3).$implicit,r=D(2);W("ngIf",r.initSkillSelection(t))}}function wQ(n,e){if(n&1&&(qe(0),Z(1,_Q,3,4,"ng-container",13)(2,EQ,1,1,"ng-template",null,1,un),Ge()),n&2){let t=Lt(3),r=D(2).$implicit;C(),W("ngIf",r.skills[0]==0)("ngIfElse",t)}}function CQ(n,e){if(n&1&&(_(0,"div")(1,"p")(2,"strong"),E(3),g(),be(4,"br"),E(5),g()()),n&2){let t=e.$implicit;C(3),ge("",t.title,":"),C(2),pe(t.description)}}function bQ(n,e){if(n&1&&(qe(0),Z(1,CQ,6,2,"div",7),Ge()),n&2){let t=e.$implicit;C(),W("ngForOf",t.traits)}}function IQ(n,e){if(n&1){let t=De();_(0,"div",10)(1,"button",11),ae("click",function(){re(t);let i=D().$implicit,s=D(2);return ie(s.abilitiLoad(i.ability_score))})("click",function(){re(t);let i=D().$implicit,s=D(2);return ie(s.kivalaszt(i.id))}),E(2),g(),be(3,"br"),_(4,"p")(5,"strong"),E(6,"Le\xEDr\xE1s:"),g(),be(7,"br"),E(8),g(),_(9,"h3"),E(10,"Tulajdons\xE1gok:"),g(),_(11,"p")(12,"strong"),E(13,"Termet:"),g(),be(14,"br"),E(15),g(),_(16,"p")(17,"strong"),E(18,"Sebess\xE9g:"),g(),be(19,"br"),E(20),g(),_(21,"p")(22,"strong"),E(23,"Kor:"),g(),be(24,"br"),E(25),g(),_(26,"p")(27,"strong"),E(28,"Jellem:"),g(),be(29,"br"),E(30),g(),_(31,"p")(32,"strong"),E(33,"Adotts\xE1gpont Fejl\u0151d\xE9s:"),g(),be(34,"br"),E(35),g(),_(36,"p")(37,"strong"),E(38,"Eszk\xF6zj\xE1rtass\xE1g:"),g(),be(39,"br"),Z(40,aQ,3,0,"ng-container",12)(41,pQ,4,2,"ng-container",12),g(),_(42,"p")(43,"strong"),E(44,"K\xE9szs\xE9gek:"),g(),be(45,"br"),Z(46,mQ,3,0,"ng-container",12)(47,wQ,4,2,"ng-container",12),g(),_(48,"p")(49,"strong"),E(50,"Nyelvek:"),g(),be(51,"br"),E(52),g(),_(53,"h3"),E(54,"K\xE9pess\xE9gek:"),g(),Z(55,bQ,2,1,"ng-container",7),g()}if(n&2){let t=D().$implicit,r=D(2);C(2),ge(" ",r.raceId===t.id?"Kiv\xE1lasztva":"Kiv\xE1laszt\xE1s"," "),C(6),ge(" ",t.description,""),C(7),ge(" ",t.size,""),C(5),ge(" ",t.speed+"m",""),C(5),ge(" ",t.age,""),C(5),ge(" ",t.alignment,""),C(5),ge(" ",t.ability_score_des,""),C(5),W("ngIf",(t.tools==null?null:t.tools.length)===0),C(),W("ngIf",(t.tools==null?null:t.tools.length)>0),C(5),W("ngIf",(t.skills==null?null:t.skills.length)===0),C(),W("ngIf",(t.skills==null?null:t.skills.length)>0),C(5),_n(" ",t.language,"",r.setLanguage(t.languages),""),C(3),W("ngForOf",r.groupedTraits(t.name))}}function TQ(n,e){if(n&1){let t=De();_(0,"div")(1,"div",8)(2,"div",3)(3,"h3"),E(4),g(),_(5,"button",4),ae("click",function(){let i=re(t).$implicit,s=D(2);return ie(s.toggleRaceDetails(i.id))}),E(6),g()(),Z(7,IQ,56,14,"div",9),g()()}if(n&2){let t=e.$implicit,r=D(2);C(4),pe(t.name),C(2),ge(" ",r.expandedRaceId===t.id?"Bez\xE1r\xE1s":"B\u0151v\xEDt\xE9s"," "),C(),W("ngIf",r.expandedRaceId===t.id)}}function SQ(n,e){if(n&1&&(_(0,"div",6),Z(1,TQ,8,3,"div",7),g()),n&2){let t=D();C(),W("ngForOf",t.children)}}var fh=class n{constructor(e){this.createService=e}dataService=ue(Us);title;children=[];traits=[];tools=[];abilities=[];selectedTools={};defaultTools={};selectedSkills={};defaultSkills={};language=[];expanded=!1;expandedRaceId=null;raceId="";ngOnInit(){this.dataService.getRace().subscribe(e=>{this.children=e}),this.dataService.getTraits().subscribe(e=>{this.traits=e})}toggleExpand(){this.expanded=!this.expanded}toggleRaceDetails(e){this.expandedRaceId===e?this.expandedRaceId=null:this.expandedRaceId=e}groupedTraits(e){let t=this.traits.filter(i=>i.uses.split(",").map(o=>o.trim()).some(o=>e.includes(o))),r={};return t.forEach(i=>{r[i.lvl]||(r[i.lvl]=[]),r[i.lvl].push(i)}),Object.entries(r).map(([i,s])=>({level:+i,traits:s})).sort((i,s)=>i.level-s.level)}initToolSelection(e){if(!this.selectedTools[e.id]){let t=e.tools[0];this.selectedTools[e.id]=Array(t).fill(null)}return!0}onSelectTool(e,t,r){this.selectedTools[e][t]=r}defaultTool(e,t){typeof t=="string"&&(this.defaultTools[e]||(this.defaultTools[e]=[]),this.defaultTools[e].includes(t)||(this.defaultTools[e].push(t),this.selectedTools=this.defaultTools))}getToolOptions(e,t,r){let i=e.tools.slice(1),s=this.selectedTools[t].filter((o,a)=>o!==null&&a!==r);return i.filter(o=>!s.includes(o))}initSkillSelection(e){if(!this.selectedSkills[e.id]){let t=e.skills[0];this.selectedSkills[e.id]=Array(t).fill(null)}return!0}onSelectSkill(e,t,r){this.selectedSkills[e][t]=r}defaultSkill(e,t){typeof t=="string"&&(this.defaultSkills[e]||(this.defaultSkills[e]=[]),this.defaultSkills[e].includes(t)||(this.defaultSkills[e].push(t),this.selectedSkills=this.defaultSkills))}getSkillOptions(e,t,r){let i=e.skills.slice(1),s=this.selectedSkills[t].filter((o,a)=>o!==null&&a!==r);return i.filter(o=>!s.includes(o))}abilitiLoad(e){this.abilities=e.split(",")}loadSkill(){return this.selectedSkills}loadTools(){return this.selectedTools}setLanguage(e){this.language=e}loadLanguage(){return this.language}kivalaszt(e){this.raceId=e,this.createService.setRaceAbilities(this.abilities),this.createService.setRace(e)}static \u0275fac=function(t){return new(t||n)(xe(Ar))};static \u0275cmp=_t({type:n,selectors:[["app-expanded-race"]],inputs:{title:"title"},decls:7,vars:2,consts:[["selectTools",""],["selectSkills",""],[1,"expandable-card"],[1,"card-header"],[1,"expand-btn",3,"click"],["class","class-list",4,"ngIf"],[1,"class-list"],[4,"ngFor","ngForOf"],[1,"class-item"],["class","class-details",4,"ngIf"],[1,"class-details"],[1,"kivalaszt",3,"click"],[4,"ngIf"],[4,"ngIf","ngIfElse"],[3,"ngModelChange","ngModel"],["disabled","",3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"]],template:function(t,r){t&1&&(_(0,"div",2)(1,"div",3)(2,"h2"),E(3,"Fajok"),g(),_(4,"button",4),ae("click",function(){return r.toggleExpand()}),E(5),g()(),Z(6,SQ,2,1,"div",5),g()),t&2&&(C(5),ge(" ",r.expanded?"Bez\xE1r\xE1s":"B\u0151v\xEDt\xE9s"," "),C(),W("ngIf",r.expanded))},dependencies:[At,Rn,Ht,jl,fn,Sa,Da,Ta,kr,fr],styles:[".expandable-card[_ngcontent-%COMP%]{border:2px solid #ddd;border-radius:8px;padding:20px;width:90%;min-width:200px;margin:30px auto}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{font-family:Merienda}.card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding-left:10px;padding-right:10px}h2[_ngcontent-%COMP%]{font-size:30px;color:#333;margin:0}.expand-btn[_ngcontent-%COMP%]{padding:10px 16px;background-color:#4caf50;color:#fff;border:none;border-radius:5px;cursor:pointer}.expand-btn[_ngcontent-%COMP%]:hover{background-color:#45a049}.class-list[_ngcontent-%COMP%]{margin-top:20px;background-color:#a3a3a3}.class-item[_ngcontent-%COMP%]{margin-bottom:15px}.class-details[_ngcontent-%COMP%]{margin-top:10px;padding:10px;background-color:#eee;border-radius:5px}.kivalaszt[_ngcontent-%COMP%]{padding:10px 16px;background-color:#7c0f0f;color:#fff;border:none;border-radius:5px;cursor:pointer;float:right}.kivalaszt[_ngcontent-%COMP%]:hover{background-color:#daa520}select[_ngcontent-%COMP%]{flex:2;padding:8px;font-size:15px;border-radius:5px;border:1px solid #aaa;min-width:200px;text-align:center;margin-bottom:5px;margin-top:2px;margin-left:5%}"]})};function DQ(n,e){n&1&&(qe(0),_(1,"em"),E(2,"Nincs eszk\xF6zj\xE1rtass\xE1g"),g(),Ge())}function kQ(n,e){if(n&1&&(_(0,"div"),E(1),g()),n&2){let t=e.$implicit,r=D(4).$implicit,i=D(2);C(),_n(" - ",t," ",i.defaultTool(r.id,t)," ")}}function AQ(n,e){if(n&1&&(qe(0),Z(1,kQ,2,2,"div",8),In(2,"slice"),Ge()),n&2){let t=D(3).$implicit;C(),W("ngForOf",Cr(2,1,t.tools,1))}}function MQ(n,e){if(n&1&&(_(0,"option",18),E(1),g()),n&2){let t=e.$implicit;W("ngValue",t),C(),ge(" ",t," ")}}function RQ(n,e){if(n&1){let t=De();_(0,"div")(1,"select",15),ae("ngModelChange",function(i){let s=re(t).index,o=D(5).$implicit,a=D(2);return ie(a.onSelectTool(o.id,s,i))}),_(2,"option",16),E(3,"-- V\xE1lassz egyet --"),g(),Z(4,MQ,2,2,"option",17),g()()}if(n&2){let t=e.index,r=D(5).$implicit,i=D(2);C(),W("ngModel",i.selectedTools[r.id][t]),C(),W("ngValue",null),C(2),W("ngForOf",i.getToolOptions(r,r.id,t))}}function PQ(n,e){if(n&1&&(_(0,"div"),Z(1,RQ,5,3,"div",8),g()),n&2){let t=D(4).$implicit,r=D(2);C(),W("ngForOf",r.selectedTools[t.id])}}function OQ(n,e){if(n&1&&Z(0,PQ,2,1,"div",13),n&2){let t=D(3).$implicit,r=D(2);W("ngIf",r.initToolSelection(t))}}function NQ(n,e){if(n&1&&(qe(0),Z(1,AQ,3,4,"ng-container",14)(2,OQ,1,1,"ng-template",null,0,un),Ge()),n&2){let t=Lt(3),r=D(2).$implicit;C(),W("ngIf",r.tools[0]==0)("ngIfElse",t)}}function FQ(n,e){n&1&&(qe(0),_(1,"em"),E(2,"Nincs k\xE9szs\xE9g"),g(),Ge())}function LQ(n,e){if(n&1&&(_(0,"div"),E(1),g()),n&2){let t=e.$implicit,r=D(4).$implicit,i=D(2);C(),_n(" - ",t," ",i.defaultSkill(r.id,t)," ")}}function VQ(n,e){if(n&1&&(qe(0),Z(1,LQ,2,2,"div",8),In(2,"slice"),Ge()),n&2){let t=D(3).$implicit;C(),W("ngForOf",Cr(2,1,t.skills,1))}}function BQ(n,e){if(n&1&&(_(0,"option",18),E(1),g()),n&2){let t=e.$implicit;W("ngValue",t),C(),ge(" ",t," ")}}function UQ(n,e){if(n&1){let t=De();_(0,"div")(1,"select",15),ae("ngModelChange",function(i){let s=re(t).index,o=D(5).$implicit,a=D(2);return ie(a.onSelectSkill(o.id,s,i))}),_(2,"option",16),E(3,"-- V\xE1lassz egyet --"),g(),Z(4,BQ,2,2,"option",17),g()()}if(n&2){let t=e.index,r=D(5).$implicit,i=D(2);C(),W("ngModel",i.selectedSkills[r.id][t]),C(),W("ngValue",null),C(2),W("ngForOf",i.getSkillOptions(r,r.id,t))}}function jQ(n,e){if(n&1&&(_(0,"div"),Z(1,UQ,5,3,"div",8),g()),n&2){let t=D(4).$implicit,r=D(2);C(),W("ngForOf",r.selectedSkills[t.id])}}function $Q(n,e){if(n&1&&Z(0,jQ,2,1,"div",13),n&2){let t=D(3).$implicit,r=D(2);W("ngIf",r.initSkillSelection(t))}}function HQ(n,e){if(n&1&&(qe(0),Z(1,VQ,3,4,"ng-container",14)(2,$Q,1,1,"ng-template",null,1,un),Ge()),n&2){let t=Lt(3),r=D(2).$implicit;C(),W("ngIf",r.skills[0]==0)("ngIfElse",t)}}function zQ(n,e){n&1&&(qe(0),_(1,"em"),E(2,"Nincs nyelv"),g(),Ge())}function WQ(n,e){if(n&1&&(_(0,"div"),E(1),g()),n&2){let t=e.$implicit,r=D(4).$implicit,i=D(2);C(),_n(" - ",t," ",i.defaultLanguage(r.id,t)," ")}}function qQ(n,e){if(n&1&&(qe(0),Z(1,WQ,2,2,"div",8),In(2,"slice"),Ge()),n&2){let t=D(3).$implicit;C(),W("ngForOf",Cr(2,1,t.languages,1))}}function GQ(n,e){if(n&1&&(_(0,"option",18),E(1),g()),n&2){let t=e.$implicit;W("ngValue",t),C(),ge(" ",t," ")}}function KQ(n,e){if(n&1){let t=De();_(0,"div")(1,"select",15),ae("ngModelChange",function(i){let s=re(t).index,o=D(5).$implicit,a=D(2);return ie(a.onSelectLanguage(o.id,s,i))}),_(2,"option",16),E(3,"-- V\xE1lassz egyet --"),g(),Z(4,GQ,2,2,"option",17),g()()}if(n&2){let t=e.index,r=D(5).$implicit,i=D(2);C(),W("ngModel",i.selectedLanguages[r.id][t]),C(),W("ngValue",null),C(2),W("ngForOf",i.getLanguageOptions(r,r.id,t))}}function XQ(n,e){if(n&1&&(_(0,"div"),Z(1,KQ,5,3,"div",8),g()),n&2){let t=D(4).$implicit,r=D(2);C(),W("ngForOf",r.selectedLanguages[t.id])}}function YQ(n,e){if(n&1&&Z(0,XQ,2,1,"div",13),n&2){let t=D(3).$implicit,r=D(2);W("ngIf",r.initLanguageSelection(t))}}function QQ(n,e){if(n&1&&(qe(0),Z(1,qQ,3,4,"ng-container",14)(2,YQ,1,1,"ng-template",null,2,un),Ge()),n&2){let t=Lt(3),r=D(2).$implicit;C(),W("ngIf",r.languages[0]==0)("ngIfElse",t)}}function ZQ(n,e){n&1&&(_(0,"span"),E(1,", "),g())}function JQ(n,e){if(n&1&&(qe(0),E(1),Z(2,ZQ,2,0,"span",13),Ge()),n&2){let t=e.$implicit,r=e.last;C(),_n(" ",t.db," ",t.name,""),C(),W("ngIf",!r)}}function eZ(n,e){if(n&1&&(_(0,"div")(1,"p")(2,"strong"),E(3),g(),be(4,"br"),E(5),g()()),n&2){let t=e.$implicit;C(3),ge("",t.title,":"),C(2),pe(t.description)}}function tZ(n,e){if(n&1&&(qe(0),Z(1,eZ,6,2,"div",8),Ge()),n&2){let t=e.$implicit;C(),W("ngForOf",t.traits)}}function nZ(n,e){if(n&1){let t=De();_(0,"div",11)(1,"button",12),ae("click",function(){re(t);let i=D().$implicit,s=D(2);return ie(s.kivalaszt(i.id))}),E(2),g(),be(3,"br"),_(4,"p")(5,"strong"),E(6,"Le\xEDr\xE1s:"),g(),be(7,"br"),E(8),g(),_(9,"h3"),E(10,"Tulajdons\xE1gok:"),g(),_(11,"p")(12,"strong"),E(13,"Eszk\xF6zj\xE1rtass\xE1g:"),g(),be(14,"br"),Z(15,DQ,3,0,"ng-container",13)(16,NQ,4,2,"ng-container",13),g(),_(17,"p")(18,"strong"),E(19,"K\xE9szs\xE9gek:"),g(),be(20,"br"),Z(21,FQ,3,0,"ng-container",13)(22,HQ,4,2,"ng-container",13),g(),_(23,"p")(24,"strong"),E(25,"Nyelvek:"),g(),be(26,"br"),Z(27,zQ,3,0,"ng-container",13)(28,QQ,4,2,"ng-container",13),g(),_(29,"h3"),E(30,"Felszerel\xE9s"),g(),_(31,"p"),E(32),Z(33,JQ,3,3,"ng-container",8),g(),_(34,"h3"),E(35,"K\xE9pess\xE9gek:"),g(),Z(36,tZ,2,1,"ng-container",8),g()}if(n&2){let t=D().$implicit,r=D(2);C(2),ge(" ",r.bgId===t.id?"Kiv\xE1lasztva":"Kiv\xE1laszt\xE1s"," "),C(6),ge(" ",t.description,""),C(7),W("ngIf",(t.tools==null?null:t.tools.length)===0),C(),W("ngIf",(t.tools==null?null:t.tools.length)>0),C(5),W("ngIf",(t.skills==null?null:t.skills.length)===0),C(),W("ngIf",(t.skills==null?null:t.skills.length)>0),C(5),W("ngIf",(t.languages==null?null:t.languages.length)===0),C(),W("ngIf",(t.languages==null?null:t.languages.length)>0),C(4),ge(" ",r.setBgEquipment(t.equipment)," "),C(),W("ngForOf",t.equipment),C(3),W("ngForOf",r.groupedTraits(t.name))}}function rZ(n,e){if(n&1){let t=De();_(0,"div")(1,"div",9)(2,"div",4)(3,"h3"),E(4),g(),_(5,"button",5),ae("click",function(){let i=re(t).$implicit,s=D(2);return ie(s.toggleBgDetails(i.id))}),E(6),g()(),Z(7,nZ,37,11,"div",10),g()()}if(n&2){let t=e.$implicit,r=D(2);C(4),pe(t.name),C(2),ge(" ",r.expandedBgId===t.id?"Bez\xE1r\xE1s":"B\u0151v\xEDt\xE9s"," "),C(),W("ngIf",r.expandedBgId===t.id)}}function iZ(n,e){if(n&1&&(_(0,"div",7),Z(1,rZ,8,3,"div",8),g()),n&2){let t=D();C(),W("ngForOf",t.children)}}var hh=class n{constructor(e){this.createService=e}dataService=ue(Us);title;children=[];traits=[];tools=[];selectedTools={};defaultTools={};selectedSkills={};defaultSkills={};selectedLanguages={};defaultLanguages={};bgEquipment=[];expanded=!1;expandedBgId=null;bgId="";default_i=0;ngOnInit(){this.dataService.getBackground().subscribe(e=>{this.children=e}),this.dataService.getTraits().subscribe(e=>{this.traits=e})}toggleExpand(){this.expanded=!this.expanded}toggleBgDetails(e){this.expandedBgId===e?this.expandedBgId=null:this.expandedBgId=e}groupedTraits(e){let t=this.traits.filter(i=>e.includes(i.uses)),r={};return t.forEach(i=>{r[i.lvl]||(r[i.lvl]=[]),r[i.lvl].push(i)}),Object.entries(r).map(([i,s])=>({level:+i,traits:s})).sort((i,s)=>i.level-s.level)}initToolSelection(e){if(!this.selectedTools[e.id]){let t=e.tools[0];this.selectedTools[e.id]=Array(t).fill(null)}return!0}onSelectTool(e,t,r){this.selectedTools[e][t]=r}defaultTool(e,t){typeof t=="string"&&(this.defaultTools[e]||(this.defaultTools[e]=[]),this.defaultTools[e].includes(t)||(this.defaultTools[e].push(t),this.selectedTools=this.defaultTools))}getToolOptions(e,t,r){let i=e.tools.slice(1),s=this.selectedTools[t].filter((o,a)=>o!==null&&a!==r);return i.filter(o=>!s.includes(o))}initSkillSelection(e){if(!this.selectedSkills[e.id]){let t=e.skills[0];this.selectedSkills[e.id]=Array(t).fill(null)}return!0}onSelectSkill(e,t,r){this.selectedSkills[e][t]=r}defaultSkill(e,t){typeof t=="string"&&(this.defaultSkills[e]||(this.defaultSkills[e]=[]),this.defaultSkills[e].includes(t)||(this.defaultSkills[e].push(t),this.selectedSkills=this.defaultSkills))}getSkillOptions(e,t,r){let i=e.skills.slice(1),s=this.selectedSkills[t].filter((o,a)=>o!==null&&a!==r);return i.filter(o=>!s.includes(o))}initLanguageSelection(e){if(!this.selectedLanguages[e.id]){let t=e.languages[0];this.selectedLanguages[e.id]=Array(t).fill(null)}return!0}onSelectLanguage(e,t,r){this.selectedLanguages[e][t]=r}defaultLanguage(e,t){typeof t=="string"&&(this.defaultLanguages[e]||(this.defaultLanguages[e]=[]),this.defaultLanguages[e].includes(t)||(this.defaultLanguages[e].push(t),this.selectedLanguages=this.defaultLanguages))}getLanguageOptions(e,t,r){let i=e.languages.slice(1),s=this.selectedLanguages[t].filter((o,a)=>o!==null&&a!==r);return i.filter(o=>!s.includes(o))}setBgEquipment(e){this.bgEquipment=e.map(t=>({db:t.db,name:t.name}))}loadSkill(){return this.selectedSkills}loadTools(){return this.selectedTools}loadLanguage(){return this.selectedLanguages}kivalaszt(e){this.bgId=e,this.createService.setBackstory(e),this.createService.setBgEquipment(this.bgEquipment)}static \u0275fac=function(t){return new(t||n)(xe(Ar))};static \u0275cmp=_t({type:n,selectors:[["app-expanded-background"]],inputs:{title:"title"},decls:7,vars:2,consts:[["selectTools",""],["selectSkills",""],["selectlang",""],[1,"expandable-card"],[1,"card-header"],[1,"expand-btn",3,"click"],["class","class-list",4,"ngIf"],[1,"class-list"],[4,"ngFor","ngForOf"],[1,"class-item"],["class","class-details",4,"ngIf"],[1,"class-details"],[1,"kivalaszt",3,"click"],[4,"ngIf"],[4,"ngIf","ngIfElse"],[3,"ngModelChange","ngModel"],["disabled","",3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"]],template:function(t,r){t&1&&(_(0,"div",3)(1,"div",4)(2,"h2"),E(3,"H\xE1tt\xE9r T\xF6rt\xE9netek"),g(),_(4,"button",5),ae("click",function(){return r.toggleExpand()}),E(5),g()(),Z(6,iZ,2,1,"div",6),g()),t&2&&(C(5),ge(" ",r.expanded?"Bez\xE1r\xE1s":"B\u0151v\xEDt\xE9s"," "),C(),W("ngIf",r.expanded))},dependencies:[At,Rn,Ht,jl,fn,Sa,Da,Ta,kr,fr],styles:[".expandable-card[_ngcontent-%COMP%]{border:2px solid #ddd;border-radius:8px;padding:20px;width:90%;min-width:200px;margin:30px auto}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{font-family:Merienda}.card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding-left:10px;padding-right:10px}h2[_ngcontent-%COMP%]{font-size:30px;color:#333;margin:0}.expand-btn[_ngcontent-%COMP%]{padding:10px 16px;background-color:#4caf50;color:#fff;border:none;border-radius:5px;cursor:pointer}.expand-btn[_ngcontent-%COMP%]:hover{background-color:#45a049}.class-list[_ngcontent-%COMP%]{margin-top:20px;background-color:#a3a3a3}.class-item[_ngcontent-%COMP%]{margin-bottom:15px}.class-details[_ngcontent-%COMP%]{margin-top:10px;padding:10px;background-color:#eee;border-radius:5px}.kivalaszt[_ngcontent-%COMP%]{padding:10px 16px;background-color:#7c0f0f;color:#fff;border:none;border-radius:5px;cursor:pointer;float:right}.kivalaszt[_ngcontent-%COMP%]:hover{background-color:#daa520}"]})};function sZ(n,e){if(n&1&&(_(0,"p"),E(1),g()),n&2){let t=D(2);C(),_n("El\xE9rhet\u0151 pontok: ",t.remainingPoints()," / ",t.totalPoints,"")}}function oZ(n,e){if(n&1&&(qe(0),E(1),Ge()),n&2){let t=D().$implicit,r=D().$implicit,i=D(2);C(),ge(" ",i.formatPointCost(i.getPointDifference(r.value,t))," ")}}function aZ(n,e){if(n&1&&(_(0,"option",15),E(1),Z(2,oZ,2,1,"ng-container",7),g()),n&2){let t=e.$implicit,r=D(3);W("value",t)("selected",t===8),C(),ge(" ",t," "),C(),W("ngIf",r.mode()==="point")}}function cZ(n,e){if(n&1){let t=De();_(0,"div",12)(1,"label"),E(2),g(),_(3,"select",13),ae("change",function(i){let s=re(t).index,o=D(2);return ie(o.updateValue(s,i))}),Z(4,aZ,3,4,"option",14),g()()}if(n&2){let t=e.$implicit,r=D(2);C(2),pe(t.name),C(),W("value",t.value),C(),W("ngForOf",r.getAvailableValues(t.value))}}function lZ(n,e){if(n&1){let t=De();_(0,"tr")(1,"td"),E(2),g(),_(3,"td"),E(4),g(),_(5,"td"),E(6),g(),_(7,"td"),E(8),g(),_(9,"td")(10,"input",16),ae("input",function(i){let s=re(t).index,o=D(2);return ie(o.updateOverride(s,i))}),g()()()}if(n&2){let t,r=e.$implicit;C(2),pe(r.name),C(2),pe(r.total),C(2),_n("",r.modifier>=0?"+":"","",r.modifier,""),C(2),_n("",r.bonus>=0?"+":"","",r.bonus,""),C(2),W("value",(t=r.override)!==null&&t!==void 0?t:"")}}function uZ(n,e){if(n&1){let t=De();_(0,"div",4)(1,"div",5)(2,"button",6),ae("click",function(){re(t);let i=D();return ie(i.switchMode("point"))}),E(3,"Pont alap\xFA"),g(),_(4,"button",6),ae("click",function(){re(t);let i=D();return ie(i.switchMode("custom"))}),E(5,"Egyedi"),g()(),Z(6,sZ,2,2,"p",7),_(7,"div",8),Z(8,cZ,5,3,"div",9),g(),_(9,"table",10)(10,"thead")(11,"tr")(12,"th"),E(13,"Adotts\xE1g"),g(),_(14,"th"),E(15,"\xD6sszesen"),g(),_(16,"th"),E(17,"M\xF3dos\xEDt\xF3"),g(),_(18,"th"),E(19,"Fajb\xF3nusz"),g(),_(20,"th"),E(21,"Hozz\xE1ad\xE1s"),g()()(),_(22,"tbody"),Z(23,lZ,11,7,"tr",11),g()()()}if(n&2){let t=D();C(2),ii("active",t.mode()==="point"),C(2),ii("active",t.mode()==="custom"),C(2),W("ngIf",t.mode()==="point"),C(2),W("ngForOf",t.abilities()),C(15),W("ngForOf",t.abilities())}}var v_=class n{constructor(e){this.createService=e}mode=Mn("point");totalPoints=27;abilities=Mn([]);ngOnInit(){this.createService.raceBonusTrigger$.subscribe(()=>{this.raceBonus()}),this.raceBonus()}pointCosts={8:0,9:1,10:2,11:3,12:4,13:5,14:7,15:9};getAvailableValues(e){return this.mode()==="point"?Object.keys(this.pointCosts).map(Number).filter(t=>this.remainingPoints()+this.pointCosts[e]-this.pointCosts[t]>=0):Array.from({length:13},(t,r)=>r+6)}raceBonus(){this.resetAbilities();let e=this.createService.getRaceAbilities(),r=this.abilities().map(i=>{for(let s of e){let o=s[0],a=Number(s[1]),c={c:"\xC1ll\xF3k\xE9pess\xE9g",s:"Er\u0151",d:"\xDCgyess\xE9g",i:"Intelligencia",w:"B\xF6lcsess\xE9g",h:"Karizma"};if(i.name===c[o])return Ke(me({},i),{bonus:a})}return i});this.abilities.set(r),this.recalculate(r)}remainingPoints(){return this.totalPoints-this.abilities().reduce((e,t)=>e+(this.pointCosts[t.value]||0),0)}getModifier(e){return Math.floor((e-10)/2)}updateValue(e,t){let r=Number(t.target.value),i=[...this.abilities()];i[e].value=r,this.recalculate(i)}updateOverride(e,t){let r=t.target.valueAsNumber,i=[...this.abilities()];i[e].override=isNaN(r)?null:r,this.recalculate(i)}recalculate(e){e.forEach(t=>{let r=t.value,i=t.override??0;t.total=r+i+t.bonus,t.modifier=this.getModifier(t.total)}),this.abilities.set(e),this.createService.setAbilities(e)}switchMode(e){this.mode.set(e),this.raceBonus()}resetAbilities(){let e=["Er\u0151","\xDCgyess\xE9g","\xC1ll\xF3k\xE9pess\xE9g","B\xF6lcsess\xE9g","Intelligencia","Karizma"].map(t=>({name:t,value:8,override:null,total:8,modifier:-1,bonus:0}));this.abilities.set(e),this.createService.setAbilities(e)}getPointDifference(e,t){let r=this.pointCosts[e]??0;return(this.pointCosts[t]??0)-r}formatPointCost(e){return e==0?"":e>=0?`(-${e})`:`(+${Math.abs(e)})`}expanded=!1;toggleExpand(){this.expanded=!this.expanded}static \u0275fac=function(t){return new(t||n)(xe(Ar))};static \u0275cmp=_t({type:n,selectors:[["app-expanded-ability_score"]],decls:7,vars:2,consts:[[1,"expandable-card"],[1,"card-header"],[1,"expand-btn",3,"click"],["class","container",4,"ngIf"],[1,"container"],[1,"mode-buttons"],[3,"click"],[4,"ngIf"],[1,"grid"],["class","selector",4,"ngFor","ngForOf"],[1,"summary"],[4,"ngFor","ngForOf"],[1,"selector"],[1,"dropdown",3,"change","value"],[3,"value","selected",4,"ngFor","ngForOf"],[3,"value","selected"],["type","number",3,"input","value"]],template:function(t,r){t&1&&(_(0,"div",0)(1,"div",1)(2,"h2"),E(3,"Adotts\xE1g"),g(),_(4,"button",2),ae("click",function(){return r.raceBonus()})("click",function(){return r.toggleExpand()}),E(5),g()(),Z(6,uZ,24,7,"div",3),g()),t&2&&(C(5),ge(" ",r.expanded?"Bez\xE1r\xE1s":"B\u0151v\xEDt\xE9s"," "),C(),W("ngIf",r.expanded))},dependencies:[At,Rn,Ht],styles:[".expandable-card[_ngcontent-%COMP%]{border:2px solid #ddd;border-radius:8px;padding:20px;width:90%;min-width:200px;margin:30px auto}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{font-family:Merienda}.card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding-left:10px;padding-right:10px}h2[_ngcontent-%COMP%]{font-size:30px;color:#333;margin:0}.expand-btn[_ngcontent-%COMP%]{padding:10px 16px;background-color:#4caf50;color:#fff;border:none;border-radius:5px;cursor:pointer}.expand-btn[_ngcontent-%COMP%]:hover{background-color:#45a049}.container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:2rem;background-color:#ddd;border-radius:.5rem;margin-top:20px}.container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .mode-buttons[_ngcontent-%COMP%]{margin-bottom:1rem}.container[_ngcontent-%COMP%]   .mode-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:.5rem;padding:.5rem 1rem;border:none;border-radius:4px;background-color:#ccc}.container[_ngcontent-%COMP%]   .mode-buttons[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff}.container[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,minmax(150px,200px));gap:1rem;margin-bottom:1rem}.container[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]   .selector[_ngcontent-%COMP%]{display:flex;flex-direction:column}.container[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]   .selector[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:.3rem}.container[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]   .selector[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]{padding:.3rem;font-size:1rem;border-radius:4px;border:1px solid #aaa}.container[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]{border-collapse:collapse;margin-top:1rem}.container[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #888;padding:.5rem 1rem;text-align:center}"]})};function dZ(n,e){if(n&1){let t=De();_(0,"div",4)(1,"div",5)(2,"label",6),E(3,"N\xE9v:"),g(),_(4,"input",7),ae("input",function(i){re(t);let s=D();return ie(s.updateField("name",i))}),g()(),_(5,"div",5)(6,"label",8),E(7,"Kor:"),g(),_(8,"input",9),ae("input",function(i){re(t);let s=D();return ie(s.updateField("age",i))}),g()(),_(9,"div",5)(10,"label",10),E(11,"Nem:"),g(),_(12,"input",11),ae("input",function(i){re(t);let s=D();return ie(s.updateField("gender",i))}),g()(),_(13,"div",5)(14,"label",12),E(15,"Magass\xE1g (cm):"),g(),_(16,"input",13),ae("input",function(i){re(t);let s=D();return ie(s.updateField("height",i))}),g()(),_(17,"div",5)(18,"label",14),E(19,"S\xFAly (kg):"),g(),_(20,"input",15),ae("input",function(i){re(t);let s=D();return ie(s.updateField("weight",i))}),g()(),_(21,"div",5)(22,"label",16),E(23,"Szemsz\xEDn:"),g(),_(24,"input",17),ae("input",function(i){re(t);let s=D();return ie(s.updateField("eyeColor",i))}),g()(),_(25,"div",5)(26,"label",18),E(27,"Hajsz\xEDn:"),g(),_(28,"input",19),ae("input",function(i){re(t);let s=D();return ie(s.updateField("hairColor",i))}),g()(),_(29,"div",5)(30,"label",20),E(31,"B\u0151rsz\xEDn:"),g(),_(32,"input",21),ae("input",function(i){re(t);let s=D();return ie(s.updateField("skinTone",i))}),g()()()}}var y_=class n{constructor(e,t){this.storage=e;this.createService=t}expanded=Mn(!1);appearance=Mn({name:"",age:null,gender:"",height:null,weight:null,eyeColor:"",hairColor:"",skinTone:""});toggleExpand(){this.expanded.update(e=>!e)}saveAppearance(){let e=this.appearance();this.createService.setAppearance(e)}updateField(e,t){let r=t.target;if(!r)return;let i=e==="height"||e==="weight"||e==="age"?r.valueAsNumber:r.value;(e==="height"||e==="weight"||e==="age")&&isNaN(i)||(this.appearance.update(s=>Ke(me({},s),{[e]:i})),this.saveAppearance())}static \u0275fac=function(t){return new(t||n)(xe(Rc),xe(Ar))};static \u0275cmp=_t({type:n,selectors:[["app-expanded-description"]],decls:7,vars:2,consts:[[1,"expandable-card"],[1,"card-header"],[1,"expand-btn",3,"click"],["class","appearance-form",4,"ngIf"],[1,"appearance-form"],[1,"form-field"],["for","name"],["id","name","type","text",3,"input"],["for","age"],["id","age","type","number","min","0",3,"input"],["for","gender"],["id","gender","type","text",3,"input"],["for","height"],["id","height","type","number","min","0",3,"input"],["for","weight"],["id","weight","type","number","min","0",3,"input"],["for","eyeColor"],["id","eyeColor","type","text",3,"input"],["for","hairColor"],["id","hairColor","type","text",3,"input"],["for","skinTone"],["id","skinTone","type","text",3,"input"]],template:function(t,r){t&1&&(_(0,"div",0)(1,"div",1)(2,"h2"),E(3,"Le\xEDr\xE1s"),g(),_(4,"button",2),ae("click",function(){return r.toggleExpand()}),E(5),g()(),Z(6,dZ,33,0,"div",3),g()),t&2&&(C(5),ge(" ",r.expanded()?"Bez\xE1r\xE1s":"B\u0151v\xEDt\xE9s"," "),C(),W("ngIf",r.expanded()))},dependencies:[At,Ht],styles:[".expandable-card[_ngcontent-%COMP%]{border:2px solid #ddd;border-radius:8px;padding:20px;width:90%;min-width:200px;margin:30px auto}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{font-family:Merienda}.card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding-left:10px;padding-right:10px}.card-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:30px;color:#333;margin:0}.card-header[_ngcontent-%COMP%]   .expand-btn[_ngcontent-%COMP%]{padding:10px 16px;background-color:#4caf50;color:#fff;border:none;border-radius:5px;cursor:pointer;font-weight:700}.card-header[_ngcontent-%COMP%]   .expand-btn[_ngcontent-%COMP%]:hover{background-color:#45a049}.appearance-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;justify-content:space-between;align-items:center;padding:2rem;background-color:#ddd;border-radius:.5rem;margin-top:20px}.form-field[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;margin-bottom:1rem}.form-field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:140px;font-size:1.1rem;font-weight:600;color:#333}.form-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;font-size:1.05rem;padding:.6rem;border:1px solid #bbb;border-radius:4px;max-width:350px}.form-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#4caf50;outline:none}.upload-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1rem}.upload-container[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:200px;border-radius:8px;box-shadow:0 0 8px #0000004d}.upload-container[_ngcontent-%COMP%]   .file-input-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.upload-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;padding:.5rem 1rem;border:none;border-radius:4px;cursor:pointer}"]})};function fZ(n,e){if(n&1&&(_(0,"option",15),E(1),g()),n&2){let t=e.$implicit,r=D().$implicit;W("value",t.value)("selected",t.value===r.selected),C(),ge(" ",t.value," ")}}function hZ(n,e){if(n&1){let t=De();_(0,"div",10)(1,"div",11)(2,"label"),E(3),g(),_(4,"select",12),ae("change",function(i){let s=re(t).$implicit,o=D(3);return ie(o.selectOption(s.id,i))}),Z(5,fZ,2,3,"option",13),g()(),_(6,"div",14),E(7),g()()}if(n&2){let t=e.$implicit,r=D(3);C(3),ge("",t.name,":"),C(2),W("ngForOf",t.options),C(2),ge(" ",r.getDescription(t)," ")}}function pZ(n,e){if(n&1&&(_(0,"li"),E(1),g()),n&2){let t=e.$implicit;C(),_n(" ",t.db," ",t.name," ")}}function mZ(n,e){if(n&1&&(_(0,"div",6)(1,"div",7),Z(2,hZ,8,3,"div",8),_(3,"strong"),E(4,"Felszerel\xE9s:"),g(),_(5,"ul"),Z(6,pZ,2,2,"li",9),g()()()),n&2){let t=D(2);C(2),W("ngForOf",t.equipment),C(4),W("ngForOf",t.finalEquipment)}}function gZ(n,e){if(n&1&&(_(0,"div",4),Z(1,mZ,7,2,"div",5),g()),n&2){let t=D();C(),W("ngIf",t.expanded)}}var x_=class n{constructor(e){this.createService=e;this.createService.updateEquipmentListTrigger$.subscribe(()=>{this.updateEquipmentList()}),this.updateEquipmentList()}equipment=[{id:1,name:" Els\u0151dleges Fegyver",options:[{value:"Hossz\xFAkard",description:"Egy k\xE9tkezes haszn\xE1latra k\xE9sz\xFClt kard, amely a harcosok alapvet\u0151 \xE9s nagyra becs\xFClt fegyvere. Peng\xE9je egyenes \xE9s k\xE9t\xE9l\u0171, markolata keresztalak\xFA. A teljes hossza \xE1ltal\xE1ban 80 \xE9s 110 centim\xE9ter k\xF6z\xF6tt mozog."},{value:"Csatab\xE1rd",description:"Egy dupla fej\u0171 harcra kialak\xEDtott fejsze, hossz\xFA ny\xE9llel. Ha az egyik fej \xE9le csat\xE1ban kicsorbul a harcos egy fog\xE1sv\xE1lt\xE1ssal szert tehet egy \xFAj \xE9lre a t\xFAloldalon. "},{value:"Hossz\xFA\xEDj",description:"Embermagas, neh\xE9z \xEDj amely haszn\xE1lat\xE1hoz komoly k\xE9pzets\xE9g sz\xFCks\xE9ges. Azonban nincs az a p\xE1nc\xE9l amely ellent tud \xE1llni vessz\u0151inek."},{value:"L\xE1ndzsa",description:"Sokoldal\xFA, 2-2,5 m\xE9teres bot, tetej\xE9n egy mindk\xE9t oldalt \xE9lezett hegyes f\xE9mpeng\xE9vel."},{value:"S\xE9tabot",description:"Egy egyszer\u0171 s\xE9tebot, egyik v\xE9g\xE9n vassal meger\u0151s\xEDtve."}],selected:"Hossz\xFAkard"},{id:2,name:" M\xE1sodlagos Fegyver",options:[{value:"R\xF6vidkard",description:"Egy k\xE9zben forgatott, mindk\xE9t oldal\xE1n \xE9lezett a hossz\xFA kardn\xE1l j\xF3val r\xF6videbb sz\xFAr\xF3-v\xE1g\xF3 fegyver"},{value:"T\u0151r",description:"Egy olyan k\xE9t\xE9l\u0171 k\xE9s, amelynek hegye rendk\xEDv\xFCl \xE9les. A haszn\xE1lat\xE1ban val\xF3 j\xE1rtass\xE1g \xE1ltal hozz\xE1adhatod a vele m\xE9rt t\xE1mad\xE1sok tal\xE1lati dob\xE1s\xE1hoz a j\xE1rtass\xE1g b\xF3nuszodat."},{value:"R\xF6vid\xEDj",description:"Vad\xE1szok \xE1ltal haszn\xE1lt kisebb \xE1llatok r\xF6vidt\xE1v\xFA vad\xE1szat\xE1hoz haszn\xE1lt fegyver."},{value:"K\xE9zi fejsze",description:"Egy fanyel\u0171 fejsze, amelynek feje \xE1ltal\xE1ban vasb\u0151l vagy ac\xE9lb\xF3l k\xE9sz\xFCl. A haszn\xE1lat\xE1ban val\xF3 j\xE1rtass\xE1g \xE1ltal hozz\xE1adhatod a vele m\xE9rt t\xE1mad\xE1sok tal\xE1lati dob\xE1s\xE1hoz a j\xE1rtass\xE1g b\xF3nuszodat."}],selected:"R\xF6vidkard"},{id:3,name:"P\xE1nc\xE9l",options:[{value:"B\u0151rp\xE1nc\xE9l",description:"A mell- \xE9s v\xE1llv\xE9rt b\u0151rb\u0151l k\xE9sz\xFCltek, amelyet forr\xE1z\xE1ssal tettek strapab\xEDr\xF3v\xE1. A p\xE1nc\xE9lzat t\xF6bbi r\xE9sze puh\xE1bb, rugalmasabb anyagokb\xF3l k\xE9sz\u0171lt."},{value:"L\xE1ncing",description:"Egym\xE1sba kapaszkod\xF3 f\xE9mgy\u0171r\u0171kb\u0151l \xE1ll, \xE1ltal\xE1ban az \xF6lt\xF6zet r\xE9tegei k\xF6zt viselik, \xEDgy a b\u0151r k\xE9pes tomp\xEDtani a l\xE1ncok s\xFArl\xF3d\xE1s\xE1nak zaj\xE1t. M\xE9rs\xE9kelt v\xE9delmet ny\xFAjt a fels\u0151test sz\xE1m\xE1ra."},{value:"Gy\u0171r\u0171s p\xE1nc\xE9l",description:"Egy er\u0151sebb b\u0151rp\xE1nc\xE9l, amelybe neh\xE9z f\xE9mgy\u0171r\u0171ket sz\u0151ttek, hogy meger\u0151s\xEDts\xE9k azt az er\u0151teljesebb csap\xE1sokkal szemben. Mivel a gy\u0171r\u0171s p\xE1nc\xE9l alulmarad a l\xE1ncinggel szemben, ez\xE9rt \xE1ltal\xE1ban azok viselik, akik az ut\xF3bbit nem tudj\xE1k megfizetni. Visel\xE9s\xE9vel a lopakod\xE1sra h\xE1tr\xE1nyt kapsz."}],selected:"B\u0151rp\xE1nc\xE9l"}];baseEquipment=[{db:1,name:"H\xE1tizs\xE1k"},{db:1,name:"H\xE1l\xF3zs\xE1k"},{db:3,name:"Napi tart\xF3s \xE9tel"}];finalEquipment=[];expanded=Mn(!1);updateEquipmentList(){let e=this.createService.getBgEquipment();this.finalEquipment=[...this.baseEquipment,...e],this.saveSelectedEquipment()}selectOption(e,t){let r=t.target?.value,i=this.equipment.find(s=>s.id===e);i&&r&&(i.selected=r,this.saveSelectedEquipment())}getDescription(e){let t=e.options.find(r=>r.value===e.selected);return t?t.description:""}toggleExpand(){this.expanded.update(e=>!e),this.updateEquipmentList()}saveSelectedEquipment(){this.createService.setEquipment(this.equipment)}static \u0275fac=function(t){return new(t||n)(xe(Ar))};static \u0275cmp=_t({type:n,selectors:[["app-expanded-starterpack"]],decls:7,vars:2,consts:[[1,"expandable-card"],[1,"card-header"],[1,"expand-btn",3,"click"],["class","appearance-form",4,"ngIf"],[1,"appearance-form"],["class","container",4,"ngIf"],[1,"container"],[1,"equipment-list"],["class","equipment-card",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"equipment-card"],[1,"card-row"],[3,"change"],[3,"value","selected",4,"ngFor","ngForOf"],[1,"description"],[3,"value","selected"]],template:function(t,r){t&1&&(_(0,"div",0)(1,"div",1)(2,"h2"),E(3,"Kezd\u0151 Felszerel\xE9s"),g(),_(4,"button",2),ae("click",function(){return r.toggleExpand()}),E(5),g()(),Z(6,gZ,2,1,"div",3),g()),t&2&&(C(5),ge(" ",r.expanded()?"Bez\xE1r\xE1s":"B\u0151v\xEDt\xE9s"," "),C(),W("ngIf",r.expanded()))},dependencies:[At,Rn,Ht],styles:[".expandable-card[_ngcontent-%COMP%]{border:2px solid #ddd;border-radius:8px;padding:20px;width:90%;min-width:200px;margin:30px auto}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{font-family:Merienda}.card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding-left:10px;padding-right:10px}.card-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:30px;color:#333;margin:0}.card-header[_ngcontent-%COMP%]   .expand-btn[_ngcontent-%COMP%]{padding:10px 16px;background-color:#4caf50;color:#fff;border:none;border-radius:5px;cursor:pointer;font-weight:700}.card-header[_ngcontent-%COMP%]   .expand-btn[_ngcontent-%COMP%]:hover{background-color:#45a049}.mode-buttons[_ngcontent-%COMP%]{margin-bottom:1rem}.mode-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:.5rem;padding:.5rem 1rem;border:none;border-radius:4px;background-color:#ccc}.mode-buttons[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff}.container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:2rem;background-color:#ddd;border-radius:.5rem;margin-top:20px}.equipment-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.card-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:16px;margin-bottom:8px}.card-row[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{flex:1;font-weight:600;font-size:16px}.card-row[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{flex:2;padding:8px;font-size:15px;border-radius:5px;border:1px solid #aaa;max-width:200px;text-align:center}.description[_ngcontent-%COMP%]{font-style:italic;font-size:14px;color:#555;margin-top:4px;padding-left:4px}"]})};var E_=class n{constructor(e,t){this.createService=e;this.auth=t}expandedBackgroundComponent;expandedRaceComponent;expandedClassComponent;cards=[];skill=[];tools=[];skilli=0;toolsi=0;ngOnInit(){this.auth.onAuthStateChanged(e=>{e?this.createService.setUserId(e.uid):this.createService.setUserId(null)})}loadSkill(){let e=Object.values(this.expandedBackgroundComponent.loadSkill()).flat(),t=Object.values(this.expandedClassComponent.loadSkill()).flat(),r=Object.values(this.expandedRaceComponent.loadSkill()).flat(),i=[...e,...t,...r];this.createService.setSkill(i)}loadTools(){let e=Object.values(this.expandedBackgroundComponent.loadTools()).flat(),t=Object.values(this.expandedClassComponent.loadTools()).flat(),r=Object.values(this.expandedRaceComponent.loadTools()).flat(),i=[...e,...t,...r];this.createService.setTools(i)}loadLanguage(){let e=Object.values(this.expandedBackgroundComponent.loadLanguage()).flat(),t=Object.values(this.expandedRaceComponent.loadLanguage()).flat(),r=[...e,...t];this.createService.setLanguage(r)}mentes(){this.loadSkill(),this.loadTools(),this.loadLanguage(),this.createService.dataUpLoad()}static \u0275fac=function(t){return new(t||n)(xe(Ar),xe(xi))};static \u0275cmp=_t({type:n,selectors:[["app-charactercreate"]],viewQuery:function(t,r){if(t&1&&(B0(hh,5),B0(fh,5),B0(dh,5)),t&2){let i;Ll(i=Vl())&&(r.expandedBackgroundComponent=i.first),Ll(i=Vl())&&(r.expandedRaceComponent=i.first),Ll(i=Vl())&&(r.expandedClassComponent=i.first)}},decls:14,vars:0,consts:[["id","main"],[1,"classes"],["id","gomb"],[1,"create-btn",3,"click"]],template:function(t,r){t&1&&(be(0,"app-navbar"),_(1,"div",0)(2,"h1"),E(3,"Karakter K\xE9sz\xEDt\u0151"),g(),_(4,"div",1),be(5,"app-expanded-description")(6,"app-expanded-class")(7,"app-expanded-race")(8,"app-expanded-background")(9,"app-expanded-ability_score")(10,"app-expanded-starterpack"),_(11,"div",2)(12,"button",3),ae("click",function(){return r.mentes()}),E(13,"L\xE9trehoz\xE1s"),g()()()())},dependencies:[At,fn,er,dh,fh,hh,v_,y_,x_],styles:['@charset "UTF-8";#main[_ngcontent-%COMP%]{margin-top:100px;width:70%;margin-left:auto;margin-right:auto;background-color:gray;border-radius:10px;padding:20px;display:flex;flex-direction:column;align-items:center;font-family:Merienda}h1[_ngcontent-%COMP%]{margin:0 auto;text-align:center}.classes[_ngcontent-%COMP%]{margin-top:10px;padding:15px;background-color:#d3d3d3;border-radius:8px;width:95%;justify-content:center;gap:10px}.create-btn[_ngcontent-%COMP%]{background-color:#28a745;color:#fff;padding:.6rem 1.2rem;font-size:1rem;border:none;border-radius:.75rem;cursor:pointer;transition:background-color .3s ease,transform .1s ease}.create-btn[_ngcontent-%COMP%]:hover{background-color:#218838}.create-btn[_ngcontent-%COMP%]:active{transform:scale(.97)}.create-btn[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 3px #48b46180}#gomb[_ngcontent-%COMP%]{text-align:center;font-family:Merienda}']})};function _Z(n,e){if(n&1){let t=De();_(0,"button",11),ae("click",function(){re(t);let i=D().$implicit,s=D();return s.saveId(i.id),ie(s.showLeavePopup=!0)}),E(1," T\xF6rl\xE9s "),g()}}function vZ(n,e){if(n&1){let t=De();_(0,"div",8)(1,"h2"),E(2),g(),_(3,"div",9),Z(4,_Z,2,0,"button",10),_(5,"button",3),ae("click",function(){let i=re(t).$implicit,s=D();return ie(s.openCampaign(i.id))}),E(6," Megnyit\xE1s "),g()()()}if(n&2){let t=e.$implicit,r=D();C(2),pe(t.name),C(2),W("ngIf",t.creatorId===r.userId)}}function yZ(n,e){if(n&1){let t=De();_(0,"div",12)(1,"div",13),ae("click",function(i){return re(t),ie(i.stopPropagation())}),_(2,"h2"),E(3,"\xDAj Kamp\xE1ny"),g(),_(4,"input",14),Jt("ngModelChange",function(i){re(t);let s=D();return rn(s.newCampaignName,i)||(s.newCampaignName=i),ie(i)}),g(),_(5,"textarea",15),Jt("ngModelChange",function(i){re(t);let s=D();return rn(s.newCampaignDescription,i)||(s.newCampaignDescription=i),ie(i)}),g(),_(6,"div",16)(7,"button",17),ae("click",function(){re(t);let i=D();return ie(i.closeCreatePopup())}),E(8,"M\xE9gse"),g(),_(9,"button",18),ae("click",function(){re(t);let i=D();return ie(i.createCampaign())}),E(10,"L\xE9trehoz\xE1s"),g()()()()}if(n&2){let t=D();C(4),Zt("ngModel",t.newCampaignName),C(),Zt("ngModel",t.newCampaignDescription)}}function xZ(n,e){if(n&1){let t=De();_(0,"div",19)(1,"div",20)(2,"h3"),E(3,"Biztosan ki akarod t\xF6r\xF6lni a kamp\xE1nyt?"),g(),_(4,"div",21)(5,"button",22),ae("click",function(){re(t);let i=D();return ie(i.showLeavePopup=!1)}),E(6,"M\xE9gse"),g(),_(7,"button",23),ae("click",function(){re(t);let i=D();return ie(i.deleteCampaign())}),E(8,"T\xF6rl\xE9s"),g()()()()}}var w_=class n{constructor(e,t,r){this.firestore=e;this.auth=t;this.router=r}campaigns=[];userCharacters=[];userId=null;showCreatePopup=!1;newCampaignName="";newCampaignDescription="";showLeavePopup=!1;id="";ngOnInit(){return B(this,null,function*(){this.userId=yield this.auth.getUserId(),this.userId&&(yield this.loadCampaigns())})}loadCampaigns(){return B(this,null,function*(){if(!this.userId)return;let e=an(this.firestore,"character"),t=yield Gr(Iu(e,Ag("userId","==",this.userId)));this.userCharacters=t.docs.map(a=>me({id:a.id},a.data()));let r=an(this.firestore,"campaigns"),s=(yield Gr(r)).docs.map(a=>me({id:a.id},a.data())),o=new Map;for(let a of s)this.userCharacters?.some(c=>a.characterIds?.includes(c.id))&&o.set(a.id,a);for(let a of s)a.creatorId===this.userId&&o.set(a.id,a);this.campaigns=Array.from(o.values())})}openCampaign(e){this.router.navigate(["/campaign",e])}openCreatePopup(){this.showCreatePopup=!0}closeCreatePopup(){this.showCreatePopup=!1,this.newCampaignName="",this.newCampaignDescription=""}createCampaign(){return B(this,null,function*(){if(this.userId){if(!this.newCampaignName.trim()){alert("A kamp\xE1ny neve k\xF6telez\u0151!");return}yield bu(an(this.firestore,"campaigns"),{name:this.newCampaignName,description:this.newCampaignDescription,creatorId:this.userId,characterIds:[],createdAt:new Date}),this.closeCreatePopup(),yield this.loadCampaigns()}})}deleteCampaign(){return B(this,null,function*(){if(this.id)try{let e=it(this.firestore,"campaigns",this.id),r=(yield qr(e)).data();for(let i=0;i<r?.characterIds.length;i++){let s=it(this.firestore,`character/${r?.characterIds[i]}`);yield Wt(s,{campaign:!1})}yield kg(e),this.showLeavePopup=!1,this.router.navigate(["/campaigns"]),yield this.loadCampaigns()}catch{alert("Hiba t\xF6rt\xE9nt a t\xF6rl\xE9s sor\xE1n!")}})}saveId(e){return B(this,null,function*(){this.id=e})}static \u0275fac=function(t){return new(t||n)(xe(Wn),xe(Hi),xe(cn))};static \u0275cmp=_t({type:n,selectors:[["app-campaigns"]],decls:12,vars:3,consts:[["id","bg"],["id","main"],["id","new",1,"top"],[3,"click"],["id","bot",1,"grid"],["class","card",4,"ngFor","ngForOf"],["class","popup-overlay",4,"ngIf"],["class","popup-backdrop",4,"ngIf"],[1,"card"],[1,"button-row"],["class","delete-btn",3,"click",4,"ngIf"],[1,"delete-btn",3,"click"],[1,"popup-overlay"],[1,"popup",3,"click"],["type","text","placeholder","Kamp\xE1ny neve",3,"ngModelChange","ngModel"],["placeholder","Le\xEDr\xE1s",3,"ngModelChange","ngModel"],[1,"buttons"],[1,"cancel-btn",3,"click"],[1,"create-btn",3,"click"],[1,"popup-backdrop"],[1,"popup2"],[1,"btn-group"],[1,"cancel",3,"click"],[1,"confirm",3,"click"]],template:function(t,r){t&1&&(be(0,"app-navbar"),_(1,"div",0)(2,"div",1)(3,"div",2)(4,"h1"),E(5,"Kamp\xE1nyaim"),g(),_(6,"button",3),ae("click",function(){return r.openCreatePopup()}),E(7,"\xDAj Kamp\xE1ny L\xE9trehoz\xE1sa"),g()(),_(8,"div",4),Z(9,vZ,7,2,"div",5),g(),Z(10,yZ,11,2,"div",6)(11,xZ,9,0,"div",7),g()()),t&2&&(C(9),W("ngForOf",r.campaigns),C(),W("ngIf",r.showCreatePopup),C(),W("ngIf",r.showLeavePopup))},dependencies:[At,Rn,Ht,fn,$i,kr,fr,er,ji],styles:['@charset "UTF-8";#main[_ngcontent-%COMP%]{margin-top:50px;padding:20px;font-family:Merienda}#bg[_ngcontent-%COMP%]{min-height:100vh;background-image:url(/../assets/images/card_bg.jpg);background-size:cover;background-position:center;background-repeat:no-repeat}button[_ngcontent-%COMP%]{font-family:Merienda}.top[_ngcontent-%COMP%]{padding:20px;display:flex;justify-content:space-between;align-items:center}#new[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#7c0f0f;color:#fff;border:none;border-radius:10px;min-height:30px;padding:8px 12px;cursor:pointer}.card[_ngcontent-%COMP%]{background-image:url(/assets/images/characterSelection.png);background-repeat:no-repeat;background-size:cover;background-position:center center;border:1px solid #ccc;border-radius:10px;padding:16px;box-shadow:2px 2px 8px #0000001a;width:400px;height:135px;position:relative}.card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:3.5%;font-family:Berk}.card[_ngcontent-%COMP%]:hover{transform:scale(1.02)}.card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#7c0f0f;color:#fff;border:none;border-radius:8px;padding:6px 10px;cursor:pointer;margin-top:10px;float:right}#bot.grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(450px,1fr));gap:20px;padding:20px}.campaign-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(240px,1fr));gap:16px}.card[_ngcontent-%COMP%]:hover{transform:translateY(-3px)}.open-btn[_ngcontent-%COMP%]{background:#f7ef8a;color:#3a1c1c;border:none;padding:8px 12px;border-radius:6px;cursor:pointer;font-weight:700;transition:.2s}.open-btn[_ngcontent-%COMP%]:hover{background:#fff2a3}.popup-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#0009;display:flex;justify-content:center;align-items:center;z-index:1000}.popup[_ngcontent-%COMP%]{background:#3a0a0a;border-radius:10px;padding:30px;width:90%;max-width:450px;display:flex;flex-direction:column;gap:14px;margin:0 auto;text-align:center;color:#fff}.popup[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 10px}.popup[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .popup[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;padding:10px;border-radius:6px;border:1px solid #e8d56b;background:#00000059;color:#fff;font-size:14px;text-align:center;font-family:Cinzel}.popup[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{min-height:80px;resize:vertical}.popup[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:10px}.popup[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;padding:10px;border:none;border-radius:6px;cursor:pointer;font-weight:700}.popup[_ngcontent-%COMP%]   .cancel-btn[_ngcontent-%COMP%]{background:#c94444;color:#fff}.popup[_ngcontent-%COMP%]   .create-btn[_ngcontent-%COMP%]{background:#f7ef8a;color:#000}.delete-btn[_ngcontent-%COMP%]{background-color:#8b0000;color:#fff;padding:8px 12px;border:none;border-radius:6px;cursor:pointer;font-weight:600;transition:.2s}.delete-btn[_ngcontent-%COMP%]:hover{background-color:#5a0000}.button-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:100%}.button-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:35%}.popup-backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#000000b3;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);display:flex;justify-content:center;align-items:center;z-index:999}.popup2[_ngcontent-%COMP%]{background:#2b1b19;border:2px solid #d5b462;box-shadow:0 0 18px #d5b46273;border-radius:12px;padding:25px;width:350px;text-align:center;animation:_ngcontent-%COMP%_fadeIn .25s ease-out;color:#f4e9c4}.popup2[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:10px;font-size:1.3rem;color:#f7d277;font-weight:700}.popup2[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:20px;font-size:1rem;opacity:.85}.btn-group[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:12px}button.cancel[_ngcontent-%COMP%], button.confirm[_ngcontent-%COMP%]{width:50%;padding:10px 0;font-weight:700;border-radius:8px;cursor:pointer;transition:.2s;font-size:.95rem}button.cancel[_ngcontent-%COMP%]{background:#444;color:#fff;border:1px solid #999}button.cancel[_ngcontent-%COMP%]:hover{background:#555}button.confirm[_ngcontent-%COMP%]{background:#7c0f0f;border:1px solid #d5b462;color:#fff}button.confirm[_ngcontent-%COMP%]:hover{background:#a31212;transform:scale(1.03)}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:scale(.92)}to{opacity:1;transform:scale(1)}}']})};function EZ(n,e){n&1&&(_(0,"div")(1,"p")(2,"b"),E(3,"Te vagy a kamp\xE1ny l\xE9trehoz\xF3ja"),g()()())}function wZ(n,e){if(n&1){let t=De();_(0,"button",14),ae("click",function(){re(t);let i=D(3);return ie(i.showLeavePopup=!0)}),E(1," Kil\xE9p\xE9s "),g()}}function CZ(n,e){if(n&1){let t=De();_(0,"button",15),ae("click",function(){re(t);let i=D().$implicit,s=D(2);return ie(s.openCharacter(i.id))}),E(1," Megnyit\xE1s "),g()}}function bZ(n,e){if(n&1&&(_(0,"div",10)(1,"h3"),E(2),g(),_(3,"p"),E(4),g(),_(5,"div",11),Z(6,wZ,2,0,"button",12)(7,CZ,2,0,"button",13),g()()),n&2){let t=e.$implicit,r=D(2);C(2),pe(t.appearance==null?null:t.appearance.name),C(2),ge("Szint: ",t.lvl,""),C(2),W("ngIf",t.userId===r.currentUserId||r.isOwner),C(),W("ngIf",t.userId===r.currentUserId||r.isOwner)}}function IZ(n,e){if(n&1){let t=De();_(0,"div",5)(1,"h1"),E(2),g(),_(3,"p",6),E(4),g(),_(5,"span"),E(6),_(7,"button",7),ae("click",function(){re(t);let i=D();return ie(i.copyToClipboard("https://szakdolgozat-8a45b.web.app/join/campaign/"+i.id))}),E(8,"M\xE1sol\xE1s"),g()(),Z(9,EZ,4,0,"div",4),_(10,"h2"),E(11,"Karakterek a kamp\xE1nyban"),g(),_(12,"div",8),Z(13,bZ,8,4,"div",9),g()()}if(n&2){let t=D();C(2),pe(t.campaign.name),C(2),pe(t.campaign.description),C(2),ge("","https://szakdolgozat-8a45b.web.app/join/campaign/"+t.id," "),C(3),W("ngIf",t.isOwner),C(4),W("ngForOf",t.charactersInCampaign)}}function TZ(n,e){if(n&1){let t=De();_(0,"div",16)(1,"div",17)(2,"h3"),E(3,"Biztosan ki akarsz l\xE9pni a kamp\xE1nyb\xF3l?"),g(),_(4,"p"),E(5,"Ezzel a karaktered kiker\xFCl a kamp\xE1nyb\xF3l."),g(),_(6,"div",18)(7,"button",19),ae("click",function(){re(t);let i=D();return ie(i.showLeavePopup=!1)}),E(8,"M\xE9gse"),g(),_(9,"button",20),ae("click",function(){re(t);let i=D();return ie(i.leaveCampaign())}),E(10,"Kil\xE9p\xE9s"),g()()()()}}function SZ(n,e){n&1&&(_(0,"p"),E(1,"Bet\xF6lt\xE9s..."),g())}function DZ(n,e){n&1&&(_(0,"div")(1,"p"),E(2,"Bet\xF6lt\xE9s..."),g()())}var C_=class n{constructor(e,t,r,i){this.route=e;this.firestore=t;this.afAuth=r;this.router=i}campaign=null;charactersInCampaign=[];currentUserId=null;id="";isOwner=!1;showLeavePopup=!1;copied=!1;ngOnInit(){return B(this,null,function*(){let e=this.route.snapshot.paramMap.get("id");this.id=e,e&&(yield this.loadCampaign(e)),of(this.afAuth,t=>{this.currentUserId=t?.uid??null,this.campaign&&this.campaign.creatorId===this.currentUserId&&(this.isOwner=!0)})})}loadCampaign(e){return B(this,null,function*(){let t=it(this.firestore,"campaigns",e),r=yield qr(t);r.exists()&&(this.campaign=me({id:r.id},r.data()),this.isOwner=this.campaign.createdBy===this.currentUserId,this.loadCharacters())})}loadCharacters(){return B(this,null,function*(){if(!this.campaign?.characterIds?.length)return;let e=an(this.firestore,"character"),t=yield Gr(e);this.charactersInCampaign=t.docs.filter(r=>this.campaign.characterIds.includes(r.id)).map(r=>me({id:r.id},r.data()))})}canOpenCharacter(e){return this.currentUserId===e||this.currentUserId===this.campaign?.creatorId}openCharacter(e){this.router.navigate(["/character-sheet",e])}leaveCampaign(){return B(this,null,function*(){if(!this.currentUserId||!this.campaign?.id)return;let e=this.charactersInCampaign?.find(i=>i.userId===this.currentUserId);if(!e)return;let t=it(this.firestore,"campaigns",this.campaign.id);yield Wt(t,{characterIds:SO(e.id)});let r=it(this.firestore,`character/${e.id}`);yield Wt(r,{campaign:!1}),this.router.navigate(["/campaigns"])})}copyToClipboard(e){navigator.clipboard.writeText(e).then(()=>{this.copied=!0,setTimeout(()=>{this.copied=!1},1500)})}static \u0275fac=function(t){return new(t||n)(xe(ci),xe(Wn),xe(xi),xe(cn))};static \u0275cmp=_t({type:n,selectors:[["app-campaign"]],decls:7,vars:4,consts:[["loading",""],["id","bg"],["class","campaign-container",4,"ngIf","ngIfElse"],["class","popup-backdrop",4,"ngIf"],[4,"ngIf"],[1,"campaign-container"],[1,"description"],["id","copy",3,"click"],[1,"character-list"],["class","character-card",4,"ngFor","ngForOf"],[1,"character-card"],[1,"button-row"],["class","leave-btn",3,"click",4,"ngIf"],["class","open-btn",3,"click",4,"ngIf"],[1,"leave-btn",3,"click"],[1,"open-btn",3,"click"],[1,"popup-backdrop"],[1,"popup"],[1,"btn-group"],[1,"cancel",3,"click"],[1,"confirm",3,"click"]],template:function(t,r){if(t&1&&(be(0,"app-navbar"),_(1,"div",1),Z(2,IZ,14,5,"div",2)(3,TZ,11,0,"div",3)(4,SZ,2,0,"ng-template",null,0,un)(6,DZ,3,0,"div",4),g()),t&2){let i=Lt(5);C(2),W("ngIf",r.campaign)("ngIfElse",i),C(),W("ngIf",r.showLeavePopup),C(3),W("ngIf",!r.campaign)}},dependencies:[At,Rn,Ht,fn,er,ji],styles:['@charset "UTF-8";.campaign-container[_ngcontent-%COMP%]{margin-top:50px;max-width:900px;padding:20px;color:#000}#bg[_ngcontent-%COMP%]{min-height:100vh;background-image:url(/../assets/images/card_bg.jpg);background-size:cover;background-position:center;background-repeat:no-repeat;font-family:Merienda}.description[_ngcontent-%COMP%]{font-style:italic;margin-bottom:25px;font-size:1.2rem;opacity:.9}span[_ngcontent-%COMP%]{font-family:Darker}h3[_ngcontent-%COMP%]{font-family:Berk}#copy[_ngcontent-%COMP%]{background-color:green;min-height:20px;min-width:40px;font-size:xx-small;padding:5px}.character-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:15px;justify-content:center;grid-template-columns:repeat(auto-fit,minmax(450px,1fr))}.character-card[_ngcontent-%COMP%]{background-image:url(/assets/images/characterSelection.png);background-repeat:no-repeat;background-size:cover;background-position:center center;border:1px solid #ccc;border-radius:10px;padding:16px;box-shadow:2px 2px 8px #0000001a;width:400px;height:135px;position:relative}.popup-backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#0009;display:flex;align-items:center;justify-content:center;z-index:2000}.popup[_ngcontent-%COMP%]{background:#2b2b2b;padding:25px;border-radius:10px;border:1px solid #d5b462;width:350px;text-align:center;color:#fff;font-family:Merienda}.popup[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .popup[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-family:Merienda}.btn-group[_ngcontent-%COMP%]{margin-top:20px;display:flex;justify-content:space-between}button[_ngcontent-%COMP%]{padding:8px 14px;border-radius:6px;cursor:pointer;border:none;font-family:Merienda}.cancel[_ngcontent-%COMP%]{background:#444;color:#fff}.confirm[_ngcontent-%COMP%]{background:#b02424;color:#fff}.leave-btn[_ngcontent-%COMP%]{background:#b02424;color:#fff;padding:10px 16px;border-radius:6px}.character-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px 12px;border-radius:6px;border:none;cursor:pointer;font-weight:600;font-size:14px;transition:all .2s ease}.button-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:100%}.button-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:35%}.open-btn[_ngcontent-%COMP%]{background-color:#7c0f0f;color:#fff;right:0}.open-btn[_ngcontent-%COMP%]:hover{background-color:#5a0b0b}.character-card[_ngcontent-%COMP%]   .leave-btn[_ngcontent-%COMP%]{background-color:#c94444;color:#fff}.character-card[_ngcontent-%COMP%]   .leave-btn[_ngcontent-%COMP%]:hover{background-color:#a23333}@media (max-width: 500px){.character-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:block;width:100%;margin:5px 0}}']})};var w4={};w4.version="0.18.5";var Hs=1200,Qu=1252,kZ=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],CI={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},bI=function(n){kZ.indexOf(n)!=-1&&(Qu=CI[0]=n)};function AZ(){bI(1252)}var fs=function(n){Hs=n,bI(n)};function C4(){fs(1200),AZ()}function fI(n){for(var e=[],t=0,r=n.length;t<r;++t)e[t]=n.charCodeAt(t);return e}function MZ(n){for(var e=[],t=0;t<n.length>>1;++t)e[t]=String.fromCharCode(n.charCodeAt(2*t)+(n.charCodeAt(2*t+1)<<8));return e.join("")}function b4(n){for(var e=[],t=0;t<n.length>>1;++t)e[t]=String.fromCharCode(n.charCodeAt(2*t+1)+(n.charCodeAt(2*t)<<8));return e.join("")}var mh=function(n){var e=n.charCodeAt(0),t=n.charCodeAt(1);return e==255&&t==254?MZ(n.slice(2)):e==254&&t==255?b4(n.slice(2)):e==65279?n.slice(1):n},b_=function(e){return String.fromCharCode(e)},yF=function(e){return String.fromCharCode(e)},Ut;var Un=null,ph=!0,Ra="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function xF(n){for(var e="",t=0,r=0,i=0,s=0,o=0,a=0,c=0,l=0;l<n.length;)t=n.charCodeAt(l++),s=t>>2,r=n.charCodeAt(l++),o=(t&3)<<4|r>>4,i=n.charCodeAt(l++),a=(r&15)<<2|i>>6,c=i&63,isNaN(r)?a=c=64:isNaN(i)&&(c=64),e+=Ra.charAt(s)+Ra.charAt(o)+Ra.charAt(a)+Ra.charAt(c);return e}function Di(n){var e="",t=0,r=0,i=0,s=0,o=0,a=0,c=0;n=n.replace(/[^\w\+\/\=]/g,"");for(var l=0;l<n.length;)s=Ra.indexOf(n.charAt(l++)),o=Ra.indexOf(n.charAt(l++)),t=s<<2|o>>4,e+=String.fromCharCode(t),a=Ra.indexOf(n.charAt(l++)),r=(o&15)<<4|a>>2,a!==64&&(e+=String.fromCharCode(r)),c=Ra.indexOf(n.charAt(l++)),i=(a&3)<<6|c,c!==64&&(e+=String.fromCharCode(i));return e}var Ct=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),zc=function(){if(typeof Buffer<"u"){var n=!Buffer.from;if(!n)try{Buffer.from("foo","utf8")}catch{n=!0}return n?function(e,t){return t?new Buffer(e,t):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}}();function Na(n){return Ct?Buffer.alloc?Buffer.alloc(n):new Buffer(n):typeof Uint8Array<"u"?new Uint8Array(n):new Array(n)}function EF(n){return Ct?Buffer.allocUnsafe?Buffer.allocUnsafe(n):new Buffer(n):typeof Uint8Array<"u"?new Uint8Array(n):new Array(n)}var ds=function(e){return Ct?zc(e,"binary"):e.split("").map(function(t){return t.charCodeAt(0)&255})};function Wc(n){if(Array.isArray(n))return n.map(function(r){return String.fromCharCode(r)}).join("");for(var e=[],t=0;t<n.length;++t)e[t]=String.fromCharCode(n[t]);return e.join("")}function II(n){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(n instanceof ArrayBuffer)return II(new Uint8Array(n));for(var e=new Array(n.length),t=0;t<n.length;++t)e[t]=n[t];return e}var Ma=Ct?function(n){return Buffer.concat(n.map(function(e){return Buffer.isBuffer(e)?e:zc(e)}))}:function(n){if(typeof Uint8Array<"u"){var e=0,t=0;for(e=0;e<n.length;++e)t+=n[e].length;var r=new Uint8Array(t),i=0;for(e=0,t=0;e<n.length;t+=i,++e)if(i=n[e].length,n[e]instanceof Uint8Array)r.set(n[e],t);else{if(typeof n[e]=="string")throw"wtf";r.set(new Uint8Array(n[e]),t)}return r}return[].concat.apply([],n.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function RZ(n){for(var e=[],t=0,r=n.length+250,i=Na(n.length+255),s=0;s<n.length;++s){var o=n.charCodeAt(s);if(o<128)i[t++]=o;else if(o<2048)i[t++]=192|o>>6&31,i[t++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var a=n.charCodeAt(++s)&1023;i[t++]=240|o>>8&7,i[t++]=128|o>>2&63,i[t++]=128|a>>6&15|(o&3)<<4,i[t++]=128|a&63}else i[t++]=224|o>>12&15,i[t++]=128|o>>6&63,i[t++]=128|o&63;t>r&&(e.push(i.slice(0,t)),t=0,i=Na(65535),r=65530)}return e.push(i.slice(0,t)),Ma(e)}var Nr=/\u0000/g,gh=/[\u0001-\u0006]/g;function Ku(n){for(var e="",t=n.length-1;t>=0;)e+=n.charAt(t--);return e}function hs(n,e){var t=""+n;return t.length>=e?t:wn("0",e-t.length)+t}function TI(n,e){var t=""+n;return t.length>=e?t:wn(" ",e-t.length)+t}function P_(n,e){var t=""+n;return t.length>=e?t:t+wn(" ",e-t.length)}function PZ(n,e){var t=""+Math.round(n);return t.length>=e?t:wn("0",e-t.length)+t}function OZ(n,e){var t=""+n;return t.length>=e?t:wn("0",e-t.length)+t}var wF=Math.pow(2,32);function qu(n,e){if(n>wF||n<-wF)return PZ(n,e);var t=Math.round(n);return OZ(t,e)}function O_(n,e){return e=e||0,n.length>=7+e&&(n.charCodeAt(e)|32)===103&&(n.charCodeAt(e+1)|32)===101&&(n.charCodeAt(e+2)|32)===110&&(n.charCodeAt(e+3)|32)===101&&(n.charCodeAt(e+4)|32)===114&&(n.charCodeAt(e+5)|32)===97&&(n.charCodeAt(e+6)|32)===108}var CF=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],nI=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function NZ(n){return n||(n={}),n[0]="General",n[1]="0",n[2]="0.00",n[3]="#,##0",n[4]="#,##0.00",n[9]="0%",n[10]="0.00%",n[11]="0.00E+00",n[12]="# ?/?",n[13]="# ??/??",n[14]="m/d/yy",n[15]="d-mmm-yy",n[16]="d-mmm",n[17]="mmm-yy",n[18]="h:mm AM/PM",n[19]="h:mm:ss AM/PM",n[20]="h:mm",n[21]="h:mm:ss",n[22]="m/d/yy h:mm",n[37]="#,##0 ;(#,##0)",n[38]="#,##0 ;[Red](#,##0)",n[39]="#,##0.00;(#,##0.00)",n[40]="#,##0.00;[Red](#,##0.00)",n[45]="mm:ss",n[46]="[h]:mm:ss",n[47]="mmss.0",n[48]="##0.0E+0",n[49]="@",n[56]='"\u4E0A\u5348/\u4E0B\u5348 "hh"\u6642"mm"\u5206"ss"\u79D2 "',n}var st={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"\u4E0A\u5348/\u4E0B\u5348 "hh"\u6642"mm"\u5206"ss"\u79D2 "'},bF={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},FZ={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function N_(n,e,t){for(var r=n<0?-1:1,i=n*r,s=0,o=1,a=0,c=1,l=0,u=0,f=Math.floor(i);l<e&&(f=Math.floor(i),a=f*o+s,u=f*l+c,!(i-f<5e-8));)i=1/(i-f),s=o,o=a,c=l,l=u;if(u>e&&(l>e?(u=c,a=s):(u=l,a=o)),!t)return[0,r*a,u];var h=Math.floor(r*a/u);return[h,r*a-h*u,u]}function Vc(n,e,t){if(n>2958465||n<0)return null;var r=n|0,i=Math.floor(86400*(n-r)),s=0,o=[],a={D:r,T:i,u:86400*(n-r)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(a.u)<1e-6&&(a.u=0),e&&e.date1904&&(r+=1462),a.u>.9999&&(a.u=0,++i==86400&&(a.T=i=0,++r,++a.D)),r===60)o=t?[1317,10,29]:[1900,2,29],s=3;else if(r===0)o=t?[1317,8,29]:[1900,1,0],s=6;else{r>60&&--r;var c=new Date(1900,0,1);c.setDate(c.getDate()+r-1),o=[c.getFullYear(),c.getMonth()+1,c.getDate()],s=c.getDay(),r<60&&(s=(s+6)%7),t&&(s=$Z(c,o))}return a.y=o[0],a.m=o[1],a.d=o[2],a.S=i%60,i=Math.floor(i/60),a.M=i%60,i=Math.floor(i/60),a.H=i,a.q=s,a}var I4=new Date(1899,11,31,0,0,0),LZ=I4.getTime(),VZ=new Date(1900,2,1,0,0,0);function T4(n,e){var t=n.getTime();return e?t-=1461*24*60*60*1e3:n>=VZ&&(t+=24*60*60*1e3),(t-(LZ+(n.getTimezoneOffset()-I4.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function SI(n){return n.indexOf(".")==-1?n:n.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function BZ(n){return n.indexOf("E")==-1?n:n.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function UZ(n){var e=n<0?12:11,t=SI(n.toFixed(12));return t.length<=e||(t=n.toPrecision(10),t.length<=e)?t:n.toExponential(5)}function jZ(n){var e=SI(n.toFixed(11));return e.length>(n<0?12:11)||e==="0"||e==="-0"?n.toPrecision(6):e}function Dh(n){var e=Math.floor(Math.log(Math.abs(n))*Math.LOG10E),t;return e>=-4&&e<=-1?t=n.toPrecision(10+e):Math.abs(e)<=9?t=UZ(n):e===10?t=n.toFixed(10).substr(0,12):t=jZ(n),SI(BZ(t.toUpperCase()))}function jc(n,e){switch(typeof n){case"string":return n;case"boolean":return n?"TRUE":"FALSE";case"number":return(n|0)===n?n.toString(10):Dh(n);case"undefined":return"";case"object":if(n==null)return"";if(n instanceof Date)return Gi(14,T4(n,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+n)}function $Z(n,e){e[0]-=581;var t=n.getDay();return n<60&&(t=(t+6)%7),t}function HZ(n,e,t,r){var i="",s=0,o=0,a=t.y,c,l=0;switch(n){case 98:a=t.y+543;case 121:switch(e.length){case 1:case 2:c=a%100,l=2;break;default:c=a%1e4,l=4;break}break;case 109:switch(e.length){case 1:case 2:c=t.m,l=e.length;break;case 3:return nI[t.m-1][1];case 5:return nI[t.m-1][0];default:return nI[t.m-1][2]}break;case 100:switch(e.length){case 1:case 2:c=t.d,l=e.length;break;case 3:return CF[t.q][0];default:return CF[t.q][1]}break;case 104:switch(e.length){case 1:case 2:c=1+(t.H+11)%12,l=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:c=t.H,l=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:c=t.M,l=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return t.u===0&&(e=="s"||e=="ss")?hs(t.S,e.length):(r>=2?o=r===3?1e3:100:o=r===1?10:1,s=Math.round(o*(t.S+t.u)),s>=60*o&&(s=0),e==="s"?s===0?"0":""+s/o:(i=hs(s,2+r),e==="ss"?i.substr(0,2):"."+i.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":c=t.D*24+t.H;break;case"[m]":case"[mm]":c=(t.D*24+t.H)*60+t.M;break;case"[s]":case"[ss]":c=((t.D*24+t.H)*60+t.M)*60+Math.round(t.S+t.u);break;default:throw"bad abstime format: "+e}l=e.length===3?1:2;break;case 101:c=a,l=1;break}var u=l>0?hs(c,l):"";return u}function Pa(n){var e=3;if(n.length<=e)return n;for(var t=n.length%e,r=n.substr(0,t);t!=n.length;t+=e)r+=(r.length>0?",":"")+n.substr(t,e);return r}var S4=/%/g;function zZ(n,e,t){var r=e.replace(S4,""),i=e.length-r.length;return Oo(n,r,t*Math.pow(10,2*i))+wn("%",i)}function WZ(n,e,t){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return Oo(n,e.substr(0,r),t/Math.pow(10,3*(e.length-r)))}function D4(n,e){var t,r=n.indexOf("E")-n.indexOf(".")-1;if(n.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+D4(n,-e);var i=n.indexOf(".");i===-1&&(i=n.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),t=(e/Math.pow(10,s)).toPrecision(r+1+(i+s)%i),t.indexOf("e")===-1){var o=Math.floor(Math.log(e)*Math.LOG10E);for(t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(o-t.length+s):t+="E+"+(o-s);t.substr(0,2)==="0.";)t=t.charAt(0)+t.substr(2,i)+"."+t.substr(2+i),t=t.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(a,c,l,u){return c+l+u.substr(0,(i+s)%i)+"."+u.substr(s)+"E"})}else t=e.toExponential(r);return n.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),n.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}var k4=/# (\?+)( ?)\/( ?)(\d+)/;function qZ(n,e,t){var r=parseInt(n[4],10),i=Math.round(e*r),s=Math.floor(i/r),o=i-s*r,a=r;return t+(s===0?"":""+s)+" "+(o===0?wn(" ",n[1].length+1+n[4].length):TI(o,n[1].length)+n[2]+"/"+n[3]+hs(a,n[4].length))}function GZ(n,e,t){return t+(e===0?"":""+e)+wn(" ",n[1].length+2+n[4].length)}var A4=/^#*0*\.([0#]+)/,M4=/\).*[0#]/,R4=/\(###\) ###\\?-####/;function Kr(n){for(var e="",t,r=0;r!=n.length;++r)switch(t=n.charCodeAt(r)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(t)}return e}function IF(n,e){var t=Math.pow(10,e);return""+Math.round(n*t)/t}function TF(n,e){var t=n-Math.floor(n),r=Math.pow(10,e);return e<(""+Math.round(t*r)).length?0:Math.round(t*r)}function KZ(n,e){return e<(""+Math.round((n-Math.floor(n))*Math.pow(10,e))).length?1:0}function XZ(n){return n<2147483647&&n>-2147483648?""+(n>=0?n|0:n-1|0):""+Math.floor(n)}function Wi(n,e,t){if(n.charCodeAt(0)===40&&!e.match(M4)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?Wi("n",r,t):"("+Wi("n",r,-t)+")"}if(e.charCodeAt(e.length-1)===44)return WZ(n,e,t);if(e.indexOf("%")!==-1)return zZ(n,e,t);if(e.indexOf("E")!==-1)return D4(e,t);if(e.charCodeAt(0)===36)return"$"+Wi(n,e.substr(e.charAt(1)==" "?2:1),t);var i,s,o,a,c=Math.abs(t),l=t<0?"-":"";if(e.match(/^00+$/))return l+qu(c,e.length);if(e.match(/^[#?]+$/))return i=qu(t,0),i==="0"&&(i=""),i.length>e.length?i:Kr(e.substr(0,e.length-i.length))+i;if(s=e.match(k4))return qZ(s,c,l);if(e.match(/^#+0+$/))return l+qu(c,e.length-e.indexOf("0"));if(s=e.match(A4))return i=IF(t,s[1].length).replace(/^([^\.]+)$/,"$1."+Kr(s[1])).replace(/\.$/,"."+Kr(s[1])).replace(/\.(\d*)$/,function(y,v){return"."+v+wn("0",Kr(s[1]).length-v.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return l+IF(c,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return l+Pa(qu(c,0));if(s=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+Wi(n,e,-t):Pa(""+(Math.floor(t)+KZ(t,s[1].length)))+"."+hs(TF(t,s[1].length),s[1].length);if(s=e.match(/^#,#*,#0/))return Wi(n,e.replace(/^#,#*,/,""),t);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Ku(Wi(n,e.replace(/[\\-]/g,""),t)),o=0,Ku(Ku(e.replace(/\\/g,"")).replace(/[0#]/g,function(y){return o<i.length?i.charAt(o++):y==="0"?"0":""}));if(e.match(R4))return i=Wi(n,"##########",t),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var u="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),a=N_(c,Math.pow(10,o)-1,!1),i=""+l,u=Oo("n",s[1],a[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),i+=u+s[2]+"/"+s[3],u=P_(a[2],o),u.length<s[4].length&&(u=Kr(s[4].substr(s[4].length-u.length))+u),i+=u,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),a=N_(c,Math.pow(10,o)-1,!0),l+(a[0]||(a[1]?"":"0"))+" "+(a[1]?TI(a[1],o)+s[2]+"/"+s[3]+P_(a[2],o):wn(" ",2*o+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=qu(t,0),e.length<=i.length?i:Kr(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0?]+)\.([#0]+)$/)){i=""+t.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=i.indexOf(".");var f=e.indexOf(".")-o,h=e.length-i.length-f;return Kr(e.substr(0,f)+i+e.substr(e.length-h))}if(s=e.match(/^00,000\.([#0]*0)$/))return o=TF(t,s[1].length),t<0?"-"+Wi(n,e,-t):Pa(XZ(t)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(y){return"00,"+(y.length<3?hs(0,3-y.length):"")+y})+"."+hs(o,s[1].length);switch(e){case"###,##0.00":return Wi(n,"#,##0.00",t);case"###,###":case"##,###":case"#,###":var p=Pa(qu(c,0));return p!=="0"?l+p:"";case"###,###.00":return Wi(n,"###,##0.00",t).replace(/^0\./,".");case"#,###.00":return Wi(n,"#,##0.00",t).replace(/^0\./,".");default:}throw new Error("unsupported format |"+e+"|")}function YZ(n,e,t){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return Oo(n,e.substr(0,r),t/Math.pow(10,3*(e.length-r)))}function QZ(n,e,t){var r=e.replace(S4,""),i=e.length-r.length;return Oo(n,r,t*Math.pow(10,2*i))+wn("%",i)}function P4(n,e){var t,r=n.indexOf("E")-n.indexOf(".")-1;if(n.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+P4(n,-e);var i=n.indexOf(".");i===-1&&(i=n.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),t=(e/Math.pow(10,s)).toPrecision(r+1+(i+s)%i),!t.match(/[Ee]/)){var o=Math.floor(Math.log(e)*Math.LOG10E);t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(o-t.length+s):t+="E+"+(o-s),t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(a,c,l,u){return c+l+u.substr(0,(i+s)%i)+"."+u.substr(s)+"E"})}else t=e.toExponential(r);return n.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),n.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}function $s(n,e,t){if(n.charCodeAt(0)===40&&!e.match(M4)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?$s("n",r,t):"("+$s("n",r,-t)+")"}if(e.charCodeAt(e.length-1)===44)return YZ(n,e,t);if(e.indexOf("%")!==-1)return QZ(n,e,t);if(e.indexOf("E")!==-1)return P4(e,t);if(e.charCodeAt(0)===36)return"$"+$s(n,e.substr(e.charAt(1)==" "?2:1),t);var i,s,o,a,c=Math.abs(t),l=t<0?"-":"";if(e.match(/^00+$/))return l+hs(c,e.length);if(e.match(/^[#?]+$/))return i=""+t,t===0&&(i=""),i.length>e.length?i:Kr(e.substr(0,e.length-i.length))+i;if(s=e.match(k4))return GZ(s,c,l);if(e.match(/^#+0+$/))return l+hs(c,e.length-e.indexOf("0"));if(s=e.match(A4))return i=(""+t).replace(/^([^\.]+)$/,"$1."+Kr(s[1])).replace(/\.$/,"."+Kr(s[1])),i=i.replace(/\.(\d*)$/,function(y,v){return"."+v+wn("0",Kr(s[1]).length-v.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return l+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return l+Pa(""+c);if(s=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+$s(n,e,-t):Pa(""+t)+"."+wn("0",s[1].length);if(s=e.match(/^#,#*,#0/))return $s(n,e.replace(/^#,#*,/,""),t);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Ku($s(n,e.replace(/[\\-]/g,""),t)),o=0,Ku(Ku(e.replace(/\\/g,"")).replace(/[0#]/g,function(y){return o<i.length?i.charAt(o++):y==="0"?"0":""}));if(e.match(R4))return i=$s(n,"##########",t),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var u="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),a=N_(c,Math.pow(10,o)-1,!1),i=""+l,u=Oo("n",s[1],a[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),i+=u+s[2]+"/"+s[3],u=P_(a[2],o),u.length<s[4].length&&(u=Kr(s[4].substr(s[4].length-u.length))+u),i+=u,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),a=N_(c,Math.pow(10,o)-1,!0),l+(a[0]||(a[1]?"":"0"))+" "+(a[1]?TI(a[1],o)+s[2]+"/"+s[3]+P_(a[2],o):wn(" ",2*o+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=""+t,e.length<=i.length?i:Kr(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0]+)\.([#0]+)$/)){i=""+t.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=i.indexOf(".");var f=e.indexOf(".")-o,h=e.length-i.length-f;return Kr(e.substr(0,f)+i+e.substr(e.length-h))}if(s=e.match(/^00,000\.([#0]*0)$/))return t<0?"-"+$s(n,e,-t):Pa(""+t).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(y){return"00,"+(y.length<3?hs(0,3-y.length):"")+y})+"."+hs(0,s[1].length);switch(e){case"###,###":case"##,###":case"#,###":var p=Pa(""+c);return p!=="0"?l+p:"";default:if(e.match(/\.[0#?]*$/))return $s(n,e.slice(0,e.lastIndexOf(".")),t)+Kr(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function Oo(n,e,t){return(t|0)===t?$s(n,e,t):Wi(n,e,t)}function ZZ(n){for(var e=[],t=!1,r=0,i=0;r<n.length;++r)switch(n.charCodeAt(r)){case 34:t=!t;break;case 95:case 42:case 92:++r;break;case 59:e[e.length]=n.substr(i,r-i),i=r+1}if(e[e.length]=n.substr(i),t===!0)throw new Error("Format |"+n+"| unterminated string ");return e}var O4=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function ed(n){for(var e=0,t="",r="";e<n.length;)switch(t=n.charAt(e)){case"G":O_(n,e)&&(e+=6),e++;break;case'"':for(;n.charCodeAt(++e)!==34&&e<n.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(n.charAt(e+1)==="1"||n.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"\u4E0A":if(n.substr(e,3).toUpperCase()==="A/P"||n.substr(e,5).toUpperCase()==="AM/PM"||n.substr(e,5).toUpperCase()==="\u4E0A\u5348/\u4E0B\u5348")return!0;++e;break;case"[":for(r=t;n.charAt(e++)!=="]"&&e<n.length;)r+=n.charAt(e);if(r.match(O4))return!0;break;case".":case"0":case"#":for(;e<n.length&&("0#?.,E+-%".indexOf(t=n.charAt(++e))>-1||t=="\\"&&n.charAt(e+1)=="-"&&"0#".indexOf(n.charAt(e+2))>-1););break;case"?":for(;n.charAt(++e)===t;);break;case"*":++e,(n.charAt(e)==" "||n.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<n.length&&"0123456789".indexOf(n.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function JZ(n,e,t,r){for(var i=[],s="",o=0,a="",c="t",l,u,f,h="H";o<n.length;)switch(a=n.charAt(o)){case"G":if(!O_(n,o))throw new Error("unrecognized character "+a+" in "+n);i[i.length]={t:"G",v:"General"},o+=7;break;case'"':for(s="";(f=n.charCodeAt(++o))!==34&&o<n.length;)s+=String.fromCharCode(f);i[i.length]={t:"t",v:s},++o;break;case"\\":var p=n.charAt(++o),y=p==="("||p===")"?p:"t";i[i.length]={t:y,v:p},++o;break;case"_":i[i.length]={t:"t",v:" "},o+=2;break;case"@":i[i.length]={t:"T",v:e},++o;break;case"B":case"b":if(n.charAt(o+1)==="1"||n.charAt(o+1)==="2"){if(l==null&&(l=Vc(e,t,n.charAt(o+1)==="2"),l==null))return"";i[i.length]={t:"X",v:n.substr(o,2)},c=a,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":a=a.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||l==null&&(l=Vc(e,t),l==null))return"";for(s=a;++o<n.length&&n.charAt(o).toLowerCase()===a;)s+=a;a==="m"&&c.toLowerCase()==="h"&&(a="M"),a==="h"&&(a=h),i[i.length]={t:a,v:s},c=a;break;case"A":case"a":case"\u4E0A":var v={t:a,v:a};if(l==null&&(l=Vc(e,t)),n.substr(o,3).toUpperCase()==="A/P"?(l!=null&&(v.v=l.H>=12?"P":"A"),v.t="T",h="h",o+=3):n.substr(o,5).toUpperCase()==="AM/PM"?(l!=null&&(v.v=l.H>=12?"PM":"AM"),v.t="T",o+=5,h="h"):n.substr(o,5).toUpperCase()==="\u4E0A\u5348/\u4E0B\u5348"?(l!=null&&(v.v=l.H>=12?"\u4E0B\u5348":"\u4E0A\u5348"),v.t="T",o+=5,h="h"):(v.t="t",++o),l==null&&v.t==="T")return"";i[i.length]=v,c=a;break;case"[":for(s=a;n.charAt(o++)!=="]"&&o<n.length;)s+=n.charAt(o);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(O4)){if(l==null&&(l=Vc(e,t),l==null))return"";i[i.length]={t:"Z",v:s.toLowerCase()},c=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",ed(n)||(i[i.length]={t:"t",v:s}));break;case".":if(l!=null){for(s=a;++o<n.length&&(a=n.charAt(o))==="0";)s+=a;i[i.length]={t:"s",v:s};break}case"0":case"#":for(s=a;++o<n.length&&"0#?.,E+-%".indexOf(a=n.charAt(o))>-1;)s+=a;i[i.length]={t:"n",v:s};break;case"?":for(s=a;n.charAt(++o)===a;)s+=a;i[i.length]={t:a,v:s},c=a;break;case"*":++o,(n.charAt(o)==" "||n.charAt(o)=="*")&&++o;break;case"(":case")":i[i.length]={t:r===1?"t":a,v:a},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=a;o<n.length&&"0123456789".indexOf(n.charAt(++o))>-1;)s+=n.charAt(o);i[i.length]={t:"D",v:s};break;case" ":i[i.length]={t:a,v:a},++o;break;case"$":i[i.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=\u20ACacfijklopqrtuvwxzP".indexOf(a)===-1)throw new Error("unrecognized character "+a+" in "+n);i[i.length]={t:"t",v:a},++o;break}var w=0,F=0,V;for(o=i.length-1,c="t";o>=0;--o)switch(i[o].t){case"h":case"H":i[o].t=h,c="h",w<1&&(w=1);break;case"s":(V=i[o].v.match(/\.0+$/))&&(F=Math.max(F,V[0].length-1)),w<3&&(w=3);case"d":case"y":case"M":case"e":c=i[o].t;break;case"m":c==="s"&&(i[o].t="M",w<2&&(w=2));break;case"X":break;case"Z":w<1&&i[o].v.match(/[Hh]/)&&(w=1),w<2&&i[o].v.match(/[Mm]/)&&(w=2),w<3&&i[o].v.match(/[Ss]/)&&(w=3)}switch(w){case 0:break;case 1:l.u>=.5&&(l.u=0,++l.S),l.S>=60&&(l.S=0,++l.M),l.M>=60&&(l.M=0,++l.H);break;case 2:l.u>=.5&&(l.u=0,++l.S),l.S>=60&&(l.S=0,++l.M);break}var k="",X;for(o=0;o<i.length;++o)switch(i[o].t){case"t":case"T":case" ":case"D":break;case"X":i[o].v="",i[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[o].v=HZ(i[o].t.charCodeAt(0),i[o].v,l,F),i[o].t="t";break;case"n":case"?":for(X=o+1;i[X]!=null&&((a=i[X].t)==="?"||a==="D"||(a===" "||a==="t")&&i[X+1]!=null&&(i[X+1].t==="?"||i[X+1].t==="t"&&i[X+1].v==="/")||i[o].t==="("&&(a===" "||a==="n"||a===")")||a==="t"&&(i[X].v==="/"||i[X].v===" "&&i[X+1]!=null&&i[X+1].t=="?"));)i[o].v+=i[X].v,i[X]={v:"",t:";"},++X;k+=i[o].v,o=X-1;break;case"G":i[o].t="t",i[o].v=jc(e,t);break}var se="",G,b;if(k.length>0){k.charCodeAt(0)==40?(G=e<0&&k.charCodeAt(0)===45?-e:e,b=Oo("n",k,G)):(G=e<0&&r>1?-e:e,b=Oo("n",k,G),G<0&&i[0]&&i[0].t=="t"&&(b=b.substr(1),i[0].v="-"+i[0].v)),X=b.length-1;var I=i.length;for(o=0;o<i.length;++o)if(i[o]!=null&&i[o].t!="t"&&i[o].v.indexOf(".")>-1){I=o;break}var T=i.length;if(I===i.length&&b.indexOf("E")===-1){for(o=i.length-1;o>=0;--o)i[o]==null||"n?".indexOf(i[o].t)===-1||(X>=i[o].v.length-1?(X-=i[o].v.length,i[o].v=b.substr(X+1,i[o].v.length)):X<0?i[o].v="":(i[o].v=b.substr(0,X+1),X=-1),i[o].t="t",T=o);X>=0&&T<i.length&&(i[T].v=b.substr(0,X+1)+i[T].v)}else if(I!==i.length&&b.indexOf("E")===-1){for(X=b.indexOf(".")-1,o=I;o>=0;--o)if(!(i[o]==null||"n?".indexOf(i[o].t)===-1)){for(u=i[o].v.indexOf(".")>-1&&o===I?i[o].v.indexOf(".")-1:i[o].v.length-1,se=i[o].v.substr(u+1);u>=0;--u)X>=0&&(i[o].v.charAt(u)==="0"||i[o].v.charAt(u)==="#")&&(se=b.charAt(X--)+se);i[o].v=se,i[o].t="t",T=o}for(X>=0&&T<i.length&&(i[T].v=b.substr(0,X+1)+i[T].v),X=b.indexOf(".")+1,o=I;o<i.length;++o)if(!(i[o]==null||"n?(".indexOf(i[o].t)===-1&&o!==I)){for(u=i[o].v.indexOf(".")>-1&&o===I?i[o].v.indexOf(".")+1:0,se=i[o].v.substr(0,u);u<i[o].v.length;++u)X<b.length&&(se+=b.charAt(X++));i[o].v=se,i[o].t="t",T=o}}}for(o=0;o<i.length;++o)i[o]!=null&&"n?".indexOf(i[o].t)>-1&&(G=r>1&&e<0&&o>0&&i[o-1].v==="-"?-e:e,i[o].v=Oo(i[o].t,i[o].v,G),i[o].t="t");var R="";for(o=0;o!==i.length;++o)i[o]!=null&&(R+=i[o].v);return R}var SF=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function DF(n,e){if(e==null)return!1;var t=parseFloat(e[2]);switch(e[1]){case"=":if(n==t)return!0;break;case">":if(n>t)return!0;break;case"<":if(n<t)return!0;break;case"<>":if(n!=t)return!0;break;case">=":if(n>=t)return!0;break;case"<=":if(n<=t)return!0;break}return!1}function eJ(n,e){var t=ZZ(n),r=t.length,i=t[r-1].indexOf("@");if(r<4&&i>-1&&--r,t.length>4)throw new Error("cannot find right format for |"+t.join("|")+"|");if(typeof e!="number")return[4,t.length===4||i>-1?t[t.length-1]:"@"];switch(t.length){case 1:t=i>-1?["General","General","General",t[0]]:[t[0],t[0],t[0],"@"];break;case 2:t=i>-1?[t[0],t[0],t[0],t[1]]:[t[0],t[1],t[0],"@"];break;case 3:t=i>-1?[t[0],t[1],t[0],t[2]]:[t[0],t[1],t[2],"@"];break;case 4:break}var s=e>0?t[0]:e<0?t[1]:t[2];if(t[0].indexOf("[")===-1&&t[1].indexOf("[")===-1)return[r,s];if(t[0].match(/\[[=<>]/)!=null||t[1].match(/\[[=<>]/)!=null){var o=t[0].match(SF),a=t[1].match(SF);return DF(e,o)?[r,t[0]]:DF(e,a)?[r,t[1]]:[r,t[o!=null&&a!=null?2:1]]}return[r,s]}function Gi(n,e,t){t==null&&(t={});var r="";switch(typeof n){case"string":n=="m/d/yy"&&t.dateNF?r=t.dateNF:r=n;break;case"number":n==14&&t.dateNF?r=t.dateNF:r=(t.table!=null?t.table:st)[n],r==null&&(r=t.table&&t.table[bF[n]]||st[bF[n]]),r==null&&(r=FZ[n]||"General");break}if(O_(r,0))return jc(e,t);e instanceof Date&&(e=T4(e,t.date1904));var i=eJ(r,e);if(O_(i[1]))return jc(e,t);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return JZ(i[1],e,t,i[0])}function Bc(n,e){if(typeof e!="number"){e=+e||-1;for(var t=0;t<392;++t){if(st[t]==null){e<0&&(e=t);continue}if(st[t]==n){e=t;break}}e<0&&(e=391)}return st[e]=n,e}function N4(){st=NZ()}var tJ={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},F4=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function nJ(n){var e=typeof n=="number"?st[n]:n;return e=e.replace(F4,"(\\d+)"),new RegExp("^"+e+"$")}function rJ(n,e,t){var r=-1,i=-1,s=-1,o=-1,a=-1,c=-1;(e.match(F4)||[]).forEach(function(f,h){var p=parseInt(t[h+1],10);switch(f.toLowerCase().charAt(0)){case"y":r=p;break;case"d":s=p;break;case"h":o=p;break;case"s":c=p;break;case"m":o>=0?a=p:i=p;break}}),c>=0&&a==-1&&i>=0&&(a=i,i=-1);var l=(""+(r>=0?r:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);l.length==7&&(l="0"+l),l.length==8&&(l="20"+l);var u=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(a>=0?a:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return o==-1&&a==-1&&c==-1?l:r==-1&&i==-1&&s==-1?u:l+"T"+u}var iJ=function(){var n={};n.version="1.2.0";function e(){for(var b=0,I=new Array(256),T=0;T!=256;++T)b=T,b=b&1?-306674912^b>>>1:b>>>1,b=b&1?-306674912^b>>>1:b>>>1,b=b&1?-306674912^b>>>1:b>>>1,b=b&1?-306674912^b>>>1:b>>>1,b=b&1?-306674912^b>>>1:b>>>1,b=b&1?-306674912^b>>>1:b>>>1,b=b&1?-306674912^b>>>1:b>>>1,b=b&1?-306674912^b>>>1:b>>>1,I[T]=b;return typeof Int32Array<"u"?new Int32Array(I):I}var t=e();function r(b){var I=0,T=0,R=0,P=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(R=0;R!=256;++R)P[R]=b[R];for(R=0;R!=256;++R)for(T=b[R],I=256+R;I<4096;I+=256)T=P[I]=T>>>8^b[T&255];var A=[];for(R=1;R!=16;++R)A[R-1]=typeof Int32Array<"u"?P.subarray(R*256,R*256+256):P.slice(R*256,R*256+256);return A}var i=r(t),s=i[0],o=i[1],a=i[2],c=i[3],l=i[4],u=i[5],f=i[6],h=i[7],p=i[8],y=i[9],v=i[10],w=i[11],F=i[12],V=i[13],k=i[14];function X(b,I){for(var T=I^-1,R=0,P=b.length;R<P;)T=T>>>8^t[(T^b.charCodeAt(R++))&255];return~T}function se(b,I){for(var T=I^-1,R=b.length-15,P=0;P<R;)T=k[b[P++]^T&255]^V[b[P++]^T>>8&255]^F[b[P++]^T>>16&255]^w[b[P++]^T>>>24]^v[b[P++]]^y[b[P++]]^p[b[P++]]^h[b[P++]]^f[b[P++]]^u[b[P++]]^l[b[P++]]^c[b[P++]]^a[b[P++]]^o[b[P++]]^s[b[P++]]^t[b[P++]];for(R+=15;P<R;)T=T>>>8^t[(T^b[P++])&255];return~T}function G(b,I){for(var T=I^-1,R=0,P=b.length,A=0,N=0;R<P;)A=b.charCodeAt(R++),A<128?T=T>>>8^t[(T^A)&255]:A<2048?(T=T>>>8^t[(T^(192|A>>6&31))&255],T=T>>>8^t[(T^(128|A&63))&255]):A>=55296&&A<57344?(A=(A&1023)+64,N=b.charCodeAt(R++)&1023,T=T>>>8^t[(T^(240|A>>8&7))&255],T=T>>>8^t[(T^(128|A>>2&63))&255],T=T>>>8^t[(T^(128|N>>6&15|(A&3)<<4))&255],T=T>>>8^t[(T^(128|N&63))&255]):(T=T>>>8^t[(T^(224|A>>12&15))&255],T=T>>>8^t[(T^(128|A>>6&63))&255],T=T>>>8^t[(T^(128|A&63))&255]);return~T}return n.table=t,n.bstr=X,n.buf=se,n.str=G,n}(),Dt=function(){var e={};e.version="1.2.1";function t(S,U){for(var O=S.split("/"),L=U.split("/"),j=0,H=0,te=Math.min(O.length,L.length);j<te;++j){if(H=O[j].length-L[j].length)return H;if(O[j]!=L[j])return O[j]<L[j]?-1:1}return O.length-L.length}function r(S){if(S.charAt(S.length-1)=="/")return S.slice(0,-1).indexOf("/")===-1?S:r(S.slice(0,-1));var U=S.lastIndexOf("/");return U===-1?S:S.slice(0,U+1)}function i(S){if(S.charAt(S.length-1)=="/")return i(S.slice(0,-1));var U=S.lastIndexOf("/");return U===-1?S:S.slice(U+1)}function s(S,U){typeof U=="string"&&(U=new Date(U));var O=U.getHours();O=O<<6|U.getMinutes(),O=O<<5|U.getSeconds()>>>1,S.write_shift(2,O);var L=U.getFullYear()-1980;L=L<<4|U.getMonth()+1,L=L<<5|U.getDate(),S.write_shift(2,L)}function o(S){var U=S.read_shift(2)&65535,O=S.read_shift(2)&65535,L=new Date,j=O&31;O>>>=5;var H=O&15;O>>>=4,L.setMilliseconds(0),L.setFullYear(O+1980),L.setMonth(H-1),L.setDate(j);var te=U&31;U>>>=5;var le=U&63;return U>>>=6,L.setHours(U),L.setMinutes(le),L.setSeconds(te<<1),L}function a(S){pr(S,0);for(var U={},O=0;S.l<=S.length-4;){var L=S.read_shift(2),j=S.read_shift(2),H=S.l+j,te={};switch(L){case 21589:O=S.read_shift(1),O&1&&(te.mtime=S.read_shift(4)),j>5&&(O&2&&(te.atime=S.read_shift(4)),O&4&&(te.ctime=S.read_shift(4))),te.mtime&&(te.mt=new Date(te.mtime*1e3));break}S.l=H,U[L]=te}return U}var c;function l(){return c||(c={})}function u(S,U){if(S[0]==80&&S[1]==75)return od(S,U);if((S[0]|32)==109&&(S[1]|32)==105)return Ba(S,U);if(S.length<512)throw new Error("CFB file size "+S.length+" < 512");var O=3,L=512,j=0,H=0,te=0,le=0,ee=0,ne=[],oe=S.slice(0,512);pr(oe,0);var ye=f(oe);switch(O=ye[0],O){case 3:L=512;break;case 4:L=4096;break;case 0:if(ye[1]==0)return od(S,U);default:throw new Error("Major Version: Expected 3 or 4 saw "+O)}L!==512&&(oe=S.slice(0,L),pr(oe,28));var Ee=S.slice(0,L);h(oe,O);var Le=oe.read_shift(4,"i");if(O===3&&Le!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Le);oe.l+=4,te=oe.read_shift(4,"i"),oe.l+=4,oe.chk("00100000","Mini Stream Cutoff Size: "),le=oe.read_shift(4,"i"),j=oe.read_shift(4,"i"),ee=oe.read_shift(4,"i"),H=oe.read_shift(4,"i");for(var we=-1,Te=0;Te<109&&(we=oe.read_shift(4,"i"),!(we<0));++Te)ne[Te]=we;var Xe=p(S,L);w(ee,H,Xe,L,ne);var jt=V(Xe,te,ne,L);jt[te].name="!Directory",j>0&&le!==N&&(jt[le].name="!MiniFAT"),jt[ne[0]].name="!FAT",jt.fat_addrs=ne,jt.ssz=L;var Kn={},Yt=[],bn=[],Ks=[];k(te,jt,Xe,Yt,j,Kn,bn,le),y(bn,Ks,Yt),Yt.shift();var $a={FileIndex:bn,FullPaths:Ks};return U&&U.raw&&($a.raw={header:Ee,sectors:Xe}),$a}function f(S){if(S[S.l]==80&&S[S.l+1]==75)return[0,0];S.chk(Oe,"Header Signature: "),S.l+=16;var U=S.read_shift(2,"u");return[S.read_shift(2,"u"),U]}function h(S,U){var O=9;switch(S.l+=2,O=S.read_shift(2)){case 9:if(U!=3)throw new Error("Sector Shift: Expected 9 saw "+O);break;case 12:if(U!=4)throw new Error("Sector Shift: Expected 12 saw "+O);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+O)}S.chk("0600","Mini Sector Shift: "),S.chk("000000000000","Reserved: ")}function p(S,U){for(var O=Math.ceil(S.length/U)-1,L=[],j=1;j<O;++j)L[j-1]=S.slice(j*U,(j+1)*U);return L[O-1]=S.slice(O*U),L}function y(S,U,O){for(var L=0,j=0,H=0,te=0,le=0,ee=O.length,ne=[],oe=[];L<ee;++L)ne[L]=oe[L]=L,U[L]=O[L];for(;le<oe.length;++le)L=oe[le],j=S[L].L,H=S[L].R,te=S[L].C,ne[L]===L&&(j!==-1&&ne[j]!==j&&(ne[L]=ne[j]),H!==-1&&ne[H]!==H&&(ne[L]=ne[H])),te!==-1&&(ne[te]=L),j!==-1&&L!=ne[L]&&(ne[j]=ne[L],oe.lastIndexOf(j)<le&&oe.push(j)),H!==-1&&L!=ne[L]&&(ne[H]=ne[L],oe.lastIndexOf(H)<le&&oe.push(H));for(L=1;L<ee;++L)ne[L]===L&&(H!==-1&&ne[H]!==H?ne[L]=ne[H]:j!==-1&&ne[j]!==j&&(ne[L]=ne[j]));for(L=1;L<ee;++L)if(S[L].type!==0){if(le=L,le!=ne[le])do le=ne[le],U[L]=U[le]+"/"+U[L];while(le!==0&&ne[le]!==-1&&le!=ne[le]);ne[L]=-1}for(U[0]+="/",L=1;L<ee;++L)S[L].type!==2&&(U[L]+="/")}function v(S,U,O){for(var L=S.start,j=S.size,H=[],te=L;O&&j>0&&te>=0;)H.push(U.slice(te*A,te*A+A)),j-=A,te=Lc(O,te*4);return H.length===0?Bn(0):Ma(H).slice(0,S.size)}function w(S,U,O,L,j){var H=N;if(S===N){if(U!==0)throw new Error("DIFAT chain shorter than expected")}else if(S!==-1){var te=O[S],le=(L>>>2)-1;if(!te)return;for(var ee=0;ee<le&&(H=Lc(te,ee*4))!==N;++ee)j.push(H);w(Lc(te,L-4),U-1,O,L,j)}}function F(S,U,O,L,j){var H=[],te=[];j||(j=[]);var le=L-1,ee=0,ne=0;for(ee=U;ee>=0;){j[ee]=!0,H[H.length]=ee,te.push(S[ee]);var oe=O[Math.floor(ee*4/L)];if(ne=ee*4&le,L<4+ne)throw new Error("FAT boundary crossed: "+ee+" 4 "+L);if(!S[oe])break;ee=Lc(S[oe],ne)}return{nodes:H,data:BF([te])}}function V(S,U,O,L){var j=S.length,H=[],te=[],le=[],ee=[],ne=L-1,oe=0,ye=0,Ee=0,Le=0;for(oe=0;oe<j;++oe)if(le=[],Ee=oe+U,Ee>=j&&(Ee-=j),!te[Ee]){ee=[];var we=[];for(ye=Ee;ye>=0;){we[ye]=!0,te[ye]=!0,le[le.length]=ye,ee.push(S[ye]);var Te=O[Math.floor(ye*4/L)];if(Le=ye*4&ne,L<4+Le)throw new Error("FAT boundary crossed: "+ye+" 4 "+L);if(!S[Te]||(ye=Lc(S[Te],Le),we[ye]))break}H[Ee]={nodes:le,data:BF([ee])}}return H}function k(S,U,O,L,j,H,te,le){for(var ee=0,ne=L.length?2:0,oe=U[S].data,ye=0,Ee=0,Le;ye<oe.length;ye+=128){var we=oe.slice(ye,ye+128);pr(we,64),Ee=we.read_shift(2),Le=q_(we,0,Ee-ne),L.push(Le);var Te={name:Le,type:we.read_shift(1),color:we.read_shift(1),L:we.read_shift(4,"i"),R:we.read_shift(4,"i"),C:we.read_shift(4,"i"),clsid:we.read_shift(16),state:we.read_shift(4,"i"),start:0,size:0},Xe=we.read_shift(2)+we.read_shift(2)+we.read_shift(2)+we.read_shift(2);Xe!==0&&(Te.ct=X(we,we.l-8));var jt=we.read_shift(2)+we.read_shift(2)+we.read_shift(2)+we.read_shift(2);jt!==0&&(Te.mt=X(we,we.l-8)),Te.start=we.read_shift(4,"i"),Te.size=we.read_shift(4,"i"),Te.size<0&&Te.start<0&&(Te.size=Te.type=0,Te.start=N,Te.name=""),Te.type===5?(ee=Te.start,j>0&&ee!==N&&(U[ee].name="!StreamData")):Te.size>=4096?(Te.storage="fat",U[Te.start]===void 0&&(U[Te.start]=F(O,Te.start,U.fat_addrs,U.ssz)),U[Te.start].name=Te.name,Te.content=U[Te.start].data.slice(0,Te.size)):(Te.storage="minifat",Te.size<0?Te.size=0:ee!==N&&Te.start!==N&&U[ee]&&(Te.content=v(Te,U[ee].data,(U[le]||{}).data))),Te.content&&pr(Te.content,0),H[Le]=Te,te.push(Te)}}function X(S,U){return new Date((nr(S,U+4)/1e7*Math.pow(2,32)+nr(S,U)/1e7-11644473600)*1e3)}function se(S,U){return l(),u(c.readFileSync(S),U)}function G(S,U){var O=U&&U.type;switch(O||Ct&&Buffer.isBuffer(S)&&(O="buffer"),O||"base64"){case"file":return se(S,U);case"base64":return u(ds(Di(S)),U);case"binary":return u(ds(S),U)}return u(S,U)}function b(S,U){var O=U||{},L=O.root||"Root Entry";if(S.FullPaths||(S.FullPaths=[]),S.FileIndex||(S.FileIndex=[]),S.FullPaths.length!==S.FileIndex.length)throw new Error("inconsistent CFB structure");S.FullPaths.length===0&&(S.FullPaths[0]=L+"/",S.FileIndex[0]={name:L,type:5}),O.CLSID&&(S.FileIndex[0].clsid=O.CLSID),I(S)}function I(S){var U="Sh33tJ5";if(!Dt.find(S,"/"+U)){var O=Bn(4);O[0]=55,O[1]=O[3]=50,O[2]=54,S.FileIndex.push({name:U,type:2,content:O,size:4,L:69,R:69,C:69}),S.FullPaths.push(S.FullPaths[0]+U),T(S)}}function T(S,U){b(S);for(var O=!1,L=!1,j=S.FullPaths.length-1;j>=0;--j){var H=S.FileIndex[j];switch(H.type){case 0:L?O=!0:(S.FileIndex.pop(),S.FullPaths.pop());break;case 1:case 2:case 5:L=!0,isNaN(H.R*H.L*H.C)&&(O=!0),H.R>-1&&H.L>-1&&H.R==H.L&&(O=!0);break;default:O=!0;break}}if(!(!O&&!U)){var te=new Date(1987,1,19),le=0,ee=Object.create?Object.create(null):{},ne=[];for(j=0;j<S.FullPaths.length;++j)ee[S.FullPaths[j]]=!0,S.FileIndex[j].type!==0&&ne.push([S.FullPaths[j],S.FileIndex[j]]);for(j=0;j<ne.length;++j){var oe=r(ne[j][0]);L=ee[oe],L||(ne.push([oe,{name:i(oe).replace("/",""),type:1,clsid:$e,ct:te,mt:te,content:null}]),ee[oe]=!0)}for(ne.sort(function(Le,we){return t(Le[0],we[0])}),S.FullPaths=[],S.FileIndex=[],j=0;j<ne.length;++j)S.FullPaths[j]=ne[j][0],S.FileIndex[j]=ne[j][1];for(j=0;j<ne.length;++j){var ye=S.FileIndex[j],Ee=S.FullPaths[j];if(ye.name=i(Ee).replace("/",""),ye.L=ye.R=ye.C=-(ye.color=1),ye.size=ye.content?ye.content.length:0,ye.start=0,ye.clsid=ye.clsid||$e,j===0)ye.C=ne.length>1?1:-1,ye.size=0,ye.type=5;else if(Ee.slice(-1)=="/"){for(le=j+1;le<ne.length&&r(S.FullPaths[le])!=Ee;++le);for(ye.C=le>=ne.length?-1:le,le=j+1;le<ne.length&&r(S.FullPaths[le])!=r(Ee);++le);ye.R=le>=ne.length?-1:le,ye.type=1}else r(S.FullPaths[j+1]||"")==r(Ee)&&(ye.R=j+1),ye.type=2}}}function R(S,U){var O=U||{};if(O.fileType=="mad")return Wh(S,O);switch(T(S),O.fileType){case"zip":return Va(S,O)}var L=function(Le){for(var we=0,Te=0,Xe=0;Xe<Le.FileIndex.length;++Xe){var jt=Le.FileIndex[Xe];if(jt.content){var Kn=jt.content.length;Kn>0&&(Kn<4096?we+=Kn+63>>6:Te+=Kn+511>>9)}}for(var Yt=Le.FullPaths.length+3>>2,bn=we+7>>3,Ks=we+127>>7,$a=bn+Te+Yt+Ks,_s=$a+127>>7,Jc=_s<=109?0:Math.ceil((_s-109)/127);$a+_s+Jc+127>>7>_s;)Jc=++_s<=109?0:Math.ceil((_s-109)/127);var Ai=[1,Jc,_s,Ks,Yt,Te,we,0];return Le.FileIndex[0].size=we<<6,Ai[7]=(Le.FileIndex[0].start=Ai[0]+Ai[1]+Ai[2]+Ai[3]+Ai[4]+Ai[5])+(Ai[6]+7>>3),Ai}(S),j=Bn(L[7]<<9),H=0,te=0;{for(H=0;H<8;++H)j.write_shift(1,Ce[H]);for(H=0;H<8;++H)j.write_shift(2,0);for(j.write_shift(2,62),j.write_shift(2,3),j.write_shift(2,65534),j.write_shift(2,9),j.write_shift(2,6),H=0;H<3;++H)j.write_shift(2,0);for(j.write_shift(4,0),j.write_shift(4,L[2]),j.write_shift(4,L[0]+L[1]+L[2]+L[3]-1),j.write_shift(4,0),j.write_shift(4,4096),j.write_shift(4,L[3]?L[0]+L[1]+L[2]-1:N),j.write_shift(4,L[3]),j.write_shift(-4,L[1]?L[0]-1:N),j.write_shift(4,L[1]),H=0;H<109;++H)j.write_shift(-4,H<L[2]?L[1]+H:-1)}if(L[1])for(te=0;te<L[1];++te){for(;H<236+te*127;++H)j.write_shift(-4,H<L[2]?L[1]+H:-1);j.write_shift(-4,te===L[1]-1?N:te+1)}var le=function(Le){for(te+=Le;H<te-1;++H)j.write_shift(-4,H+1);Le&&(++H,j.write_shift(-4,N))};for(te=H=0,te+=L[1];H<te;++H)j.write_shift(-4,Ne.DIFSECT);for(te+=L[2];H<te;++H)j.write_shift(-4,Ne.FATSECT);le(L[3]),le(L[4]);for(var ee=0,ne=0,oe=S.FileIndex[0];ee<S.FileIndex.length;++ee)oe=S.FileIndex[ee],oe.content&&(ne=oe.content.length,!(ne<4096)&&(oe.start=te,le(ne+511>>9)));for(le(L[6]+7>>3);j.l&511;)j.write_shift(-4,Ne.ENDOFCHAIN);for(te=H=0,ee=0;ee<S.FileIndex.length;++ee)oe=S.FileIndex[ee],oe.content&&(ne=oe.content.length,!(!ne||ne>=4096)&&(oe.start=te,le(ne+63>>6)));for(;j.l&511;)j.write_shift(-4,Ne.ENDOFCHAIN);for(H=0;H<L[4]<<2;++H){var ye=S.FullPaths[H];if(!ye||ye.length===0){for(ee=0;ee<17;++ee)j.write_shift(4,0);for(ee=0;ee<3;++ee)j.write_shift(4,-1);for(ee=0;ee<12;++ee)j.write_shift(4,0);continue}oe=S.FileIndex[H],H===0&&(oe.start=oe.size?oe.start-1:N);var Ee=H===0&&O.root||oe.name;if(ne=2*(Ee.length+1),j.write_shift(64,Ee,"utf16le"),j.write_shift(2,ne),j.write_shift(1,oe.type),j.write_shift(1,oe.color),j.write_shift(-4,oe.L),j.write_shift(-4,oe.R),j.write_shift(-4,oe.C),oe.clsid)j.write_shift(16,oe.clsid,"hex");else for(ee=0;ee<4;++ee)j.write_shift(4,0);j.write_shift(4,oe.state||0),j.write_shift(4,0),j.write_shift(4,0),j.write_shift(4,0),j.write_shift(4,0),j.write_shift(4,oe.start),j.write_shift(4,oe.size),j.write_shift(4,0)}for(H=1;H<S.FileIndex.length;++H)if(oe=S.FileIndex[H],oe.size>=4096)if(j.l=oe.start+1<<9,Ct&&Buffer.isBuffer(oe.content))oe.content.copy(j,j.l,0,oe.size),j.l+=oe.size+511&-512;else{for(ee=0;ee<oe.size;++ee)j.write_shift(1,oe.content[ee]);for(;ee&511;++ee)j.write_shift(1,0)}for(H=1;H<S.FileIndex.length;++H)if(oe=S.FileIndex[H],oe.size>0&&oe.size<4096)if(Ct&&Buffer.isBuffer(oe.content))oe.content.copy(j,j.l,0,oe.size),j.l+=oe.size+63&-64;else{for(ee=0;ee<oe.size;++ee)j.write_shift(1,oe.content[ee]);for(;ee&63;++ee)j.write_shift(1,0)}if(Ct)j.l=j.length;else for(;j.l<j.length;)j.write_shift(1,0);return j}function P(S,U){var O=S.FullPaths.map(function(ee){return ee.toUpperCase()}),L=O.map(function(ee){var ne=ee.split("/");return ne[ne.length-(ee.slice(-1)=="/"?2:1)]}),j=!1;U.charCodeAt(0)===47?(j=!0,U=O[0].slice(0,-1)+U):j=U.indexOf("/")!==-1;var H=U.toUpperCase(),te=j===!0?O.indexOf(H):L.indexOf(H);if(te!==-1)return S.FileIndex[te];var le=!H.match(gh);for(H=H.replace(Nr,""),le&&(H=H.replace(gh,"!")),te=0;te<O.length;++te)if((le?O[te].replace(gh,"!"):O[te]).replace(Nr,"")==H||(le?L[te].replace(gh,"!"):L[te]).replace(Nr,"")==H)return S.FileIndex[te];return null}var A=64,N=-2,Oe="d0cf11e0a1b11ae1",Ce=[208,207,17,224,161,177,26,225],$e="00000000000000000000000000000000",Ne={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:N,FREESECT:-1,HEADER_SIGNATURE:Oe,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:$e,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function ft(S,U,O){l();var L=R(S,O);c.writeFileSync(U,L)}function ke(S){for(var U=new Array(S.length),O=0;O<S.length;++O)U[O]=String.fromCharCode(S[O]);return U.join("")}function Be(S,U){var O=R(S,U);switch(U&&U.type||"buffer"){case"file":return l(),c.writeFileSync(U.filename,O),O;case"binary":return typeof O=="string"?O:ke(O);case"base64":return xF(typeof O=="string"?O:ke(O));case"buffer":if(Ct)return Buffer.isBuffer(O)?O:zc(O);case"array":return typeof O=="string"?ds(O):O}return O}var fe;function z(S){try{var U=S.InflateRaw,O=new U;if(O._processChunk(new Uint8Array([3,0]),O._finishFlushFlag),O.bytesRead)fe=S;else throw new Error("zlib does not expose bytesRead")}catch(L){console.error("cannot use native zlib: "+(L.message||L))}}function J(S,U){if(!fe)return jh(S,U);var O=fe.InflateRaw,L=new O,j=L._processChunk(S.slice(S.l),L._finishFlushFlag);return S.l+=L.bytesRead,j}function Y(S){return fe?fe.deflateRawSync(S):ot(S)}var K=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],he=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Me=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Se(S){var U=(S<<1|S<<11)&139536|(S<<5|S<<15)&558144;return(U>>16|U>>8|U)&255}for(var Re=typeof Uint8Array<"u",_e=Re?new Uint8Array(256):[],ht=0;ht<256;++ht)_e[ht]=Se(ht);function q(S,U){var O=_e[S&255];return U<=8?O>>>8-U:(O=O<<8|_e[S>>8&255],U<=16?O>>>16-U:(O=O<<8|_e[S>>16&255],O>>>24-U))}function qt(S,U){var O=U&7,L=U>>>3;return(S[L]|(O<=6?0:S[L+1]<<8))>>>O&3}function vt(S,U){var O=U&7,L=U>>>3;return(S[L]|(O<=5?0:S[L+1]<<8))>>>O&7}function Pt(S,U){var O=U&7,L=U>>>3;return(S[L]|(O<=4?0:S[L+1]<<8))>>>O&15}function ct(S,U){var O=U&7,L=U>>>3;return(S[L]|(O<=3?0:S[L+1]<<8))>>>O&31}function Ae(S,U){var O=U&7,L=U>>>3;return(S[L]|(O<=1?0:S[L+1]<<8))>>>O&127}function pn(S,U,O){var L=U&7,j=U>>>3,H=(1<<O)-1,te=S[j]>>>L;return O<8-L||(te|=S[j+1]<<8-L,O<16-L)||(te|=S[j+2]<<16-L,O<24-L)||(te|=S[j+3]<<24-L),te&H}function Br(S,U,O){var L=U&7,j=U>>>3;return L<=5?S[j]|=(O&7)<<L:(S[j]|=O<<L&255,S[j+1]=(O&7)>>8-L),U+3}function ui(S,U,O){var L=U&7,j=U>>>3;return O=(O&1)<<L,S[j]|=O,U+1}function di(S,U,O){var L=U&7,j=U>>>3;return O<<=L,S[j]|=O&255,O>>>=8,S[j+1]=O,U+8}function Vo(S,U,O){var L=U&7,j=U>>>3;return O<<=L,S[j]|=O&255,O>>>=8,S[j+1]=O&255,S[j+2]=O>>>8,U+16}function ms(S,U){var O=S.length,L=2*O>U?2*O:U+5,j=0;if(O>=U)return S;if(Ct){var H=EF(L);if(S.copy)S.copy(H);else for(;j<S.length;++j)H[j]=S[j];return H}else if(Re){var te=new Uint8Array(L);if(te.set)te.set(S);else for(;j<O;++j)te[j]=S[j];return te}return S.length=L,S}function ir(S){for(var U=new Array(S),O=0;O<S;++O)U[O]=0;return U}function fi(S,U,O){var L=1,j=0,H=0,te=0,le=0,ee=S.length,ne=Re?new Uint16Array(32):ir(32);for(H=0;H<32;++H)ne[H]=0;for(H=ee;H<O;++H)S[H]=0;ee=S.length;var oe=Re?new Uint16Array(ee):ir(ee);for(H=0;H<ee;++H)ne[j=S[H]]++,L<j&&(L=j),oe[H]=0;for(ne[0]=0,H=1;H<=L;++H)ne[H+16]=le=le+ne[H-1]<<1;for(H=0;H<ee;++H)le=S[H],le!=0&&(oe[H]=ne[le+16]++);var ye=0;for(H=0;H<ee;++H)if(ye=S[H],ye!=0)for(le=q(oe[H],L)>>L-ye,te=(1<<L+4-ye)-1;te>=0;--te)U[le|te<<ye]=ye&15|H<<4;return L}var ki=Re?new Uint16Array(512):ir(512),vn=Re?new Uint16Array(32):ir(32);if(!Re){for(var Ot=0;Ot<512;++Ot)ki[Ot]=0;for(Ot=0;Ot<32;++Ot)vn[Ot]=0}(function(){for(var S=[],U=0;U<32;U++)S.push(5);fi(S,vn,32);var O=[];for(U=0;U<=143;U++)O.push(8);for(;U<=255;U++)O.push(9);for(;U<=279;U++)O.push(7);for(;U<=287;U++)O.push(8);fi(O,ki,288)})();var Ur=function(){for(var U=Re?new Uint8Array(32768):[],O=0,L=0;O<Me.length-1;++O)for(;L<Me[O+1];++L)U[L]=O;for(;L<32768;++L)U[L]=29;var j=Re?new Uint8Array(259):[];for(O=0,L=0;O<he.length-1;++O)for(;L<he[O+1];++L)j[L]=O;function H(le,ee){for(var ne=0;ne<le.length;){var oe=Math.min(65535,le.length-ne),ye=ne+oe==le.length;for(ee.write_shift(1,+ye),ee.write_shift(2,oe),ee.write_shift(2,~oe&65535);oe-- >0;)ee[ee.l++]=le[ne++]}return ee.l}function te(le,ee){for(var ne=0,oe=0,ye=Re?new Uint16Array(32768):[];oe<le.length;){var Ee=Math.min(65535,le.length-oe);if(Ee<10){for(ne=Br(ee,ne,+(oe+Ee==le.length)),ne&7&&(ne+=8-(ne&7)),ee.l=ne/8|0,ee.write_shift(2,Ee),ee.write_shift(2,~Ee&65535);Ee-- >0;)ee[ee.l++]=le[oe++];ne=ee.l*8;continue}ne=Br(ee,ne,+(oe+Ee==le.length)+2);for(var Le=0;Ee-- >0;){var we=le[oe];Le=(Le<<5^we)&32767;var Te=-1,Xe=0;if((Te=ye[Le])&&(Te|=oe&-32768,Te>oe&&(Te-=32768),Te<oe))for(;le[Te+Xe]==le[oe+Xe]&&Xe<250;)++Xe;if(Xe>2){we=j[Xe],we<=22?ne=di(ee,ne,_e[we+1]>>1)-1:(di(ee,ne,3),ne+=5,di(ee,ne,_e[we-23]>>5),ne+=3);var jt=we<8?0:we-4>>2;jt>0&&(Vo(ee,ne,Xe-he[we]),ne+=jt),we=U[oe-Te],ne=di(ee,ne,_e[we]>>3),ne-=3;var Kn=we<4?0:we-2>>1;Kn>0&&(Vo(ee,ne,oe-Te-Me[we]),ne+=Kn);for(var Yt=0;Yt<Xe;++Yt)ye[Le]=oe&32767,Le=(Le<<5^le[oe])&32767,++oe;Ee-=Xe-1}else we<=143?we=we+48:ne=ui(ee,ne,1),ne=di(ee,ne,_e[we]),ye[Le]=oe&32767,++oe}ne=di(ee,ne,0)-1}return ee.l=(ne+7)/8|0,ee.l}return function(ee,ne){return ee.length<8?H(ee,ne):te(ee,ne)}}();function ot(S){var U=Bn(50+Math.floor(S.length*1.1)),O=Ur(S,U);return U.slice(0,O)}var ln=Re?new Uint16Array(32768):ir(32768),Zr=Re?new Uint16Array(32768):ir(32768),tn=Re?new Uint16Array(128):ir(128),gs=1,id=1;function sd(S,U){var O=ct(S,U)+257;U+=5;var L=ct(S,U)+1;U+=5;var j=Pt(S,U)+4;U+=4;for(var H=0,te=Re?new Uint8Array(19):ir(19),le=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],ee=1,ne=Re?new Uint8Array(8):ir(8),oe=Re?new Uint8Array(8):ir(8),ye=te.length,Ee=0;Ee<j;++Ee)te[K[Ee]]=H=vt(S,U),ee<H&&(ee=H),ne[H]++,U+=3;var Le=0;for(ne[0]=0,Ee=1;Ee<=ee;++Ee)oe[Ee]=Le=Le+ne[Ee-1]<<1;for(Ee=0;Ee<ye;++Ee)(Le=te[Ee])!=0&&(le[Ee]=oe[Le]++);var we=0;for(Ee=0;Ee<ye;++Ee)if(we=te[Ee],we!=0){Le=_e[le[Ee]]>>8-we;for(var Te=(1<<7-we)-1;Te>=0;--Te)tn[Le|Te<<we]=we&7|Ee<<3}var Xe=[];for(ee=1;Xe.length<O+L;)switch(Le=tn[Ae(S,U)],U+=Le&7,Le>>>=3){case 16:for(H=3+qt(S,U),U+=2,Le=Xe[Xe.length-1];H-- >0;)Xe.push(Le);break;case 17:for(H=3+vt(S,U),U+=3;H-- >0;)Xe.push(0);break;case 18:for(H=11+Ae(S,U),U+=7;H-- >0;)Xe.push(0);break;default:Xe.push(Le),ee<Le&&(ee=Le);break}var jt=Xe.slice(0,O),Kn=Xe.slice(O);for(Ee=O;Ee<286;++Ee)jt[Ee]=0;for(Ee=L;Ee<30;++Ee)Kn[Ee]=0;return gs=fi(jt,ln,286),id=fi(Kn,Zr,30),U}function Q_(S,U){if(S[0]==3&&!(S[1]&3))return[Na(U),2];for(var O=0,L=0,j=EF(U||1<<18),H=0,te=j.length>>>0,le=0,ee=0;(L&1)==0;){if(L=vt(S,O),O+=3,L>>>1)L>>1==1?(le=9,ee=5):(O=sd(S,O),le=gs,ee=id);else{O&7&&(O+=8-(O&7));var ne=S[O>>>3]|S[(O>>>3)+1]<<8;if(O+=32,ne>0)for(!U&&te<H+ne&&(j=ms(j,H+ne),te=j.length);ne-- >0;)j[H++]=S[O>>>3],O+=8;continue}for(;;){!U&&te<H+32767&&(j=ms(j,H+32767),te=j.length);var oe=pn(S,O,le),ye=L>>>1==1?ki[oe]:ln[oe];if(O+=ye&15,ye>>>=4,(ye>>>8&255)===0)j[H++]=ye;else{if(ye==256)break;ye-=257;var Ee=ye<8?0:ye-4>>2;Ee>5&&(Ee=0);var Le=H+he[ye];Ee>0&&(Le+=pn(S,O,Ee),O+=Ee),oe=pn(S,O,ee),ye=L>>>1==1?vn[oe]:Zr[oe],O+=ye&15,ye>>>=4;var we=ye<4?0:ye-2>>1,Te=Me[ye];for(we>0&&(Te+=pn(S,O,we),O+=we),!U&&te<Le&&(j=ms(j,Le+100),te=j.length);H<Le;)j[H]=j[H-Te],++H}}}return U?[j,O+7>>>3]:[j.slice(0,H),O+7>>>3]}function jh(S,U){var O=S.slice(S.l||0),L=Q_(O,U);return S.l+=L[1],L[0]}function Yc(S,U){if(S)typeof console<"u"&&console.error(U);else throw new Error(U)}function od(S,U){var O=S;pr(O,0);var L=[],j=[],H={FileIndex:L,FullPaths:j};b(H,{root:U.root});for(var te=O.length-4;(O[te]!=80||O[te+1]!=75||O[te+2]!=5||O[te+3]!=6)&&te>=0;)--te;O.l=te+4,O.l+=4;var le=O.read_shift(2);O.l+=6;var ee=O.read_shift(4);for(O.l=ee,te=0;te<le;++te){O.l+=20;var ne=O.read_shift(4),oe=O.read_shift(4),ye=O.read_shift(2),Ee=O.read_shift(2),Le=O.read_shift(2);O.l+=8;var we=O.read_shift(4),Te=a(O.slice(O.l+ye,O.l+ye+Ee));O.l+=ye+Ee+Le;var Xe=O.l;O.l=we+4,$h(O,ne,oe,H,Te),O.l=Xe}return H}function $h(S,U,O,L,j){S.l+=2;var H=S.read_shift(2),te=S.read_shift(2),le=o(S);if(H&8257)throw new Error("Unsupported ZIP encryption");for(var ee=S.read_shift(4),ne=S.read_shift(4),oe=S.read_shift(4),ye=S.read_shift(2),Ee=S.read_shift(2),Le="",we=0;we<ye;++we)Le+=String.fromCharCode(S[S.l++]);if(Ee){var Te=a(S.slice(S.l,S.l+Ee));(Te[21589]||{}).mt&&(le=Te[21589].mt),((j||{})[21589]||{}).mt&&(le=j[21589].mt)}S.l+=Ee;var Xe=S.slice(S.l,S.l+ne);switch(te){case 8:Xe=J(S,oe);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+te)}var jt=!1;H&8&&(ee=S.read_shift(4),ee==134695760&&(ee=S.read_shift(4),jt=!0),ne=S.read_shift(4),oe=S.read_shift(4)),ne!=U&&Yc(jt,"Bad compressed size: "+U+" != "+ne),oe!=O&&Yc(jt,"Bad uncompressed size: "+O+" != "+oe),Zc(L,Le,Xe,{unsafe:!0,mt:le})}function Va(S,U){var O=U||{},L=[],j=[],H=Bn(1),te=O.compression?8:0,le=0,ee=!1;ee&&(le|=8);var ne=0,oe=0,ye=0,Ee=0,Le=S.FullPaths[0],we=Le,Te=S.FileIndex[0],Xe=[],jt=0;for(ne=1;ne<S.FullPaths.length;++ne)if(we=S.FullPaths[ne].slice(Le.length),Te=S.FileIndex[ne],!(!Te.size||!Te.content||we=="Sh33tJ5")){var Kn=ye,Yt=Bn(we.length);for(oe=0;oe<we.length;++oe)Yt.write_shift(1,we.charCodeAt(oe)&127);Yt=Yt.slice(0,Yt.l),Xe[Ee]=iJ.buf(Te.content,0);var bn=Te.content;te==8&&(bn=Y(bn)),H=Bn(30),H.write_shift(4,67324752),H.write_shift(2,20),H.write_shift(2,le),H.write_shift(2,te),Te.mt?s(H,Te.mt):H.write_shift(4,0),H.write_shift(-4,le&8?0:Xe[Ee]),H.write_shift(4,le&8?0:bn.length),H.write_shift(4,le&8?0:Te.content.length),H.write_shift(2,Yt.length),H.write_shift(2,0),ye+=H.length,L.push(H),ye+=Yt.length,L.push(Yt),ye+=bn.length,L.push(bn),le&8&&(H=Bn(12),H.write_shift(-4,Xe[Ee]),H.write_shift(4,bn.length),H.write_shift(4,Te.content.length),ye+=H.l,L.push(H)),H=Bn(46),H.write_shift(4,33639248),H.write_shift(2,0),H.write_shift(2,20),H.write_shift(2,le),H.write_shift(2,te),H.write_shift(4,0),H.write_shift(-4,Xe[Ee]),H.write_shift(4,bn.length),H.write_shift(4,Te.content.length),H.write_shift(2,Yt.length),H.write_shift(2,0),H.write_shift(2,0),H.write_shift(2,0),H.write_shift(2,0),H.write_shift(4,0),H.write_shift(4,Kn),jt+=H.l,j.push(H),jt+=Yt.length,j.push(Yt),++Ee}return H=Bn(22),H.write_shift(4,101010256),H.write_shift(2,0),H.write_shift(2,0),H.write_shift(2,Ee),H.write_shift(2,Ee),H.write_shift(4,jt),H.write_shift(4,ye),H.write_shift(2,0),Ma([Ma(L),Ma(j),H])}var Bo={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function ad(S,U){if(S.ctype)return S.ctype;var O=S.name||"",L=O.match(/\.([^\.]+)$/);return L&&Bo[L[1]]||U&&(L=(O=U).match(/[\.\\]([^\.\\])+$/),L&&Bo[L[1]])?Bo[L[1]]:"application/octet-stream"}function Gs(S){for(var U=xF(S),O=[],L=0;L<U.length;L+=76)O.push(U.slice(L,L+76));return O.join(`\r
`)+`\r
`}function Hh(S){var U=S.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(ne){var oe=ne.charCodeAt(0).toString(16).toUpperCase();return"="+(oe.length==1?"0"+oe:oe)});U=U.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),U.charAt(0)==`
`&&(U="=0D"+U.slice(1)),U=U.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var O=[],L=U.split(`\r
`),j=0;j<L.length;++j){var H=L[j];if(H.length==0){O.push("");continue}for(var te=0;te<H.length;){var le=76,ee=H.slice(te,te+le);ee.charAt(le-1)=="="?le--:ee.charAt(le-2)=="="?le-=2:ee.charAt(le-3)=="="&&(le-=3),ee=H.slice(te,te+le),te+=le,te<H.length&&(ee+="="),O.push(ee)}}return O.join(`\r
`)}function Qc(S){for(var U=[],O=0;O<S.length;++O){for(var L=S[O];O<=S.length&&L.charAt(L.length-1)=="=";)L=L.slice(0,L.length-1)+S[++O];U.push(L)}for(var j=0;j<U.length;++j)U[j]=U[j].replace(/[=][0-9A-Fa-f]{2}/g,function(H){return String.fromCharCode(parseInt(H.slice(1),16))});return ds(U.join(`\r
`))}function zh(S,U,O){for(var L="",j="",H="",te,le=0;le<10;++le){var ee=U[le];if(!ee||ee.match(/^\s*$/))break;var ne=ee.match(/^(.*?):\s*([^\s].*)$/);if(ne)switch(ne[1].toLowerCase()){case"content-location":L=ne[2].trim();break;case"content-type":H=ne[2].trim();break;case"content-transfer-encoding":j=ne[2].trim();break}}switch(++le,j.toLowerCase()){case"base64":te=ds(Di(U.slice(le).join("")));break;case"quoted-printable":te=Qc(U.slice(le));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+j)}var oe=Zc(S,L.slice(O.length),te,{unsafe:!0});H&&(oe.ctype=H)}function Ba(S,U){if(ke(S.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var O=U&&U.root||"",L=(Ct&&Buffer.isBuffer(S)?S.toString("binary"):ke(S)).split(`\r
`),j=0,H="";for(j=0;j<L.length;++j)if(H=L[j],!!/^Content-Location:/i.test(H)&&(H=H.slice(H.indexOf("file")),O||(O=H.slice(0,H.lastIndexOf("/")+1)),H.slice(0,O.length)!=O))for(;O.length>0&&(O=O.slice(0,O.length-1),O=O.slice(0,O.lastIndexOf("/")+1),H.slice(0,O.length)!=O););var te=(L[1]||"").match(/boundary="(.*?)"/);if(!te)throw new Error("MAD cannot find boundary");var le="--"+(te[1]||""),ee=[],ne=[],oe={FileIndex:ee,FullPaths:ne};b(oe);var ye,Ee=0;for(j=0;j<L.length;++j){var Le=L[j];Le!==le&&Le!==le+"--"||(Ee++&&zh(oe,L.slice(ye,j),O),ye=j)}return oe}function Wh(S,U){var O=U||{},L=O.boundary||"SheetJS";L="------="+L;for(var j=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+L.slice(2)+'"',"","",""],H=S.FullPaths[0],te=H,le=S.FileIndex[0],ee=1;ee<S.FullPaths.length;++ee)if(te=S.FullPaths[ee].slice(H.length),le=S.FileIndex[ee],!(!le.size||!le.content||te=="Sh33tJ5")){te=te.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Xe){return"_x"+Xe.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Xe){return"_u"+Xe.charCodeAt(0).toString(16)+"_"});for(var ne=le.content,oe=Ct&&Buffer.isBuffer(ne)?ne.toString("binary"):ke(ne),ye=0,Ee=Math.min(1024,oe.length),Le=0,we=0;we<=Ee;++we)(Le=oe.charCodeAt(we))>=32&&Le<128&&++ye;var Te=ye>=Ee*4/5;j.push(L),j.push("Content-Location: "+(O.root||"file:///C:/SheetJS/")+te),j.push("Content-Transfer-Encoding: "+(Te?"quoted-printable":"base64")),j.push("Content-Type: "+ad(le,te)),j.push(""),j.push(Te?Hh(oe):Gs(oe))}return j.push(L+`--\r
`),j.join(`\r
`)}function sr(S){var U={};return b(U,S),U}function Zc(S,U,O,L){var j=L&&L.unsafe;j||b(S);var H=!j&&Dt.find(S,U);if(!H){var te=S.FullPaths[0];U.slice(0,te.length)==te?te=U:(te.slice(-1)!="/"&&(te+="/"),te=(te+U).replace("//","/")),H={name:i(U),type:2},S.FileIndex.push(H),S.FullPaths.push(te),j||Dt.utils.cfb_gc(S)}return H.content=O,H.size=O?O.length:0,L&&(L.CLSID&&(H.clsid=L.CLSID),L.mt&&(H.mt=L.mt),L.ct&&(H.ct=L.ct)),H}function Ua(S,U){b(S);var O=Dt.find(S,U);if(O){for(var L=0;L<S.FileIndex.length;++L)if(S.FileIndex[L]==O)return S.FileIndex.splice(L,1),S.FullPaths.splice(L,1),!0}return!1}function ja(S,U,O){b(S);var L=Dt.find(S,U);if(L){for(var j=0;j<S.FileIndex.length;++j)if(S.FileIndex[j]==L)return S.FileIndex[j].name=i(O),S.FullPaths[j]=O,!0}return!1}function Z_(S){T(S,!0)}return e.find=P,e.read=G,e.parse=u,e.write=Be,e.writeFile=ft,e.utils={cfb_new:sr,cfb_add:Zc,cfb_del:Ua,cfb_mov:ja,cfb_gc:Z_,ReadShift:yh,CheckField:eL,prep_blob:pr,bconcat:Ma,use_zlib:z,_deflateRaw:ot,_inflateRaw:jh,consts:Ne},e}(),kF;function sJ(n){if(typeof kF<"u")return kF.readFileSync(n);if(typeof Deno<"u")return Deno.readFileSync(n);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var e=File(n);e.open("r"),e.encoding="binary";var t=e.read();return e.close(),t}catch(r){if(!r.message||!r.message.match(/onstruct/))throw r}throw new Error("Cannot access file "+n)}function zs(n){for(var e=Object.keys(n),t=[],r=0;r<e.length;++r)Object.prototype.hasOwnProperty.call(n,e[r])&&t.push(e[r]);return t}function DI(n){for(var e=[],t=zs(n),r=0;r!==t.length;++r)e[n[t[r]]]=t[r];return e}var F_=new Date(1899,11,30,0,0,0);function Qr(n,e){var t=n.getTime();e&&(t-=1462*24*60*60*1e3);var r=F_.getTime()+(n.getTimezoneOffset()-F_.getTimezoneOffset())*6e4;return(t-r)/(24*60*60*1e3)}var L4=new Date,oJ=F_.getTime()+(L4.getTimezoneOffset()-F_.getTimezoneOffset())*6e4,AF=L4.getTimezoneOffset();function W_(n){var e=new Date;return e.setTime(n*24*60*60*1e3+oJ),e.getTimezoneOffset()!==AF&&e.setTime(e.getTime()+(e.getTimezoneOffset()-AF)*6e4),e}function aJ(n){var e=0,t=0,r=!1,i=n.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!i)throw new Error("|"+n+"| is not an ISO8601 Duration");for(var s=1;s!=i.length;++s)if(i[s]){switch(t=1,s>3&&(r=!0),i[s].slice(i[s].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+i[s].slice(i[s].length-1));case"D":t*=24;case"H":t*=60;case"M":if(r)t*=60;else throw new Error("Unsupported ISO Duration Field: M");case"S":break}e+=t*parseInt(i[s],10)}return e}var MF=new Date("2017-02-19T19:06:09.000Z"),V4=isNaN(MF.getFullYear())?new Date("2/19/17"):MF,cJ=V4.getFullYear()==2017;function rr(n,e){var t=new Date(n);if(cJ)return e>0?t.setTime(t.getTime()+t.getTimezoneOffset()*60*1e3):e<0&&t.setTime(t.getTime()-t.getTimezoneOffset()*60*1e3),t;if(n instanceof Date)return n;if(V4.getFullYear()==1917&&!isNaN(t.getFullYear())){var r=t.getFullYear();return n.indexOf(""+r)>-1||t.setFullYear(t.getFullYear()+100),t}var i=n.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return n.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function $c(n,e){if(Ct&&Buffer.isBuffer(n)){if(e){if(n[0]==255&&n[1]==254)return vh(n.slice(2).toString("utf16le"));if(n[1]==254&&n[2]==255)return vh(b4(n.slice(2).toString("binary")))}return n.toString("binary")}if(typeof TextDecoder<"u")try{if(e){if(n[0]==255&&n[1]==254)return vh(new TextDecoder("utf-16le").decode(n.slice(2)));if(n[0]==254&&n[1]==255)return vh(new TextDecoder("utf-16be").decode(n.slice(2)))}var t={"\u20AC":"\x80","\u201A":"\x82",\u0192:"\x83","\u201E":"\x84","\u2026":"\x85","\u2020":"\x86","\u2021":"\x87","\u02C6":"\x88","\u2030":"\x89",\u0160:"\x8A","\u2039":"\x8B",\u0152:"\x8C",\u017D:"\x8E","\u2018":"\x91","\u2019":"\x92","\u201C":"\x93","\u201D":"\x94","\u2022":"\x95","\u2013":"\x96","\u2014":"\x97","\u02DC":"\x98","\u2122":"\x99",\u0161:"\x9A","\u203A":"\x9B",\u0153:"\x9C",\u017E:"\x9E",\u0178:"\x9F"};return Array.isArray(n)&&(n=new Uint8Array(n)),new TextDecoder("latin1").decode(n).replace(/[]/g,function(s){return t[s]||s})}catch{}for(var r=[],i=0;i!=n.length;++i)r.push(String.fromCharCode(n[i]));return r.join("")}function mr(n){if(typeof JSON<"u"&&!Array.isArray(n))return JSON.parse(JSON.stringify(n));if(typeof n!="object"||n==null)return n;if(n instanceof Date)return new Date(n.getTime());var e={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=mr(n[t]));return e}function wn(n,e){for(var t="";t.length<e;)t+=n;return t}function ps(n){var e=Number(n);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(n))return e;var t=1,r=n.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return t*=100,""});return!isNaN(e=Number(r))||(r=r.replace(/[(](.*)[)]/,function(i,s){return t=-t,s}),!isNaN(e=Number(r)))?e/t:e}var lJ=["january","february","march","april","may","june","july","august","september","october","november","december"];function Zu(n){var e=new Date(n),t=new Date(NaN),r=e.getYear(),i=e.getMonth(),s=e.getDate();if(isNaN(s))return t;var o=n.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&lJ.indexOf(o)==-1)return t}else if(o.match(/[a-z]/))return t;return r<0||r>8099?t:(i>0||s>1)&&r!=101?e:n.match(/[^-0-9:,\/\\]/)?t:e}var uJ=function(){var n="abacaba".split(/(:?b)/i).length==5;return function(t,r,i){if(n||typeof r=="string")return t.split(r);for(var s=t.split(r),o=[s[0]],a=1;a<s.length;++a)o.push(i),o.push(s[a]);return o}}();function B4(n){return n?n.content&&n.type?$c(n.content,!0):n.data?mh(n.data):n.asNodeBuffer&&Ct?mh(n.asNodeBuffer().toString("binary")):n.asBinary?mh(n.asBinary()):n._data&&n._data.getContent?mh($c(Array.prototype.slice.call(n._data.getContent(),0))):null:null}function U4(n){if(!n)return null;if(n.data)return fI(n.data);if(n.asNodeBuffer&&Ct)return n.asNodeBuffer();if(n._data&&n._data.getContent){var e=n._data.getContent();return typeof e=="string"?fI(e):Array.prototype.slice.call(e)}return n.content&&n.type?n.content:null}function dJ(n){return n&&n.name.slice(-4)===".bin"?U4(n):B4(n)}function qi(n,e){for(var t=n.FullPaths||zs(n.files),r=e.toLowerCase().replace(/[\/]/g,"\\"),i=r.replace(/\\/g,"/"),s=0;s<t.length;++s){var o=t[s].replace(/^Root Entry[\/]/,"").toLowerCase();if(r==o||i==o)return n.files?n.files[t[s]]:n.FileIndex[s]}return null}function kI(n,e){var t=qi(n,e);if(t==null)throw new Error("Cannot find file "+e+" in zip");return t}function Ln(n,e,t){if(!t)return dJ(kI(n,e));if(!e)return null;try{return Ln(n,e)}catch{return null}}function Si(n,e,t){if(!t)return B4(kI(n,e));if(!e)return null;try{return Si(n,e)}catch{return null}}function j4(n,e,t){if(!t)return U4(kI(n,e));if(!e)return null;try{return j4(n,e)}catch{return null}}function RF(n){for(var e=n.FullPaths||zs(n.files),t=[],r=0;r<e.length;++r)e[r].slice(-1)!="/"&&t.push(e[r].replace(/^Root Entry[\/]/,""));return t.sort()}function fJ(n,e,t){if(n.FullPaths){if(typeof t=="string"){var r;return Ct?r=zc(t):r=RZ(t),Dt.utils.cfb_add(n,e,r)}Dt.utils.cfb_add(n,e,t)}else n.file(e,t)}function $4(n,e){switch(e.type){case"base64":return Dt.read(n,{type:"base64"});case"binary":return Dt.read(n,{type:"binary"});case"buffer":case"array":return Dt.read(n,{type:"buffer"})}throw new Error("Unrecognized type "+e.type)}function _h(n,e){if(n.charAt(0)=="/")return n.slice(1);var t=e.split("/");e.slice(-1)!="/"&&t.pop();for(var r=n.split("/");r.length!==0;){var i=r.shift();i===".."?t.pop():i!=="."&&t.push(i)}return t.join("/")}var H4=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,hJ=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,PF=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,pJ=/<[^>]*>/g,Vr=H4.match(PF)?PF:pJ,mJ=/<\w*:/,gJ=/<(\/?)\w+:/;function Qe(n,e,t){for(var r={},i=0,s=0;i!==n.length&&!((s=n.charCodeAt(i))===32||s===10||s===13);++i);if(e||(r[0]=n.slice(0,i)),i===n.length)return r;var o=n.match(hJ),a=0,c="",l=0,u="",f="",h=1;if(o)for(l=0;l!=o.length;++l){for(f=o[l],s=0;s!=f.length&&f.charCodeAt(s)!==61;++s);for(u=f.slice(0,s).trim();f.charCodeAt(s+1)==32;)++s;for(h=(i=f.charCodeAt(s+1))==34||i==39?1:0,c=f.slice(s+1+h,f.length-h),a=0;a!=u.length&&u.charCodeAt(a)!==58;++a);if(a===u.length)u.indexOf("_")>0&&(u=u.slice(0,u.indexOf("_"))),r[u]=c,t||(r[u.toLowerCase()]=c);else{var p=(a===5&&u.slice(0,5)==="xmlns"?"xmlns":"")+u.slice(a+1);if(r[p]&&u.slice(a-3,a)=="ext")continue;r[p]=c,t||(r[p.toLowerCase()]=c)}}return r}function Ws(n){return n.replace(gJ,"<$1")}var z4={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},_J=DI(z4),Mt=function(){var n=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,e=/_x([\da-fA-F]{4})_/ig;return function t(r){var i=r+"",s=i.indexOf("<![CDATA[");if(s==-1)return i.replace(n,function(a,c){return z4[a]||String.fromCharCode(parseInt(c,a.indexOf("x")>-1?16:10))||a}).replace(e,function(a,c){return String.fromCharCode(parseInt(c,16))});var o=i.indexOf("]]>");return t(i.slice(0,s))+i.slice(s+9,o)+t(i.slice(o+3))}}(),vJ=/[&<>'"]/g;var yJ=/[\u0000-\u001f]/g;function AI(n){var e=n+"";return e.replace(vJ,function(t){return _J[t]}).replace(/\n/g,"<br/>").replace(yJ,function(t){return"&#x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+";"})}var OF=function(){var n=/&#(\d+);/g;function e(t,r){return String.fromCharCode(parseInt(r,10))}return function(r){return r.replace(n,e)}}();function hn(n){switch(n){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function rI(n){for(var e="",t=0,r=0,i=0,s=0,o=0,a=0;t<n.length;){if(r=n.charCodeAt(t++),r<128){e+=String.fromCharCode(r);continue}if(i=n.charCodeAt(t++),r>191&&r<224){o=(r&31)<<6,o|=i&63,e+=String.fromCharCode(o);continue}if(s=n.charCodeAt(t++),r<240){e+=String.fromCharCode((r&15)<<12|(i&63)<<6|s&63);continue}o=n.charCodeAt(t++),a=((r&7)<<18|(i&63)<<12|(s&63)<<6|o&63)-65536,e+=String.fromCharCode(55296+(a>>>10&1023)),e+=String.fromCharCode(56320+(a&1023))}return e}function NF(n){var e=Na(2*n.length),t,r,i=1,s=0,o=0,a;for(r=0;r<n.length;r+=i)i=1,(a=n.charCodeAt(r))<128?t=a:a<224?(t=(a&31)*64+(n.charCodeAt(r+1)&63),i=2):a<240?(t=(a&15)*4096+(n.charCodeAt(r+1)&63)*64+(n.charCodeAt(r+2)&63),i=3):(i=4,t=(a&7)*262144+(n.charCodeAt(r+1)&63)*4096+(n.charCodeAt(r+2)&63)*64+(n.charCodeAt(r+3)&63),t-=65536,o=55296+(t>>>10&1023),t=56320+(t&1023)),o!==0&&(e[s++]=o&255,e[s++]=o>>>8,o=0),e[s++]=t%256,e[s++]=t>>>8;return e.slice(0,s).toString("ucs2")}function FF(n){return zc(n,"binary").toString("utf8")}var I_="foo bar baz\xE2\x98\x83\xF0\x9F\x8D\xA3",en=Ct&&(FF(I_)==rI(I_)&&FF||NF(I_)==rI(I_)&&NF)||rI,vh=Ct?function(n){return zc(n,"utf8").toString("binary")}:function(n){for(var e=[],t=0,r=0,i=0;t<n.length;)switch(r=n.charCodeAt(t++),!0){case r<128:e.push(String.fromCharCode(r));break;case r<2048:e.push(String.fromCharCode(192+(r>>6))),e.push(String.fromCharCode(128+(r&63)));break;case(r>=55296&&r<57344):r-=55296,i=n.charCodeAt(t++)-56320+(r<<10),e.push(String.fromCharCode(240+(i>>18&7))),e.push(String.fromCharCode(144+(i>>12&63))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)));break;default:e.push(String.fromCharCode(224+(r>>12))),e.push(String.fromCharCode(128+(r>>6&63))),e.push(String.fromCharCode(128+(r&63)))}return e.join("")},kh=function(){var n={};return function(t,r){var i=t+"|"+(r||"");return n[i]?n[i]:n[i]=new RegExp("<(?:\\w+:)?"+t+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+t+">",r||"")}}(),W4=function(){var n=[["nbsp"," "],["middot","\xB7"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(t){for(var r=t.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<n.length;++i)r=r.replace(n[i][0],n[i][1]);return r}}(),xJ=function(){var n={};return function(t){return n[t]!==void 0?n[t]:n[t]=new RegExp("<(?:vt:)?"+t+">([\\s\\S]*?)</(?:vt:)?"+t+">","g")}}(),EJ=/<\/?(?:vt:)?variant>/g,wJ=/<(?:vt:)([^>]*)>([\s\S]*)</;function LF(n,e){var t=Qe(n),r=n.match(xJ(t.baseType))||[],i=[];if(r.length!=t.size){if(e.WTF)throw new Error("unexpected vector length "+r.length+" != "+t.size);return i}return r.forEach(function(s){var o=s.replace(EJ,"").match(wJ);o&&i.push({v:en(o[2]),t:o[1]})}),i}var CJ=/(^\s|\s$|\n)/;function bJ(n){return zs(n).map(function(e){return" "+e+'="'+n[e]+'"'}).join("")}function IJ(n,e,t){return"<"+n+(t!=null?bJ(t):"")+(e!=null?(e.match(CJ)?' xml:space="preserve"':"")+">"+e+"</"+n:"/")+">"}function MI(n){if(Ct&&Buffer.isBuffer(n))return n.toString("utf8");if(typeof n=="string")return n;if(typeof Uint8Array<"u"&&n instanceof Uint8Array)return en(Wc(II(n)));throw new Error("Bad input format: expected Buffer or string")}var Ah=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,TJ={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},SJ=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function DJ(n,e){for(var t=1-2*(n[e+7]>>>7),r=((n[e+7]&127)<<4)+(n[e+6]>>>4&15),i=n[e+6]&15,s=5;s>=0;--s)i=i*256+n[e+s];return r==2047?i==0?t*(1/0):NaN:(r==0?r=-1022:(r-=1023,i+=Math.pow(2,52)),t*Math.pow(2,r-52)*i)}function kJ(n,e,t){var r=(e<0||1/e==-1/0?1:0)<<7,i=0,s=0,o=r?-e:e;isFinite(o)?o==0?i=s=0:(i=Math.floor(Math.log(o)/Math.LN2),s=o*Math.pow(2,52-i),i<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?i=-1022:(s-=Math.pow(2,52),i+=1023)):(i=2047,s=isNaN(e)?26985:0);for(var a=0;a<=5;++a,s/=256)n[t+a]=s&255;n[t+6]=(i&15)<<4|s&15,n[t+7]=i>>4|r}var VF=function(n){for(var e=[],t=10240,r=0;r<n[0].length;++r)if(n[0][r])for(var i=0,s=n[0][r].length;i<s;i+=t)e.push.apply(e,n[0][r].slice(i,i+t));return e},BF=Ct?function(n){return n[0].length>0&&Buffer.isBuffer(n[0][0])?Buffer.concat(n[0].map(function(e){return Buffer.isBuffer(e)?e:zc(e)})):VF(n)}:VF,UF=function(n,e,t){for(var r=[],i=e;i<t;i+=2)r.push(String.fromCharCode(Po(n,i)));return r.join("").replace(Nr,"")},q_=Ct?function(n,e,t){return Buffer.isBuffer(n)?n.toString("utf16le",e,t).replace(Nr,""):UF(n,e,t)}:UF,jF=function(n,e,t){for(var r=[],i=e;i<e+t;++i)r.push(("0"+n[i].toString(16)).slice(-2));return r.join("")},q4=Ct?function(n,e,t){return Buffer.isBuffer(n)?n.toString("hex",e,e+t):jF(n,e,t)}:jF,$F=function(n,e,t){for(var r=[],i=e;i<t;i++)r.push(String.fromCharCode(Gu(n,i)));return r.join("")},td=Ct?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf8",t,r):$F(e,t,r)}:$F,G4=function(n,e){var t=nr(n,e);return t>0?td(n,e+4,e+4+t-1):""},RI=G4,K4=function(n,e){var t=nr(n,e);return t>0?td(n,e+4,e+4+t-1):""},PI=K4,X4=function(n,e){var t=2*nr(n,e);return t>0?td(n,e+4,e+4+t-1):""},OI=X4,Y4=function(e,t){var r=nr(e,t);return r>0?q_(e,t+4,t+4+r):""},NI=Y4,Q4=function(n,e){var t=nr(n,e);return t>0?td(n,e+4,e+4+t):""},FI=Q4,Z4=function(n,e){return DJ(n,e)},L_=Z4,J4=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};Ct&&(RI=function(e,t){if(!Buffer.isBuffer(e))return G4(e,t);var r=e.readUInt32LE(t);return r>0?e.toString("utf8",t+4,t+4+r-1):""},PI=function(e,t){if(!Buffer.isBuffer(e))return K4(e,t);var r=e.readUInt32LE(t);return r>0?e.toString("utf8",t+4,t+4+r-1):""},OI=function(e,t){if(!Buffer.isBuffer(e))return X4(e,t);var r=2*e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+r-1)},NI=function(e,t){if(!Buffer.isBuffer(e))return Y4(e,t);var r=e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+r)},FI=function(e,t){if(!Buffer.isBuffer(e))return Q4(e,t);var r=e.readUInt32LE(t);return e.toString("utf8",t+4,t+4+r)},L_=function(e,t){return Buffer.isBuffer(e)?e.readDoubleLE(t):Z4(e,t)},J4=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});function AJ(){q_=function(n,e,t){return Ut.utils.decode(1200,n.slice(e,t)).replace(Nr,"")},td=function(n,e,t){return Ut.utils.decode(65001,n.slice(e,t))},RI=function(n,e){var t=nr(n,e);return t>0?Ut.utils.decode(Qu,n.slice(e+4,e+4+t-1)):""},PI=function(n,e){var t=nr(n,e);return t>0?Ut.utils.decode(Hs,n.slice(e+4,e+4+t-1)):""},OI=function(n,e){var t=2*nr(n,e);return t>0?Ut.utils.decode(1200,n.slice(e+4,e+4+t-1)):""},NI=function(n,e){var t=nr(n,e);return t>0?Ut.utils.decode(1200,n.slice(e+4,e+4+t)):""},FI=function(n,e){var t=nr(n,e);return t>0?Ut.utils.decode(65001,n.slice(e+4,e+4+t)):""}}typeof Ut<"u"&&AJ();var Gu=function(n,e){return n[e]},Po=function(n,e){return n[e+1]*256+n[e]},MJ=function(n,e){var t=n[e+1]*256+n[e];return t<32768?t:(65535-t+1)*-1},nr=function(n,e){return n[e+3]*(1<<24)+(n[e+2]<<16)+(n[e+1]<<8)+n[e]},Lc=function(n,e){return n[e+3]<<24|n[e+2]<<16|n[e+1]<<8|n[e]},RJ=function(n,e){return n[e]<<24|n[e+1]<<16|n[e+2]<<8|n[e+3]};function yh(n,e){var t="",r,i,s=[],o,a,c,l;switch(e){case"dbcs":if(l=this.l,Ct&&Buffer.isBuffer(this))t=this.slice(this.l,this.l+2*n).toString("utf16le");else for(c=0;c<n;++c)t+=String.fromCharCode(Po(this,l)),l+=2;n*=2;break;case"utf8":t=td(this,this.l,this.l+n);break;case"utf16le":n*=2,t=q_(this,this.l,this.l+n);break;case"wstr":if(typeof Ut<"u")t=Ut.utils.decode(Hs,this.slice(this.l,this.l+2*n));else return yh.call(this,n,"dbcs");n=2*n;break;case"lpstr-ansi":t=RI(this,this.l),n=4+nr(this,this.l);break;case"lpstr-cp":t=PI(this,this.l),n=4+nr(this,this.l);break;case"lpwstr":t=OI(this,this.l),n=4+2*nr(this,this.l);break;case"lpp4":n=4+nr(this,this.l),t=NI(this,this.l),n&2&&(n+=2);break;case"8lpp4":n=4+nr(this,this.l),t=FI(this,this.l),n&3&&(n+=4-(n&3));break;case"cstr":for(n=0,t="";(o=Gu(this,this.l+n++))!==0;)s.push(b_(o));t=s.join("");break;case"_wstr":for(n=0,t="";(o=Po(this,this.l+n))!==0;)s.push(b_(o)),n+=2;n+=2,t=s.join("");break;case"dbcs-cont":for(t="",l=this.l,c=0;c<n;++c){if(this.lens&&this.lens.indexOf(l)!==-1)return o=Gu(this,l),this.l=l+1,a=yh.call(this,n-c,o?"dbcs-cont":"sbcs-cont"),s.join("")+a;s.push(b_(Po(this,l))),l+=2}t=s.join(""),n*=2;break;case"cpstr":if(typeof Ut<"u"){t=Ut.utils.decode(Hs,this.slice(this.l,this.l+n));break}case"sbcs-cont":for(t="",l=this.l,c=0;c!=n;++c){if(this.lens&&this.lens.indexOf(l)!==-1)return o=Gu(this,l),this.l=l+1,a=yh.call(this,n-c,o?"dbcs-cont":"sbcs-cont"),s.join("")+a;s.push(b_(Gu(this,l))),l+=1}t=s.join("");break;default:switch(n){case 1:return r=Gu(this,this.l),this.l++,r;case 2:return r=(e==="i"?MJ:Po)(this,this.l),this.l+=2,r;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(r=(n>0?Lc:RJ)(this,this.l),this.l+=4,r):(i=nr(this,this.l),this.l+=4,i);case 8:case-8:if(e==="f")return n==8?i=L_(this,this.l):i=L_([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;n=8;case 16:t=q4(this,this.l,n);break}}return this.l+=n,t}var PJ=function(n,e,t){n[t]=e&255,n[t+1]=e>>>8&255,n[t+2]=e>>>16&255,n[t+3]=e>>>24&255},OJ=function(n,e,t){n[t]=e&255,n[t+1]=e>>8&255,n[t+2]=e>>16&255,n[t+3]=e>>24&255},NJ=function(n,e,t){n[t]=e&255,n[t+1]=e>>>8&255};function FJ(n,e,t){var r=0,i=0;if(t==="dbcs"){for(i=0;i!=e.length;++i)NJ(this,e.charCodeAt(i),this.l+2*i);r=2*e.length}else if(t==="sbcs"){if(typeof Ut<"u"&&Qu==874)for(i=0;i!=e.length;++i){var s=Ut.utils.encode(Qu,e.charAt(i));this[this.l+i]=s[0]}else for(e=e.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=e.length;++i)this[this.l+i]=e.charCodeAt(i)&255;r=e.length}else if(t==="hex"){for(;i<n;++i)this[this.l++]=parseInt(e.slice(2*i,2*i+2),16)||0;return this}else if(t==="utf16le"){var o=Math.min(this.l+n,this.length);for(i=0;i<Math.min(e.length,n);++i){var a=e.charCodeAt(i);this[this.l++]=a&255,this[this.l++]=a>>8}for(;this.l<o;)this[this.l++]=0;return this}else switch(n){case 1:r=1,this[this.l]=e&255;break;case 2:r=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:r=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:r=4,PJ(this,e,this.l);break;case 8:if(r=8,t==="f"){kJ(this,e,this.l);break}case 16:break;case-4:r=4,OJ(this,e,this.l);break}return this.l+=r,this}function eL(n,e){var t=q4(this,this.l,n.length>>1);if(t!==n)throw new Error(e+"Expected "+n+" saw "+t);this.l+=n.length>>1}function pr(n,e){n.l=e,n.read_shift=yh,n.chk=eL,n.write_shift=FJ}function Lr(n,e){n.l+=e}function Bn(n){var e=Na(n);return pr(e,0),e}function Lo(n,e,t){if(n){var r,i,s;pr(n,n.l||0);for(var o=n.length,a=0,c=0;n.l<o;){a=n.read_shift(1),a&128&&(a=(a&127)+((n.read_shift(1)&127)<<7));var l=H_[a]||H_[65535];for(r=n.read_shift(1),s=r&127,i=1;i<4&&r&128;++i)s+=((r=n.read_shift(1))&127)<<7*i;c=n.l+s;var u=l.f&&l.f(n,s,t);if(n.l=c,e(u,l,a))return}}}function hI(){var n=[],e=Ct?256:2048,t=function(l){var u=Bn(l);return pr(u,0),u},r=t(e),i=function(){r&&(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&n.push(r),r=null)},s=function(l){return r&&l<r.length-r.l?r:(i(),r=t(Math.max(l+1,e)))},o=function(){return i(),Ma(n)},a=function(l){i(),r=l,r.l==null&&(r.l=r.length),s(e)};return{next:s,push:a,end:o,_bufs:n}}function xh(n,e,t){var r=mr(n);if(e.s?(r.cRel&&(r.c+=e.s.c),r.rRel&&(r.r+=e.s.r)):(r.cRel&&(r.c+=e.c),r.rRel&&(r.r+=e.r)),!t||t.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function HF(n,e,t){var r=mr(n);return r.s=xh(r.s,e.s,t),r.e=xh(r.e,e.s,t),r}function Eh(n,e){if(n.cRel&&n.c<0)for(n=mr(n);n.c<0;)n.c+=e>8?16384:256;if(n.rRel&&n.r<0)for(n=mr(n);n.r<0;)n.r+=e>8?1048576:e>5?65536:16384;var t=nt(n);return!n.cRel&&n.cRel!=null&&(t=BJ(t)),!n.rRel&&n.rRel!=null&&(t=LJ(t)),t}function iI(n,e){return n.s.r==0&&!n.s.rRel&&n.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!n.e.rRel?(n.s.cRel?"":"$")+qn(n.s.c)+":"+(n.e.cRel?"":"$")+qn(n.e.c):n.s.c==0&&!n.s.cRel&&n.e.c==(e.biff>=12?16383:255)&&!n.e.cRel?(n.s.rRel?"":"$")+gr(n.s.r)+":"+(n.e.rRel?"":"$")+gr(n.e.r):Eh(n.s,e.biff)+":"+Eh(n.e,e.biff)}function LI(n){return parseInt(VJ(n),10)-1}function gr(n){return""+(n+1)}function LJ(n){return n.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function VJ(n){return n.replace(/\$(\d+)$/,"$1")}function VI(n){for(var e=UJ(n),t=0,r=0;r!==e.length;++r)t=26*t+e.charCodeAt(r)-64;return t-1}function qn(n){if(n<0)throw new Error("invalid column "+n);var e="";for(++n;n;n=Math.floor((n-1)/26))e=String.fromCharCode((n-1)%26+65)+e;return e}function BJ(n){return n.replace(/^([A-Z])/,"$$$1")}function UJ(n){return n.replace(/^\$([A-Z])/,"$1")}function jJ(n){return n.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Yr(n){for(var e=0,t=0,r=0;r<n.length;++r){var i=n.charCodeAt(r);i>=48&&i<=57?e=10*e+(i-48):i>=65&&i<=90&&(t=26*t+(i-64))}return{c:t-1,r:e-1}}function nt(n){for(var e=n.c+1,t="";e;e=(e-1)/26|0)t=String.fromCharCode((e-1)%26+65)+t;return t+(n.r+1)}function nd(n){var e=n.indexOf(":");return e==-1?{s:Yr(n),e:Yr(n)}:{s:Yr(n.slice(0,e)),e:Yr(n.slice(e+1))}}function kt(n,e){return typeof e>"u"||typeof e=="number"?kt(n.s,n.e):(typeof n!="string"&&(n=nt(n)),typeof e!="string"&&(e=nt(e)),n==e?n:n+":"+e)}function Cn(n){var e={s:{c:0,r:0},e:{c:0,r:0}},t=0,r=0,i=0,s=n.length;for(t=0;r<s&&!((i=n.charCodeAt(r)-64)<1||i>26);++r)t=26*t+i;for(e.s.c=--t,t=0;r<s&&!((i=n.charCodeAt(r)-48)<0||i>9);++r)t=10*t+i;if(e.s.r=--t,r===s||i!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++r,t=0;r!=s&&!((i=n.charCodeAt(r)-64)<1||i>26);++r)t=26*t+i;for(e.e.c=--t,t=0;r!=s&&!((i=n.charCodeAt(r)-48)<0||i>9);++r)t=10*t+i;return e.e.r=--t,e}function zF(n,e){var t=n.t=="d"&&e instanceof Date;if(n.z!=null)try{return n.w=Gi(n.z,t?Qr(e):e)}catch{}try{return n.w=Gi((n.XF||{}).numFmtId||(t?14:0),t?Qr(e):e)}catch{return""+e}}function Fo(n,e,t){return n==null||n.t==null||n.t=="z"?"":n.w!==void 0?n.w:(n.t=="d"&&!n.z&&t&&t.dateNF&&(n.z=t.dateNF),n.t=="e"?Kc[n.v]||n.v:e==null?zF(n,n.v):zF(n,e))}function La(n,e){var t=e&&e.sheet?e.sheet:"Sheet1",r={};return r[t]=n,{SheetNames:[t],Sheets:r}}function tL(n,e,t){var r=t||{},i=n?Array.isArray(n):r.dense;Un!=null&&i==null&&(i=Un);var s=n||(i?[]:{}),o=0,a=0;if(s&&r.origin!=null){if(typeof r.origin=="number")o=r.origin;else{var c=typeof r.origin=="string"?Yr(r.origin):r.origin;o=c.r,a=c.c}s["!ref"]||(s["!ref"]="A1:A1")}var l={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var u=Cn(s["!ref"]);l.s.c=u.s.c,l.s.r=u.s.r,l.e.c=Math.max(l.e.c,u.e.c),l.e.r=Math.max(l.e.r,u.e.r),o==-1&&(l.e.r=o=u.e.r+1)}for(var f=0;f!=e.length;++f)if(e[f]){if(!Array.isArray(e[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=e[f].length;++h)if(!(typeof e[f][h]>"u")){var p={v:e[f][h]},y=o+f,v=a+h;if(l.s.r>y&&(l.s.r=y),l.s.c>v&&(l.s.c=v),l.e.r<y&&(l.e.r=y),l.e.c<v&&(l.e.c=v),e[f][h]&&typeof e[f][h]=="object"&&!Array.isArray(e[f][h])&&!(e[f][h]instanceof Date))p=e[f][h];else if(Array.isArray(p.v)&&(p.f=e[f][h][1],p.v=p.v[0]),p.v===null)if(p.f)p.t="n";else if(r.nullError)p.t="e",p.v=0;else if(r.sheetStubs)p.t="z";else continue;else typeof p.v=="number"?p.t="n":typeof p.v=="boolean"?p.t="b":p.v instanceof Date?(p.z=r.dateNF||st[14],r.cellDates?(p.t="d",p.w=Gi(p.z,Qr(p.v))):(p.t="n",p.v=Qr(p.v),p.w=Gi(p.z,p.v))):p.t="s";if(i)s[y]||(s[y]=[]),s[y][v]&&s[y][v].z&&(p.z=s[y][v].z),s[y][v]=p;else{var w=nt({c:v,r:y});s[w]&&s[w].z&&(p.z=s[w].z),s[w]=p}}}return l.s.c<1e7&&(s["!ref"]=kt(l)),s}function rd(n,e){return tL(null,n,e)}function $J(n){return n.read_shift(4,"i")}function Fr(n){var e=n.read_shift(4);return e===0?"":n.read_shift(e,"dbcs")}function HJ(n){return{ich:n.read_shift(2),ifnt:n.read_shift(2)}}function BI(n,e){var t=n.l,r=n.read_shift(1),i=Fr(n),s=[],o={t:i,h:i};if((r&1)!==0){for(var a=n.read_shift(4),c=0;c!=a;++c)s.push(HJ(n));o.r=s}else o.r=[{ich:0,ifnt:0}];return n.l=t+e,o}var zJ=BI;function Ki(n){var e=n.read_shift(4),t=n.read_shift(2);return t+=n.read_shift(1)<<16,n.l++,{c:e,iStyleRef:t}}function qc(n){var e=n.read_shift(2);return e+=n.read_shift(1)<<16,n.l++,{c:-1,iStyleRef:e}}var WJ=Fr;function UI(n){var e=n.read_shift(4);return e===0||e===4294967295?"":n.read_shift(e,"dbcs")}var qJ=Fr,pI=UI;function jI(n){var e=n.slice(n.l,n.l+4),t=e[0]&1,r=e[0]&2;n.l+=4;var i=r===0?L_([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):Lc(e,0)>>2;return t?i/100:i}function nL(n){var e={s:{},e:{}};return e.s.r=n.read_shift(4),e.e.r=n.read_shift(4),e.s.c=n.read_shift(4),e.e.c=n.read_shift(4),e}var Gc=nL;function Pr(n){if(n.length-n.l<8)throw"XLS Xnum Buffer underflow";return n.read_shift(8,"f")}function GJ(n){var e={},t=n.read_shift(1),r=t>>>1,i=n.read_shift(1),s=n.read_shift(2,"i"),o=n.read_shift(1),a=n.read_shift(1),c=n.read_shift(1);switch(n.l++,r){case 0:e.auto=1;break;case 1:e.index=i;var l=Uc[i];l&&(e.rgb=Rh(l));break;case 2:e.rgb=Rh([o,a,c]);break;case 3:e.theme=i;break}return s!=0&&(e.tint=s>0?s/32767:s/32768),e}function KJ(n){var e=n.read_shift(1);n.l++;var t={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return t}function rL(n,e){var t={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},r=n.read_shift(4);switch(r){case 0:return"";case 4294967295:case 4294967294:return t[n.read_shift(4)]||""}if(r>400)throw new Error("Unsupported Clipboard: "+r.toString(16));return n.l-=4,n.read_shift(0,e==1?"lpstr":"lpwstr")}function XJ(n){return rL(n,1)}function YJ(n){return rL(n,2)}var $I=2,li=3,T_=11,WF=12,V_=19;var S_=64,QJ=65,ZJ=71;var JJ=4108,eee=4126,tr=80,iL=81,tee=[tr,iL],nee={1:{n:"CodePage",t:$I},2:{n:"Category",t:tr},3:{n:"PresentationFormat",t:tr},4:{n:"ByteCount",t:li},5:{n:"LineCount",t:li},6:{n:"ParagraphCount",t:li},7:{n:"SlideCount",t:li},8:{n:"NoteCount",t:li},9:{n:"HiddenCount",t:li},10:{n:"MultimediaClipCount",t:li},11:{n:"ScaleCrop",t:T_},12:{n:"HeadingPairs",t:JJ},13:{n:"TitlesOfParts",t:eee},14:{n:"Manager",t:tr},15:{n:"Company",t:tr},16:{n:"LinksUpToDate",t:T_},17:{n:"CharacterCount",t:li},19:{n:"SharedDoc",t:T_},22:{n:"HyperlinksChanged",t:T_},23:{n:"AppVersion",t:li,p:"version"},24:{n:"DigSig",t:QJ},26:{n:"ContentType",t:tr},27:{n:"ContentStatus",t:tr},28:{n:"Language",t:tr},29:{n:"Version",t:tr},255:{},2147483648:{n:"Locale",t:V_},2147483651:{n:"Behavior",t:V_},1919054434:{}},ree={1:{n:"CodePage",t:$I},2:{n:"Title",t:tr},3:{n:"Subject",t:tr},4:{n:"Author",t:tr},5:{n:"Keywords",t:tr},6:{n:"Comments",t:tr},7:{n:"Template",t:tr},8:{n:"LastAuthor",t:tr},9:{n:"RevNumber",t:tr},10:{n:"EditTime",t:S_},11:{n:"LastPrinted",t:S_},12:{n:"CreatedDate",t:S_},13:{n:"ModifiedDate",t:S_},14:{n:"PageCount",t:li},15:{n:"WordCount",t:li},16:{n:"CharCount",t:li},17:{n:"Thumbnail",t:ZJ},18:{n:"Application",t:tr},19:{n:"DocSecurity",t:li},255:{},2147483648:{n:"Locale",t:V_},2147483651:{n:"Behavior",t:V_},1919054434:{}},qF={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},iee=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function see(n){return n.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var oee=see([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Uc=mr(oee),Kc={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},sL={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},GF={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function aee(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function cee(n){var e=aee();if(!n||!n.match)return e;var t={};if((n.match(Vr)||[]).forEach(function(r){var i=Qe(r);switch(i[0].replace(mJ,"<")){case"<?xml":break;case"<Types":e.xmlns=i["xmlns"+(i[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":t[i.Extension]=i.ContentType;break;case"<Override":e[GF[i.ContentType]]!==void 0&&e[GF[i.ContentType]].push(i.PartName);break}}),e.xmlns!==TJ.CT)throw new Error("Unknown Namespace: "+e.xmlns);return e.calcchain=e.calcchains.length>0?e.calcchains[0]:"",e.sst=e.strs.length>0?e.strs[0]:"",e.style=e.styles.length>0?e.styles[0]:"",e.defaults=t,delete e.calcchains,e}var Ro={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function mI(n){var e=n.lastIndexOf("/");return n.slice(0,e+1)+"_rels/"+n.slice(e+1)+".rels"}function wh(n,e){var t={"!id":{}};if(!n)return t;e.charAt(0)!=="/"&&(e="/"+e);var r={};return(n.match(Vr)||[]).forEach(function(i){var s=Qe(i);if(s[0]==="<Relationship"){var o={};o.Type=s.Type,o.Target=s.Target,o.Id=s.Id,s.TargetMode&&(o.TargetMode=s.TargetMode);var a=s.TargetMode==="External"?s.Target:_h(s.Target,e);t[a]=o,r[s.Id]=o}}),t["!id"]=r,t}var lee="application/vnd.oasis.opendocument.spreadsheet";function uee(n,e){for(var t=MI(n),r,i;r=Ah.exec(t);)switch(r[3]){case"manifest":break;case"file-entry":if(i=Qe(r[0],!1),i.path=="/"&&i.type!==lee)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(e&&e.WTF)throw r}}var Ch=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],dee=function(){for(var n=new Array(Ch.length),e=0;e<Ch.length;++e){var t=Ch[e],r="(?:"+t[0].slice(0,t[0].indexOf(":"))+":)"+t[0].slice(t[0].indexOf(":")+1);n[e]=new RegExp("<"+r+"[^>]*>([\\s\\S]*?)</"+r+">")}return n}();function oL(n){var e={};n=en(n);for(var t=0;t<Ch.length;++t){var r=Ch[t],i=n.match(dee[t]);i!=null&&i.length>0&&(e[r[1]]=Mt(i[1])),r[2]==="date"&&e[r[1]]&&(e[r[1]]=rr(e[r[1]]))}return e}var fee=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function aL(n,e,t,r){var i=[];if(typeof n=="string")i=LF(n,r);else for(var s=0;s<n.length;++s)i=i.concat(n[s].map(function(u){return{v:u}}));var o=typeof e=="string"?LF(e,r).map(function(u){return u.v}):e,a=0,c=0;if(o.length>0)for(var l=0;l!==i.length;l+=2){switch(c=+i[l+1].v,i[l].v){case"Worksheets":case"\u5DE5\u4F5C\u8868":case"\u041B\u0438\u0441\u0442\u044B":case"\u0623\u0648\u0631\u0627\u0642 \u0627\u0644\u0639\u0645\u0644":case"\u30EF\u30FC\u30AF\u30B7\u30FC\u30C8":case"\u05D2\u05DC\u05D9\u05D5\u05E0\u05D5\u05EA \u05E2\u05D1\u05D5\u05D3\u05D4":case"Arbeitsbl\xE4tter":case"\xC7al\u0131\u015Fma Sayfalar\u0131":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de c\xE1lculo":case"Planilhas":case"Regneark":case"Hojas de c\xE1lculo":case"Werkbladen":t.Worksheets=c,t.SheetNames=o.slice(a,a+c);break;case"Named Ranges":case"Rangos con nombre":case"\u540D\u524D\u4ED8\u304D\u4E00\u89A7":case"Benannte Bereiche":case"Navngivne omr\xE5der":t.NamedRanges=c,t.DefinedNames=o.slice(a,a+c);break;case"Charts":case"Diagramme":t.Chartsheets=c,t.ChartNames=o.slice(a,a+c);break}a+=c}}function hee(n,e,t){var r={};return e||(e={}),n=en(n),fee.forEach(function(i){var s=(n.match(kh(i[0]))||[])[1];switch(i[2]){case"string":s&&(e[i[1]]=Mt(s));break;case"bool":e[i[1]]=s==="true";break;case"raw":var o=n.match(new RegExp("<"+i[0]+"[^>]*>([\\s\\S]*?)</"+i[0]+">"));o&&o.length>0&&(r[i[1]]=o[1]);break}}),r.HeadingPairs&&r.TitlesOfParts&&aL(r.HeadingPairs,r.TitlesOfParts,e,t),e}var pee=/<[^>]+>[^<]*/g;function mee(n,e){var t={},r="",i=n.match(pee);if(i)for(var s=0;s!=i.length;++s){var o=i[s],a=Qe(o);switch(a[0]){case"<?xml":break;case"<Properties":break;case"<property":r=Mt(a.name);break;case"</property>":r=null;break;default:if(o.indexOf("<vt:")===0){var c=o.split(">"),l=c[0].slice(4),u=c[1];switch(l){case"lpstr":case"bstr":case"lpwstr":t[r]=Mt(u);break;case"bool":t[r]=hn(u);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":t[r]=parseInt(u,10);break;case"r4":case"r8":case"decimal":t[r]=parseFloat(u);break;case"filetime":case"date":t[r]=rr(u);break;case"cy":case"error":t[r]=Mt(u);break;default:if(l.slice(-1)=="/")break;e.WTF&&typeof console<"u"&&console.warn("Unexpected",o,l,c)}}else if(o.slice(0,2)!=="</"){if(e.WTF)throw new Error(o)}}}return t}var gee={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},sI;function _ee(n,e,t){sI||(sI=DI(gee)),e=sI[e]||e,n[e]=t}function HI(n){var e=n.read_shift(4),t=n.read_shift(4);return new Date((t/1e7*Math.pow(2,32)+e/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function cL(n,e,t){var r=n.l,i=n.read_shift(0,"lpstr-cp");if(t)for(;n.l-r&3;)++n.l;return i}function lL(n,e,t){var r=n.read_shift(0,"lpwstr");return t&&(n.l+=4-(r.length+1&3)&3),r}function uL(n,e,t){return e===31?lL(n):cL(n,e,t)}function gI(n,e,t){return uL(n,e,t===!1?0:4)}function vee(n,e){if(!e)throw new Error("VtUnalignedString must have positive length");return uL(n,e,0)}function yee(n){for(var e=n.read_shift(4),t=[],r=0;r!=e;++r){var i=n.l;t[r]=n.read_shift(0,"lpwstr").replace(Nr,""),n.l-i&2&&(n.l+=2)}return t}function xee(n){for(var e=n.read_shift(4),t=[],r=0;r!=e;++r)t[r]=n.read_shift(0,"lpstr-cp").replace(Nr,"");return t}function Eee(n){var e=n.l,t=B_(n,iL);n[n.l]==0&&n[n.l+1]==0&&n.l-e&2&&(n.l+=2);var r=B_(n,li);return[t,r]}function wee(n){for(var e=n.read_shift(4),t=[],r=0;r<e/2;++r)t.push(Eee(n));return t}function KF(n,e){for(var t=n.read_shift(4),r={},i=0;i!=t;++i){var s=n.read_shift(4),o=n.read_shift(4);r[s]=n.read_shift(o,e===1200?"utf16le":"utf8").replace(Nr,"").replace(gh,"!"),e===1200&&o%2&&(n.l+=2)}return n.l&3&&(n.l=n.l>>3<<2),r}function dL(n){var e=n.read_shift(4),t=n.slice(n.l,n.l+e);return n.l+=e,(e&3)>0&&(n.l+=4-(e&3)&3),t}function Cee(n){var e={};return e.Size=n.read_shift(4),n.l+=e.Size+3-(e.Size-1)%4,e}function B_(n,e,t){var r=n.read_shift(2),i,s=t||{};if(n.l+=2,e!==WF&&r!==e&&tee.indexOf(e)===-1&&!((e&65534)==4126&&(r&65534)==4126))throw new Error("Expected type "+e+" saw "+r);switch(e===WF?r:e){case 2:return i=n.read_shift(2,"i"),s.raw||(n.l+=2),i;case 3:return i=n.read_shift(4,"i"),i;case 11:return n.read_shift(4)!==0;case 19:return i=n.read_shift(4),i;case 30:return cL(n,r,4).replace(Nr,"");case 31:return lL(n);case 64:return HI(n);case 65:return dL(n);case 71:return Cee(n);case 80:return gI(n,r,!s.raw).replace(Nr,"");case 81:return vee(n,r).replace(Nr,"");case 4108:return wee(n);case 4126:case 4127:return r==4127?yee(n):xee(n);default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+r)}}function XF(n,e){var t=n.l,r=n.read_shift(4),i=n.read_shift(4),s=[],o=0,a=0,c=-1,l={};for(o=0;o!=i;++o){var u=n.read_shift(4),f=n.read_shift(4);s[o]=[u,f+t]}s.sort(function(V,k){return V[1]-k[1]});var h={};for(o=0;o!=i;++o){if(n.l!==s[o][1]){var p=!0;if(o>0&&e)switch(e[s[o-1][0]].t){case 2:n.l+2===s[o][1]&&(n.l+=2,p=!1);break;case 80:n.l<=s[o][1]&&(n.l=s[o][1],p=!1);break;case 4108:n.l<=s[o][1]&&(n.l=s[o][1],p=!1);break}if((!e||o==0)&&n.l<=s[o][1]&&(p=!1,n.l=s[o][1]),p)throw new Error("Read Error: Expected address "+s[o][1]+" at "+n.l+" :"+o)}if(e){var y=e[s[o][0]];if(h[y.n]=B_(n,y.t,{raw:!0}),y.p==="version"&&(h[y.n]=String(h[y.n]>>16)+"."+("0000"+String(h[y.n]&65535)).slice(-4)),y.n=="CodePage")switch(h[y.n]){case 0:h[y.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:fs(a=h[y.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+h[y.n])}}else if(s[o][0]===1){if(a=h.CodePage=B_(n,$I),fs(a),c!==-1){var v=n.l;n.l=s[c][1],l=KF(n,a),n.l=v}}else if(s[o][0]===0){if(a===0){c=o,n.l=s[o+1][1];continue}l=KF(n,a)}else{var w=l[s[o][0]],F;switch(n[n.l]){case 65:n.l+=4,F=dL(n);break;case 30:n.l+=4,F=gI(n,n[n.l-4]).replace(/\u0000+$/,"");break;case 31:n.l+=4,F=gI(n,n[n.l-4]).replace(/\u0000+$/,"");break;case 3:n.l+=4,F=n.read_shift(4,"i");break;case 19:n.l+=4,F=n.read_shift(4);break;case 5:n.l+=4,F=n.read_shift(8,"f");break;case 11:n.l+=4,F=Tn(n,4);break;case 64:n.l+=4,F=rr(HI(n));break;default:throw new Error("unparsed value: "+n[n.l])}h[w]=F}}return n.l=t+r,h}function YF(n,e,t){var r=n.content;if(!r)return{};pr(r,0);var i,s,o,a,c=0;r.chk("feff","Byte Order: "),r.read_shift(2);var l=r.read_shift(4),u=r.read_shift(16);if(u!==Dt.utils.consts.HEADER_CLSID&&u!==t)throw new Error("Bad PropertySet CLSID "+u);if(i=r.read_shift(4),i!==1&&i!==2)throw new Error("Unrecognized #Sets: "+i);if(s=r.read_shift(16),a=r.read_shift(4),i===1&&a!==r.l)throw new Error("Length mismatch: "+a+" !== "+r.l);i===2&&(o=r.read_shift(16),c=r.read_shift(4));var f=XF(r,e),h={SystemIdentifier:l};for(var p in f)h[p]=f[p];if(h.FMTID=s,i===1)return h;if(c-r.l==2&&(r.l+=2),r.l!==c)throw new Error("Length mismatch 2: "+r.l+" !== "+c);var y;try{y=XF(r,null)}catch{}for(p in y)h[p]=y[p];return h.FMTID=[s,o],h}function Aa(n,e){return n.read_shift(e),null}function bee(n,e,t){for(var r=[],i=n.l+e;n.l<i;)r.push(t(n,i-n.l));if(i!==n.l)throw new Error("Slurp error");return r}function Tn(n,e){return n.read_shift(e)===1}function Vn(n){return n.read_shift(2,"u")}function fL(n,e){return bee(n,e,Vn)}function Iee(n){var e=n.read_shift(1),t=n.read_shift(1);return t===1?e:e===1}function Fh(n,e,t){var r=n.read_shift(t&&t.biff>=12?2:1),i="sbcs-cont",s=Hs;if(t&&t.biff>=8&&(Hs=1200),!t||t.biff==8){var o=n.read_shift(1);o&&(i="dbcs-cont")}else t.biff==12&&(i="wstr");t.biff>=2&&t.biff<=5&&(i="cpstr");var a=r?n.read_shift(r,i):"";return Hs=s,a}function Tee(n){var e=Hs;Hs=1200;var t=n.read_shift(2),r=n.read_shift(1),i=r&4,s=r&8,o=1+(r&1),a=0,c,l={};s&&(a=n.read_shift(2)),i&&(c=n.read_shift(4));var u=o==2?"dbcs-cont":"sbcs-cont",f=t===0?"":n.read_shift(t,u);return s&&(n.l+=4*a),i&&(n.l+=c),l.t=f,s||(l.raw="<t>"+l.t+"</t>",l.r=l.t),Hs=e,l}function Hc(n,e,t){var r;if(t){if(t.biff>=2&&t.biff<=5)return n.read_shift(e,"cpstr");if(t.biff>=12)return n.read_shift(e,"dbcs-cont")}var i=n.read_shift(1);return i===0?r=n.read_shift(e,"sbcs-cont"):r=n.read_shift(e,"dbcs-cont"),r}function Lh(n,e,t){var r=n.read_shift(t&&t.biff==2?1:2);return r===0?(n.l++,""):Hc(n,r,t)}function Xc(n,e,t){if(t.biff>5)return Lh(n,e,t);var r=n.read_shift(1);return r===0?(n.l++,""):n.read_shift(r,t.biff<=4||!n.lens?"cpstr":"sbcs-cont")}function See(n){var e=n.read_shift(1);n.l++;var t=n.read_shift(2);return n.l+=2,[e,t]}function Dee(n){var e=n.read_shift(4),t=n.l,r=!1;e>24&&(n.l+=e-24,n.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(r=!0),n.l=t);var i=n.read_shift((r?e-24:e)>>1,"utf16le").replace(Nr,"");return r&&(n.l+=24),i}function kee(n){for(var e=n.read_shift(2),t="";e-- >0;)t+="../";var r=n.read_shift(0,"lpstr-ansi");if(n.l+=2,n.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var i=n.read_shift(4);if(i===0)return t+r.replace(/\\/g,"/");var s=n.read_shift(4);if(n.read_shift(2)!=3)throw new Error("Bad FileMoniker");var o=n.read_shift(s>>1,"utf16le").replace(Nr,"");return t+o}function Aee(n,e){var t=n.read_shift(16);switch(e-=16,t){case"e0c9ea79f9bace118c8200aa004ba90b":return Dee(n,e);case"0303000000000000c000000000000046":return kee(n,e);default:throw new Error("Unsupported Moniker "+t)}}function D_(n){var e=n.read_shift(4),t=e>0?n.read_shift(e,"utf16le").replace(Nr,""):"";return t}function Mee(n,e){var t=n.l+e,r=n.read_shift(4);if(r!==2)throw new Error("Unrecognized streamVersion: "+r);var i=n.read_shift(2);n.l+=2;var s,o,a,c,l="",u,f;i&16&&(s=D_(n,t-n.l)),i&128&&(o=D_(n,t-n.l)),(i&257)===257&&(a=D_(n,t-n.l)),(i&257)===1&&(c=Aee(n,t-n.l)),i&8&&(l=D_(n,t-n.l)),i&32&&(u=n.read_shift(16)),i&64&&(f=HI(n)),n.l=t;var h=o||a||c||"";h&&l&&(h+="#"+l),h||(h="#"+l),i&2&&h.charAt(0)=="/"&&h.charAt(1)!="/"&&(h="file://"+h);var p={Target:h};return u&&(p.guid=u),f&&(p.time=f),s&&(p.Tooltip=s),p}function hL(n){var e=n.read_shift(1),t=n.read_shift(1),r=n.read_shift(1),i=n.read_shift(1);return[e,t,r,i]}function pL(n,e){var t=hL(n,e);return t[3]=0,t}function qs(n){var e=n.read_shift(2),t=n.read_shift(2),r=n.read_shift(2);return{r:e,c:t,ixfe:r}}function Ree(n){var e=n.read_shift(2),t=n.read_shift(2);return n.l+=8,{type:e,flags:t}}function Pee(n,e,t){return e===0?"":Xc(n,e,t)}function Oee(n,e,t){var r=t.biff>8?4:2,i=n.read_shift(r),s=n.read_shift(r,"i"),o=n.read_shift(r,"i");return[i,s,o]}function mL(n){var e=n.read_shift(2),t=jI(n);return[e,t]}function Nee(n,e,t){n.l+=4,e-=4;var r=n.l+e,i=Fh(n,e,t),s=n.read_shift(2);if(r-=n.l,s!==r)throw new Error("Malformed AddinUdf: padding = "+r+" != "+s);return n.l+=s,i}function G_(n){var e=n.read_shift(2),t=n.read_shift(2),r=n.read_shift(2),i=n.read_shift(2);return{s:{c:r,r:e},e:{c:i,r:t}}}function gL(n){var e=n.read_shift(2),t=n.read_shift(2),r=n.read_shift(1),i=n.read_shift(1);return{s:{c:r,r:e},e:{c:i,r:t}}}var Fee=gL;function _L(n){n.l+=4;var e=n.read_shift(2),t=n.read_shift(2),r=n.read_shift(2);return n.l+=12,[t,e,r]}function Lee(n){var e={};return n.l+=4,n.l+=16,e.fSharedNote=n.read_shift(2),n.l+=4,e}function Vee(n){var e={};return n.l+=4,n.cf=n.read_shift(2),e}function Mr(n){n.l+=2,n.l+=n.read_shift(2)}var Bee={0:Mr,4:Mr,5:Mr,6:Mr,7:Vee,8:Mr,9:Mr,10:Mr,11:Mr,12:Mr,13:Lee,14:Mr,15:Mr,16:Mr,17:Mr,18:Mr,19:Mr,20:Mr,21:_L};function Uee(n,e){for(var t=n.l+e,r=[];n.l<t;){var i=n.read_shift(2);n.l-=2;try{r.push(Bee[i](n,t-n.l))}catch{return n.l=t,r}}return n.l!=t&&(n.l=t),r}function k_(n,e){var t={BIFFVer:0,dt:0};switch(t.BIFFVer=n.read_shift(2),e-=2,e>=2&&(t.dt=n.read_shift(2),n.l-=2),t.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(e>6)throw new Error("Unexpected BIFF Ver "+t.BIFFVer)}return n.read_shift(e),t}function jee(n,e){return e===0||n.read_shift(2),1200}function $ee(n,e,t){if(t.enc)return n.l+=e,"";var r=n.l,i=Xc(n,0,t);return n.read_shift(e+r-n.l),i}function Hee(n,e,t){var r=t&&t.biff==8||e==2?n.read_shift(2):(n.l+=e,0);return{fDialog:r&16,fBelow:r&64,fRight:r&128}}function zee(n,e,t){var r=n.read_shift(4),i=n.read_shift(1)&3,s=n.read_shift(1);switch(s){case 0:s="Worksheet";break;case 1:s="Macrosheet";break;case 2:s="Chartsheet";break;case 6:s="VBAModule";break}var o=Fh(n,0,t);return o.length===0&&(o="Sheet1"),{pos:r,hs:i,dt:s,name:o}}function Wee(n,e){for(var t=n.l+e,r=n.read_shift(4),i=n.read_shift(4),s=[],o=0;o!=i&&n.l<t;++o)s.push(Tee(n));return s.Count=r,s.Unique=i,s}function qee(n,e){var t={};return t.dsst=n.read_shift(2),n.l+=e-2,t}function Gee(n){var e={};e.r=n.read_shift(2),e.c=n.read_shift(2),e.cnt=n.read_shift(2)-e.c;var t=n.read_shift(2);n.l+=4;var r=n.read_shift(1);return n.l+=3,r&7&&(e.level=r&7),r&32&&(e.hidden=!0),r&64&&(e.hpt=t/20),e}function Kee(n){var e=Ree(n);if(e.type!=2211)throw new Error("Invalid Future Record "+e.type);var t=n.read_shift(4);return t!==0}function Xee(n){return n.read_shift(2),n.read_shift(4)}function QF(n,e,t){var r=0;t&&t.biff==2||(r=n.read_shift(2));var i=n.read_shift(2);t&&t.biff==2&&(r=1-(i>>15),i&=32767);var s={Unsynced:r&1,DyZero:(r&2)>>1,ExAsc:(r&4)>>2,ExDsc:(r&8)>>3};return[s,i]}function Yee(n){var e=n.read_shift(2),t=n.read_shift(2),r=n.read_shift(2),i=n.read_shift(2),s=n.read_shift(2),o=n.read_shift(2),a=n.read_shift(2),c=n.read_shift(2),l=n.read_shift(2);return{Pos:[e,t],Dim:[r,i],Flags:s,CurTab:o,FirstTab:a,Selected:c,TabRatio:l}}function Qee(n,e,t){if(t&&t.biff>=2&&t.biff<5)return{};var r=n.read_shift(2);return{RTL:r&64}}function Zee(){}function Jee(n,e,t){var r={dyHeight:n.read_shift(2),fl:n.read_shift(2)};switch(t&&t.biff||8){case 2:break;case 3:case 4:n.l+=2;break;default:n.l+=10;break}return r.name=Fh(n,0,t),r}function ete(n){var e=qs(n);return e.isst=n.read_shift(4),e}function tte(n,e,t){t.biffguess&&t.biff==2&&(t.biff=5);var r=n.l+e,i=qs(n,6);t.biff==2&&n.l++;var s=Lh(n,r-n.l,t);return i.val=s,i}function nte(n,e,t){var r=n.read_shift(2),i=Xc(n,0,t);return[r,i]}var rte=Xc;function ZF(n,e,t){var r=n.l+e,i=t.biff==8||!t.biff?4:2,s=n.read_shift(i),o=n.read_shift(i),a=n.read_shift(2),c=n.read_shift(2);return n.l=r,{s:{r:s,c:a},e:{r:o,c}}}function ite(n){var e=n.read_shift(2),t=n.read_shift(2),r=mL(n);return{r:e,c:t,ixfe:r[0],rknum:r[1]}}function ste(n,e){for(var t=n.l+e-2,r=n.read_shift(2),i=n.read_shift(2),s=[];n.l<t;)s.push(mL(n));if(n.l!==t)throw new Error("MulRK read error");var o=n.read_shift(2);if(s.length!=o-i+1)throw new Error("MulRK length mismatch");return{r,c:i,C:o,rkrec:s}}function ote(n,e){for(var t=n.l+e-2,r=n.read_shift(2),i=n.read_shift(2),s=[];n.l<t;)s.push(n.read_shift(2));if(n.l!==t)throw new Error("MulBlank read error");var o=n.read_shift(2);if(s.length!=o-i+1)throw new Error("MulBlank length mismatch");return{r,c:i,C:o,ixfe:s}}function ate(n,e,t,r){var i={},s=n.read_shift(4),o=n.read_shift(4),a=n.read_shift(4),c=n.read_shift(2);return i.patternType=iee[a>>26],r.cellStyles&&(i.alc=s&7,i.fWrap=s>>3&1,i.alcV=s>>4&7,i.fJustLast=s>>7&1,i.trot=s>>8&255,i.cIndent=s>>16&15,i.fShrinkToFit=s>>20&1,i.iReadOrder=s>>22&2,i.fAtrNum=s>>26&1,i.fAtrFnt=s>>27&1,i.fAtrAlc=s>>28&1,i.fAtrBdr=s>>29&1,i.fAtrPat=s>>30&1,i.fAtrProt=s>>31&1,i.dgLeft=o&15,i.dgRight=o>>4&15,i.dgTop=o>>8&15,i.dgBottom=o>>12&15,i.icvLeft=o>>16&127,i.icvRight=o>>23&127,i.grbitDiag=o>>30&3,i.icvTop=a&127,i.icvBottom=a>>7&127,i.icvDiag=a>>14&127,i.dgDiag=a>>21&15,i.icvFore=c&127,i.icvBack=c>>7&127,i.fsxButton=c>>14&1),i}function cte(n,e,t){var r={};return r.ifnt=n.read_shift(2),r.numFmtId=n.read_shift(2),r.flags=n.read_shift(2),r.fStyle=r.flags>>2&1,e-=6,r.data=ate(n,e,r.fStyle,t),r}function lte(n){n.l+=4;var e=[n.read_shift(2),n.read_shift(2)];if(e[0]!==0&&e[0]--,e[1]!==0&&e[1]--,e[0]>7||e[1]>7)throw new Error("Bad Gutters: "+e.join("|"));return e}function JF(n,e,t){var r=qs(n,6);(t.biff==2||e==9)&&++n.l;var i=Iee(n,2);return r.val=i,r.t=i===!0||i===!1?"b":"e",r}function ute(n,e,t){t.biffguess&&t.biff==2&&(t.biff=5);var r=qs(n,6),i=Pr(n,8);return r.val=i,r}var e4=Pee;function dte(n,e,t){var r=n.l+e,i=n.read_shift(2),s=n.read_shift(2);if(t.sbcch=s,s==1025||s==14849)return[s,i];if(s<1||s>255)throw new Error("Unexpected SupBook type: "+s);for(var o=Hc(n,s),a=[];r>n.l;)a.push(Lh(n));return[s,i,o,a]}function t4(n,e,t){var r=n.read_shift(2),i,s={fBuiltIn:r&1,fWantAdvise:r>>>1&1,fWantPict:r>>>2&1,fOle:r>>>3&1,fOleLink:r>>>4&1,cf:r>>>5&1023,fIcon:r>>>15&1};return t.sbcch===14849&&(i=Nee(n,e-2,t)),s.body=i||n.read_shift(e-2),typeof i=="string"&&(s.Name=i),s}var fte=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function n4(n,e,t){var r=n.l+e,i=n.read_shift(2),s=n.read_shift(1),o=n.read_shift(1),a=n.read_shift(t&&t.biff==2?1:2),c=0;(!t||t.biff>=5)&&(t.biff!=5&&(n.l+=2),c=n.read_shift(2),t.biff==5&&(n.l+=2),n.l+=4);var l=Hc(n,o,t);i&32&&(l=fte[l.charCodeAt(0)]);var u=r-n.l;t&&t.biff==2&&--u;var f=r==n.l||a===0||!(u>0)?[]:Gie(n,u,t,a);return{chKey:s,Name:l,itab:c,rgce:f}}function vL(n,e,t){if(t.biff<8)return hte(n,e,t);for(var r=[],i=n.l+e,s=n.read_shift(t.biff>8?4:2);s--!==0;)r.push(Oee(n,t.biff>8?12:6,t));if(n.l!=i)throw new Error("Bad ExternSheet: "+n.l+" != "+i);return r}function hte(n,e,t){n[n.l+1]==3&&n[n.l]++;var r=Fh(n,e,t);return r.charCodeAt(0)==3?r.slice(1):r}function pte(n,e,t){if(t.biff<8){n.l+=e;return}var r=n.read_shift(2),i=n.read_shift(2),s=Hc(n,r,t),o=Hc(n,i,t);return[s,o]}function mte(n,e,t){var r=gL(n,6);n.l++;var i=n.read_shift(1);return e-=8,[Kie(n,e,t),i,r]}function r4(n,e,t){var r=Fee(n,6);switch(t.biff){case 2:n.l++,e-=7;break;case 3:case 4:n.l+=2,e-=8;break;default:n.l+=6,e-=12}return[r,Wie(n,e,t,r)]}function gte(n){var e=n.read_shift(4)!==0,t=n.read_shift(4)!==0,r=n.read_shift(4);return[e,t,r]}function _te(n,e,t){if(!(t.biff<8)){var r=n.read_shift(2),i=n.read_shift(2),s=n.read_shift(2),o=n.read_shift(2),a=Xc(n,0,t);return t.biff<8&&n.read_shift(1),[{r,c:i},a,o,s]}}function vte(n,e,t){return _te(n,e,t)}function yte(n,e){for(var t=[],r=n.read_shift(2);r--;)t.push(G_(n,e));return t}function xte(n,e,t){if(t&&t.biff<8)return wte(n,e,t);var r=_L(n,22),i=Uee(n,e-22,r[1]);return{cmo:r,ft:i}}var Ete={8:function(n,e){var t=n.l+e;n.l+=10;var r=n.read_shift(2);n.l+=4,n.l+=2,n.l+=2,n.l+=2,n.l+=4;var i=n.read_shift(1);return n.l+=i,n.l=t,{fmt:r}}};function wte(n,e,t){n.l+=4;var r=n.read_shift(2),i=n.read_shift(2),s=n.read_shift(2);n.l+=2,n.l+=2,n.l+=2,n.l+=2,n.l+=2,n.l+=2,n.l+=2,n.l+=2,n.l+=2,n.l+=6,e-=36;var o=[];return o.push((Ete[r]||Lr)(n,e,t)),{cmo:[i,r,s],ft:o}}function Cte(n,e,t){var r=n.l,i="";try{n.l+=4;var s=(t.lastobj||{cmo:[0,0]}).cmo[1],o;[0,5,7,11,12,14].indexOf(s)==-1?n.l+=6:o=See(n,6,t);var a=n.read_shift(2);n.read_shift(2),Vn(n,2);var c=n.read_shift(2);n.l+=c;for(var l=1;l<n.lens.length-1;++l){if(n.l-r!=n.lens[l])throw new Error("TxO: bad continue record");var u=n[n.l],f=Hc(n,n.lens[l+1]-n.lens[l]-1);if(i+=f,i.length>=(u?a:2*a))break}if(i.length!==a&&i.length!==a*2)throw new Error("cchText: "+a+" != "+i.length);return n.l=r+e,{t:i}}catch{return n.l=r+e,{t:i}}}function bte(n,e){var t=G_(n,8);n.l+=16;var r=Mee(n,e-24);return[t,r]}function Ite(n,e){n.read_shift(2);var t=G_(n,8),r=n.read_shift((e-10)/2,"dbcs-cont");return r=r.replace(Nr,""),[t,r]}function Tte(n){var e=[0,0],t;return t=n.read_shift(2),e[0]=qF[t]||t,t=n.read_shift(2),e[1]=qF[t]||t,e}function Ste(n){for(var e=n.read_shift(2),t=[];e-- >0;)t.push(pL(n,8));return t}function Dte(n){for(var e=n.read_shift(2),t=[];e-- >0;)t.push(pL(n,8));return t}function kte(n){n.l+=2;var e={cxfs:0,crc:0};return e.cxfs=n.read_shift(2),e.crc=n.read_shift(4),e}function yL(n,e,t){if(!t.cellStyles)return Lr(n,e);var r=t&&t.biff>=12?4:2,i=n.read_shift(r),s=n.read_shift(r),o=n.read_shift(r),a=n.read_shift(r),c=n.read_shift(2);r==2&&(n.l+=2);var l={s:i,e:s,w:o,ixfe:a,flags:c};return(t.biff>=5||!t.biff)&&(l.level=c>>8&7),l}function Ate(n,e){var t={};return e<32||(n.l+=16,t.header=Pr(n,8),t.footer=Pr(n,8),n.l+=2),t}function Mte(n,e,t){var r={area:!1};if(t.biff!=5)return n.l+=e,r;var i=n.read_shift(1);return n.l+=3,i&16&&(r.area=!0),r}var Rte=qs,Pte=fL,Ote=Lh;function Nte(n){var e=n.read_shift(2),t=n.read_shift(2),r=n.read_shift(4),i={fmt:e,env:t,len:r,data:n.slice(n.l,n.l+r)};return n.l+=r,i}function Fte(n,e,t){t.biffguess&&t.biff==5&&(t.biff=2);var r=qs(n,6);++n.l;var i=Xc(n,e-7,t);return r.t="str",r.val=i,r}function Lte(n){var e=qs(n,6);++n.l;var t=Pr(n,8);return e.t="n",e.val=t,e}function Vte(n){var e=qs(n,6);++n.l;var t=n.read_shift(2);return e.t="n",e.val=t,e}function Bte(n){var e=n.read_shift(1);return e===0?(n.l++,""):n.read_shift(e,"sbcs-cont")}function Ute(n,e){n.l+=6,n.l+=2,n.l+=1,n.l+=3,n.l+=1,n.l+=e-13}function jte(n,e,t){var r=n.l+e,i=qs(n,6),s=n.read_shift(2),o=Hc(n,s,t);return n.l=r,i.t="str",i.val=o,i}var $te=[2,3,48,49,131,139,140,245],i4=function(){var n={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=DI({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function t(a,c){var l=[],u=Na(1);switch(c.type){case"base64":u=ds(Di(a));break;case"binary":u=ds(a);break;case"buffer":case"array":u=a;break}pr(u,0);var f=u.read_shift(1),h=!!(f&136),p=!1,y=!1;switch(f){case 2:break;case 3:break;case 48:p=!0,h=!0;break;case 49:p=!0,h=!0;break;case 131:break;case 139:break;case 140:y=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var v=0,w=521;f==2&&(v=u.read_shift(2)),u.l+=3,f!=2&&(v=u.read_shift(4)),v>1048576&&(v=1e6),f!=2&&(w=u.read_shift(2));var F=u.read_shift(2),V=c.codepage||1252;f!=2&&(u.l+=16,u.read_shift(1),u[u.l]!==0&&(V=n[u[u.l]]),u.l+=1,u.l+=2),y&&(u.l+=36);for(var k=[],X={},se=Math.min(u.length,f==2?521:w-10-(p?264:0)),G=y?32:11;u.l<se&&u[u.l]!=13;)switch(X={},X.name=Ut.utils.decode(V,u.slice(u.l,u.l+G)).replace(/[\u0000\r\n].*$/g,""),u.l+=G,X.type=String.fromCharCode(u.read_shift(1)),f!=2&&!y&&(X.offset=u.read_shift(4)),X.len=u.read_shift(1),f==2&&(X.offset=u.read_shift(2)),X.dec=u.read_shift(1),X.name.length&&k.push(X),f!=2&&(u.l+=y?13:14),X.type){case"B":(!p||X.len!=8)&&c.WTF&&console.log("Skipping "+X.name+":"+X.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+X.name+":"+X.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+X.type)}if(u[u.l]!==13&&(u.l=w-1),u.read_shift(1)!==13)throw new Error("DBF Terminator not found "+u.l+" "+u[u.l]);u.l=w;var b=0,I=0;for(l[0]=[],I=0;I!=k.length;++I)l[0][I]=k[I].name;for(;v-- >0;){if(u[u.l]===42){u.l+=F;continue}for(++u.l,l[++b]=[],I=0,I=0;I!=k.length;++I){var T=u.slice(u.l,u.l+k[I].len);u.l+=k[I].len,pr(T,0);var R=Ut.utils.decode(V,T);switch(k[I].type){case"C":R.trim().length&&(l[b][I]=R.replace(/\s+$/,""));break;case"D":R.length===8?l[b][I]=new Date(+R.slice(0,4),+R.slice(4,6)-1,+R.slice(6,8)):l[b][I]=R;break;case"F":l[b][I]=parseFloat(R.trim());break;case"+":case"I":l[b][I]=y?T.read_shift(-4,"i")^2147483648:T.read_shift(4,"i");break;case"L":switch(R.trim().toUpperCase()){case"Y":case"T":l[b][I]=!0;break;case"N":case"F":l[b][I]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+R+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));l[b][I]="##MEMO##"+(y?parseInt(R.trim(),10):T.read_shift(4));break;case"N":R=R.replace(/\u0000/g,"").trim(),R&&R!="."&&(l[b][I]=+R||0);break;case"@":l[b][I]=new Date(T.read_shift(-8,"f")-621356832e5);break;case"T":l[b][I]=new Date((T.read_shift(4)-2440588)*864e5+T.read_shift(4));break;case"Y":l[b][I]=T.read_shift(4,"i")/1e4+T.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":l[b][I]=-T.read_shift(-8,"f");break;case"B":if(p&&k[I].len==8){l[b][I]=T.read_shift(8,"f");break}case"G":case"P":T.l+=k[I].len;break;case"0":if(k[I].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+k[I].type)}}}if(f!=2&&u.l<u.length&&u[u.l++]!=26)throw new Error("DBF EOF Marker missing "+(u.l-1)+" of "+u.length+" "+u[u.l-1].toString(16));return c&&c.sheetRows&&(l=l.slice(0,c.sheetRows)),c.DBF=k,l}function r(a,c){var l=c||{};l.dateNF||(l.dateNF="yyyymmdd");var u=rd(t(a,l),l);return u["!cols"]=l.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete l.DBF,u}function i(a,c){try{return La(r(a,c),c)}catch(l){if(c&&c.WTF)throw l}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function o(a,c){var l=c||{};if(+l.codepage>=0&&fs(+l.codepage),l.type=="string")throw new Error("Cannot write DBF to JS string");var u=hI(),f=wI(a,{header:1,raw:!0,cellDates:!0}),h=f[0],p=f.slice(1),y=a["!cols"]||[],v=0,w=0,F=0,V=1;for(v=0;v<h.length;++v){if(((y[v]||{}).DBF||{}).name){h[v]=y[v].DBF.name,++F;continue}if(h[v]!=null){if(++F,typeof h[v]=="number"&&(h[v]=h[v].toString(10)),typeof h[v]!="string")throw new Error("DBF Invalid column name "+h[v]+" |"+typeof h[v]+"|");if(h.indexOf(h[v])!==v){for(w=0;w<1024;++w)if(h.indexOf(h[v]+"_"+w)==-1){h[v]+="_"+w;break}}}}var k=Cn(a["!ref"]),X=[],se=[],G=[];for(v=0;v<=k.e.c-k.s.c;++v){var b="",I="",T=0,R=[];for(w=0;w<p.length;++w)p[w][v]!=null&&R.push(p[w][v]);if(R.length==0||h[v]==null){X[v]="?";continue}for(w=0;w<R.length;++w){switch(typeof R[w]){case"number":I="B";break;case"string":I="C";break;case"boolean":I="L";break;case"object":I=R[w]instanceof Date?"D":"C";break;default:I="C"}T=Math.max(T,String(R[w]).length),b=b&&b!=I?"C":I}T>250&&(T=250),I=((y[v]||{}).DBF||{}).type,I=="C"&&y[v].DBF.len>T&&(T=y[v].DBF.len),b=="B"&&I=="N"&&(b="N",G[v]=y[v].DBF.dec,T=y[v].DBF.len),se[v]=b=="C"||I=="N"?T:s[b]||0,V+=se[v],X[v]=b}var P=u.next(32);for(P.write_shift(4,318902576),P.write_shift(4,p.length),P.write_shift(2,296+32*F),P.write_shift(2,V),v=0;v<4;++v)P.write_shift(4,0);for(P.write_shift(4,0|(+e[Qu]||3)<<8),v=0,w=0;v<h.length;++v)if(h[v]!=null){var A=u.next(32),N=(h[v].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);A.write_shift(1,N,"sbcs"),A.write_shift(1,X[v]=="?"?"C":X[v],"sbcs"),A.write_shift(4,w),A.write_shift(1,se[v]||s[X[v]]||0),A.write_shift(1,G[v]||0),A.write_shift(1,2),A.write_shift(4,0),A.write_shift(1,0),A.write_shift(4,0),A.write_shift(4,0),w+=se[v]||s[X[v]]||0}var Oe=u.next(264);for(Oe.write_shift(4,13),v=0;v<65;++v)Oe.write_shift(4,0);for(v=0;v<p.length;++v){var Ce=u.next(V);for(Ce.write_shift(1,0),w=0;w<h.length;++w)if(h[w]!=null)switch(X[w]){case"L":Ce.write_shift(1,p[v][w]==null?63:p[v][w]?84:70);break;case"B":Ce.write_shift(8,p[v][w]||0,"f");break;case"N":var $e="0";for(typeof p[v][w]=="number"&&($e=p[v][w].toFixed(G[w]||0)),F=0;F<se[w]-$e.length;++F)Ce.write_shift(1,32);Ce.write_shift(1,$e,"sbcs");break;case"D":p[v][w]?(Ce.write_shift(4,("0000"+p[v][w].getFullYear()).slice(-4),"sbcs"),Ce.write_shift(2,("00"+(p[v][w].getMonth()+1)).slice(-2),"sbcs"),Ce.write_shift(2,("00"+p[v][w].getDate()).slice(-2),"sbcs")):Ce.write_shift(8,"00000000","sbcs");break;case"C":var Ne=String(p[v][w]!=null?p[v][w]:"").slice(0,se[w]);for(Ce.write_shift(1,Ne,"sbcs"),F=0;F<se[w]-Ne.length;++F)Ce.write_shift(1,32);break}}return u.next(1).write_shift(1,26),u.end()}return{to_workbook:i,to_sheet:r,from_sheet:o}}(),Hte=function(){var n={AA:"\xC0",BA:"\xC1",CA:"\xC2",DA:195,HA:"\xC4",JA:197,AE:"\xC8",BE:"\xC9",CE:"\xCA",HE:"\xCB",AI:"\xCC",BI:"\xCD",CI:"\xCE",HI:"\xCF",AO:"\xD2",BO:"\xD3",CO:"\xD4",DO:213,HO:"\xD6",AU:"\xD9",BU:"\xDA",CU:"\xDB",HU:"\xDC",Aa:"\xE0",Ba:"\xE1",Ca:"\xE2",Da:227,Ha:"\xE4",Ja:229,Ae:"\xE8",Be:"\xE9",Ce:"\xEA",He:"\xEB",Ai:"\xEC",Bi:"\xED",Ci:"\xEE",Hi:"\xEF",Ao:"\xF2",Bo:"\xF3",Co:"\xF4",Do:245,Ho:"\xF6",Au:"\xF9",Bu:"\xFA",Cu:"\xFB",Hu:"\xFC",KC:"\xC7",Kc:"\xE7",q:"\xE6",z:"\u0153",a:"\xC6",j:"\u0152",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+zs(n).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),t=function(h,p){var y=n[p];return typeof y=="number"?yF(y):y},r=function(h,p,y){var v=p.charCodeAt(0)-32<<4|y.charCodeAt(0)-48;return v==59?h:yF(v)};n["|"]=254;function i(h,p){switch(p.type){case"base64":return s(Di(h),p);case"binary":return s(h,p);case"buffer":return s(Ct&&Buffer.isBuffer(h)?h.toString("binary"):Wc(h),p);case"array":return s($c(h),p)}throw new Error("Unrecognized type "+p.type)}function s(h,p){var y=h.split(/[\n\r]+/),v=-1,w=-1,F=0,V=0,k=[],X=[],se=null,G={},b=[],I=[],T=[],R=0,P;for(+p.codepage>=0&&fs(+p.codepage);F!==y.length;++F){R=0;var A=y[F].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(e,t),N=A.replace(/;;/g,"\0").split(";").map(function(K){return K.replace(/\u0000/g,";")}),Oe=N[0],Ce;if(A.length>0)switch(Oe){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":N[1].charAt(0)=="P"&&X.push(A.slice(3).replace(/;;/g,";"));break;case"C":var $e=!1,Ne=!1,ft=!1,ke=!1,Be=-1,fe=-1;for(V=1;V<N.length;++V)switch(N[V].charAt(0)){case"A":break;case"X":w=parseInt(N[V].slice(1))-1,Ne=!0;break;case"Y":for(v=parseInt(N[V].slice(1))-1,Ne||(w=0),P=k.length;P<=v;++P)k[P]=[];break;case"K":Ce=N[V].slice(1),Ce.charAt(0)==='"'?Ce=Ce.slice(1,Ce.length-1):Ce==="TRUE"?Ce=!0:Ce==="FALSE"?Ce=!1:isNaN(ps(Ce))?isNaN(Zu(Ce).getDate())||(Ce=rr(Ce)):(Ce=ps(Ce),se!==null&&ed(se)&&(Ce=W_(Ce))),typeof Ut<"u"&&typeof Ce=="string"&&(p||{}).type!="string"&&(p||{}).codepage&&(Ce=Ut.utils.decode(p.codepage,Ce)),$e=!0;break;case"E":ke=!0;var z=Xu(N[V].slice(1),{r:v,c:w});k[v][w]=[k[v][w],z];break;case"S":ft=!0,k[v][w]=[k[v][w],"S5S"];break;case"G":break;case"R":Be=parseInt(N[V].slice(1))-1;break;case"C":fe=parseInt(N[V].slice(1))-1;break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+A)}if($e&&(k[v][w]&&k[v][w].length==2?k[v][w][0]=Ce:k[v][w]=Ce,se=null),ft){if(ke)throw new Error("SYLK shared formula cannot have own formula");var J=Be>-1&&k[Be][fe];if(!J||!J[1])throw new Error("SYLK shared formula cannot find base");k[v][w][1]=kL(J[1],{r:v-Be,c:w-fe})}break;case"F":var Y=0;for(V=1;V<N.length;++V)switch(N[V].charAt(0)){case"X":w=parseInt(N[V].slice(1))-1,++Y;break;case"Y":for(v=parseInt(N[V].slice(1))-1,P=k.length;P<=v;++P)k[P]=[];break;case"M":R=parseInt(N[V].slice(1))/20;break;case"F":break;case"G":break;case"P":se=X[parseInt(N[V].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(T=N[V].slice(1).split(" "),P=parseInt(T[0],10);P<=parseInt(T[1],10);++P)R=parseInt(T[2],10),I[P-1]=R===0?{hidden:!0}:{wch:R},Ju(I[P-1]);break;case"C":w=parseInt(N[V].slice(1))-1,I[w]||(I[w]={});break;case"R":v=parseInt(N[V].slice(1))-1,b[v]||(b[v]={}),R>0?(b[v].hpt=R,b[v].hpx=Ph(R)):R===0&&(b[v].hidden=!0);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+A)}Y<1&&(se=null);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+A)}}return b.length>0&&(G["!rows"]=b),I.length>0&&(G["!cols"]=I),p&&p.sheetRows&&(k=k.slice(0,p.sheetRows)),[k,G]}function o(h,p){var y=i(h,p),v=y[0],w=y[1],F=rd(v,p);return zs(w).forEach(function(V){F[V]=w[V]}),F}function a(h,p){return La(o(h,p),p)}function c(h,p,y,v){var w="C;Y"+(y+1)+";X"+(v+1)+";K";switch(h.t){case"n":w+=h.v||0,h.f&&!h.F&&(w+=";E"+kre(h.f,{r:y,c:v}));break;case"b":w+=h.v?"TRUE":"FALSE";break;case"e":w+=h.w||h.v;break;case"d":w+='"'+(h.w||h.v)+'"';break;case"s":w+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return w}function l(h,p){p.forEach(function(y,v){var w="F;W"+(v+1)+" "+(v+1)+" ";y.hidden?w+="0":(typeof y.width=="number"&&!y.wpx&&(y.wpx=j_(y.width)),typeof y.wpx=="number"&&!y.wch&&(y.wch=$_(y.wpx)),typeof y.wch=="number"&&(w+=Math.round(y.wch))),w.charAt(w.length-1)!=" "&&h.push(w)})}function u(h,p){p.forEach(function(y,v){var w="F;";y.hidden?w+="M0;":y.hpt?w+="M"+20*y.hpt+";":y.hpx&&(w+="M"+20*TL(y.hpx)+";"),w.length>2&&h.push(w+"R"+(v+1))})}function f(h,p){var y=["ID;PWXL;N;E"],v=[],w=Cn(h["!ref"]),F,V=Array.isArray(h),k=`\r
`;y.push("P;PGeneral"),y.push("F;P0;DG0G8;M255"),h["!cols"]&&l(y,h["!cols"]),h["!rows"]&&u(y,h["!rows"]),y.push("B;Y"+(w.e.r-w.s.r+1)+";X"+(w.e.c-w.s.c+1)+";D"+[w.s.c,w.s.r,w.e.c,w.e.r].join(" "));for(var X=w.s.r;X<=w.e.r;++X)for(var se=w.s.c;se<=w.e.c;++se){var G=nt({r:X,c:se});F=V?(h[X]||[])[se]:h[G],!(!F||F.v==null&&(!F.f||F.F))&&v.push(c(F,h,X,se,p))}return y.join(k)+k+v.join(k)+k+"E"+k}return{to_workbook:a,to_sheet:o,from_sheet:f}}(),zte=function(){function n(s,o){switch(o.type){case"base64":return e(Di(s),o);case"binary":return e(s,o);case"buffer":return e(Ct&&Buffer.isBuffer(s)?s.toString("binary"):Wc(s),o);case"array":return e($c(s),o)}throw new Error("Unrecognized type "+o.type)}function e(s,o){for(var a=s.split(`
`),c=-1,l=-1,u=0,f=[];u!==a.length;++u){if(a[u].trim()==="BOT"){f[++c]=[],l=0;continue}if(!(c<0)){var h=a[u].trim().split(","),p=h[0],y=h[1];++u;for(var v=a[u]||"";(v.match(/["]/g)||[]).length&1&&u<a.length-1;)v+=`
`+a[++u];switch(v=v.trim(),+p){case-1:if(v==="BOT"){f[++c]=[],l=0;continue}else if(v!=="EOD")throw new Error("Unrecognized DIF special command "+v);break;case 0:v==="TRUE"?f[c][l]=!0:v==="FALSE"?f[c][l]=!1:isNaN(ps(y))?isNaN(Zu(y).getDate())?f[c][l]=y:f[c][l]=rr(y):f[c][l]=ps(y),++l;break;case 1:v=v.slice(1,v.length-1),v=v.replace(/""/g,'"'),ph&&v&&v.match(/^=".*"$/)&&(v=v.slice(2,-1)),f[c][l++]=v!==""?v:null;break}if(v==="EOD")break}}return o&&o.sheetRows&&(f=f.slice(0,o.sheetRows)),f}function t(s,o){return rd(n(s,o),o)}function r(s,o){return La(t(s,o),o)}var i=function(){var s=function(c,l,u,f,h){c.push(l),c.push(u+","+f),c.push('"'+h.replace(/"/g,'""')+'"')},o=function(c,l,u,f){c.push(l+","+u),c.push(l==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(c){var l=[],u=Cn(c["!ref"]),f,h=Array.isArray(c);s(l,"TABLE",0,1,"sheetjs"),s(l,"VECTORS",0,u.e.r-u.s.r+1,""),s(l,"TUPLES",0,u.e.c-u.s.c+1,""),s(l,"DATA",0,0,"");for(var p=u.s.r;p<=u.e.r;++p){o(l,-1,0,"BOT");for(var y=u.s.c;y<=u.e.c;++y){var v=nt({r:p,c:y});if(f=h?(c[p]||[])[y]:c[v],!f){o(l,1,0,"");continue}switch(f.t){case"n":var w=ph?f.w:f.v;!w&&f.v!=null&&(w=f.v),w==null?ph&&f.f&&!f.F?o(l,1,0,"="+f.f):o(l,1,0,""):o(l,0,w,"V");break;case"b":o(l,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":o(l,1,0,!ph||isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=Gi(f.z||st[14],Qr(rr(f.v)))),ph?o(l,0,f.w,"V"):o(l,1,0,f.w);break;default:o(l,1,0,"")}}}o(l,-1,0,"EOD");var F=`\r
`,V=l.join(F);return V}}();return{to_workbook:r,to_sheet:t,from_sheet:i}}(),Wte=function(){function n(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function t(f,h){for(var p=f.split(`
`),y=-1,v=-1,w=0,F=[];w!==p.length;++w){var V=p[w].trim().split(":");if(V[0]==="cell"){var k=Yr(V[1]);if(F.length<=k.r)for(y=F.length;y<=k.r;++y)F[y]||(F[y]=[]);switch(y=k.r,v=k.c,V[2]){case"t":F[y][v]=n(V[3]);break;case"v":F[y][v]=+V[3];break;case"vtf":var X=V[V.length-1];case"vtc":switch(V[3]){case"nl":F[y][v]=!!+V[4];break;default:F[y][v]=+V[4];break}V[2]=="vtf"&&(F[y][v]=[F[y][v],X])}}}return h&&h.sheetRows&&(F=F.slice(0,h.sheetRows)),F}function r(f,h){return rd(t(f,h),h)}function i(f,h){return La(r(f,h),h)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,a=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function l(f){if(!f||!f["!ref"])return"";for(var h=[],p=[],y,v="",w=nd(f["!ref"]),F=Array.isArray(f),V=w.s.r;V<=w.e.r;++V)for(var k=w.s.c;k<=w.e.c;++k)if(v=nt({r:V,c:k}),y=F?(f[V]||[])[k]:f[v],!(!y||y.v==null||y.t==="z")){switch(p=["cell",v,"t"],y.t){case"s":case"str":p.push(e(y.v));break;case"n":y.f?(p[2]="vtf",p[3]="n",p[4]=y.v,p[5]=e(y.f)):(p[2]="v",p[3]=y.v);break;case"b":p[2]="vt"+(y.f?"f":"c"),p[3]="nl",p[4]=y.v?"1":"0",p[5]=e(y.f||(y.v?"TRUE":"FALSE"));break;case"d":var X=Qr(rr(y.v));p[2]="vtc",p[3]="nd",p[4]=""+X,p[5]=y.w||Gi(y.z||st[14],X);break;case"e":continue}h.push(p.join(":"))}return h.push("sheet:c:"+(w.e.c-w.s.c+1)+":r:"+(w.e.r-w.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function u(f){return[s,o,a,o,l(f),c].join(`
`)}return{to_workbook:i,to_sheet:r,from_sheet:u}}(),Mh=function(){function n(u,f,h,p,y){y.raw?f[h][p]=u:u===""||(u==="TRUE"?f[h][p]=!0:u==="FALSE"?f[h][p]=!1:isNaN(ps(u))?isNaN(Zu(u).getDate())?f[h][p]=u:f[h][p]=rr(u):f[h][p]=ps(u))}function e(u,f){var h=f||{},p=[];if(!u||u.length===0)return p;for(var y=u.split(/[\r\n]/),v=y.length-1;v>=0&&y[v].length===0;)--v;for(var w=10,F=0,V=0;V<=v;++V)F=y[V].indexOf(" "),F==-1?F=y[V].length:F++,w=Math.max(w,F);for(V=0;V<=v;++V){p[V]=[];var k=0;for(n(y[V].slice(0,w).trim(),p,V,k,h),k=1;k<=(y[V].length-w)/10+1;++k)n(y[V].slice(w+(k-1)*10,w+k*10).trim(),p,V,k,h)}return h.sheetRows&&(p=p.slice(0,h.sheetRows)),p}var t={44:",",9:"	",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function i(u){for(var f={},h=!1,p=0,y=0;p<u.length;++p)(y=u.charCodeAt(p))==34?h=!h:!h&&y in t&&(f[y]=(f[y]||0)+1);y=[];for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&y.push([f[p],p]);if(!y.length){f=r;for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&y.push([f[p],p])}return y.sort(function(v,w){return v[0]-w[0]||r[v[1]]-r[w[1]]}),t[y.pop()[1]]||44}function s(u,f){var h=f||{},p="";Un!=null&&h.dense==null&&(h.dense=Un);var y=h.dense?[]:{},v={s:{c:0,r:0},e:{c:0,r:0}};u.slice(0,4)=="sep="?u.charCodeAt(5)==13&&u.charCodeAt(6)==10?(p=u.charAt(4),u=u.slice(7)):u.charCodeAt(5)==13||u.charCodeAt(5)==10?(p=u.charAt(4),u=u.slice(6)):p=i(u.slice(0,1024)):h&&h.FS?p=h.FS:p=i(u.slice(0,1024));var w=0,F=0,V=0,k=0,X=0,se=p.charCodeAt(0),G=!1,b=0,I=u.charCodeAt(0);u=u.replace(/\r\n/mg,`
`);var T=h.dateNF!=null?nJ(h.dateNF):null;function R(){var P=u.slice(k,X),A={};if(P.charAt(0)=='"'&&P.charAt(P.length-1)=='"'&&(P=P.slice(1,-1).replace(/""/g,'"')),P.length===0)A.t="z";else if(h.raw)A.t="s",A.v=P;else if(P.trim().length===0)A.t="s",A.v=P;else if(P.charCodeAt(0)==61)P.charCodeAt(1)==34&&P.charCodeAt(P.length-1)==34?(A.t="s",A.v=P.slice(2,-1).replace(/""/g,'"')):Mre(P)?(A.t="n",A.f=P.slice(1)):(A.t="s",A.v=P);else if(P=="TRUE")A.t="b",A.v=!0;else if(P=="FALSE")A.t="b",A.v=!1;else if(!isNaN(V=ps(P)))A.t="n",h.cellText!==!1&&(A.w=P),A.v=V;else if(!isNaN(Zu(P).getDate())||T&&P.match(T)){A.z=h.dateNF||st[14];var N=0;T&&P.match(T)&&(P=rJ(P,h.dateNF,P.match(T)||[]),N=1),h.cellDates?(A.t="d",A.v=rr(P,N)):(A.t="n",A.v=Qr(rr(P,N))),h.cellText!==!1&&(A.w=Gi(A.z,A.v instanceof Date?Qr(A.v):A.v)),h.cellNF||delete A.z}else A.t="s",A.v=P;if(A.t=="z"||(h.dense?(y[w]||(y[w]=[]),y[w][F]=A):y[nt({c:F,r:w})]=A),k=X+1,I=u.charCodeAt(k),v.e.c<F&&(v.e.c=F),v.e.r<w&&(v.e.r=w),b==se)++F;else if(F=0,++w,h.sheetRows&&h.sheetRows<=w)return!0}e:for(;X<u.length;++X)switch(b=u.charCodeAt(X)){case 34:I===34&&(G=!G);break;case se:case 10:case 13:if(!G&&R())break e;break;default:break}return X-k>0&&R(),y["!ref"]=kt(v),y}function o(u,f){return!(f&&f.PRN)||f.FS||u.slice(0,4)=="sep="||u.indexOf("	")>=0||u.indexOf(",")>=0||u.indexOf(";")>=0?s(u,f):rd(e(u,f),f)}function a(u,f){var h="",p=f.type=="string"?[0,0,0,0]:QI(u,f);switch(f.type){case"base64":h=Di(u);break;case"binary":h=u;break;case"buffer":f.codepage==65001?h=u.toString("utf8"):f.codepage&&typeof Ut<"u"?h=Ut.utils.decode(f.codepage,u):h=Ct&&Buffer.isBuffer(u)?u.toString("binary"):Wc(u);break;case"array":h=$c(u);break;case"string":h=u;break;default:throw new Error("Unrecognized type "+f.type)}return p[0]==239&&p[1]==187&&p[2]==191?h=en(h.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?h=en(h):f.type=="binary"&&typeof Ut<"u"&&f.codepage&&(h=Ut.utils.decode(f.codepage,Ut.utils.encode(28591,h))),h.slice(0,19)=="socialcalc:version:"?Wte.to_sheet(f.type=="string"?h:en(h),f):o(h,f)}function c(u,f){return La(a(u,f),f)}function l(u){for(var f=[],h=Cn(u["!ref"]),p,y=Array.isArray(u),v=h.s.r;v<=h.e.r;++v){for(var w=[],F=h.s.c;F<=h.e.c;++F){var V=nt({r:v,c:F});if(p=y?(u[v]||[])[F]:u[V],!p||p.v==null){w.push("          ");continue}for(var k=(p.w||(Fo(p),p.w)||"").slice(0,10);k.length<10;)k+=" ";w.push(k+(F===0?" ":""))}f.push(w.join(""))}return f.join(`
`)}return{to_workbook:c,to_sheet:a,from_sheet:l}}();function qte(n,e){var t=e||{},r=!!t.WTF;t.WTF=!0;try{var i=Hte.to_workbook(n,t);return t.WTF=r,i}catch(s){if(t.WTF=r,!s.message.match(/SYLK bad record ID/)&&r)throw s;return Mh.to_workbook(n,e)}}var bh=function(){function n(z,J,Y){if(z){pr(z,z.l||0);for(var K=Y.Enum||Be;z.l<z.length;){var he=z.read_shift(2),Me=K[he]||K[65535],Se=z.read_shift(2),Re=z.l+Se,_e=Me.f&&Me.f(z,Se,Y);if(z.l=Re,J(_e,Me,he))return}}}function e(z,J){switch(J.type){case"base64":return t(ds(Di(z)),J);case"binary":return t(ds(z),J);case"buffer":case"array":return t(z,J)}throw"Unsupported type "+J.type}function t(z,J){if(!z)return z;var Y=J||{};Un!=null&&Y.dense==null&&(Y.dense=Un);var K=Y.dense?[]:{},he="Sheet1",Me="",Se=0,Re={},_e=[],ht=[],q={s:{r:0,c:0},e:{r:0,c:0}},qt=Y.sheetRows||0;if(z[2]==0&&(z[3]==8||z[3]==9)&&z.length>=16&&z[14]==5&&z[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(z[2]==2)Y.Enum=Be,n(z,function(Ae,pn,Br){switch(Br){case 0:Y.vers=Ae,Ae>=4096&&(Y.qpro=!0);break;case 6:q=Ae;break;case 204:Ae&&(Me=Ae);break;case 222:Me=Ae;break;case 15:case 51:Y.qpro||(Ae[1].v=Ae[1].v.slice(1));case 13:case 14:case 16:Br==14&&(Ae[2]&112)==112&&(Ae[2]&15)>1&&(Ae[2]&15)<15&&(Ae[1].z=Y.dateNF||st[14],Y.cellDates&&(Ae[1].t="d",Ae[1].v=W_(Ae[1].v))),Y.qpro&&Ae[3]>Se&&(K["!ref"]=kt(q),Re[he]=K,_e.push(he),K=Y.dense?[]:{},q={s:{r:0,c:0},e:{r:0,c:0}},Se=Ae[3],he=Me||"Sheet"+(Se+1),Me="");var ui=Y.dense?(K[Ae[0].r]||[])[Ae[0].c]:K[nt(Ae[0])];if(ui){ui.t=Ae[1].t,ui.v=Ae[1].v,Ae[1].z!=null&&(ui.z=Ae[1].z),Ae[1].f!=null&&(ui.f=Ae[1].f);break}Y.dense?(K[Ae[0].r]||(K[Ae[0].r]=[]),K[Ae[0].r][Ae[0].c]=Ae[1]):K[nt(Ae[0])]=Ae[1];break;default:}},Y);else if(z[2]==26||z[2]==14)Y.Enum=fe,z[2]==14&&(Y.qpro=!0,z.l=0),n(z,function(Ae,pn,Br){switch(Br){case 204:he=Ae;break;case 22:Ae[1].v=Ae[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Ae[3]>Se&&(K["!ref"]=kt(q),Re[he]=K,_e.push(he),K=Y.dense?[]:{},q={s:{r:0,c:0},e:{r:0,c:0}},Se=Ae[3],he="Sheet"+(Se+1)),qt>0&&Ae[0].r>=qt)break;Y.dense?(K[Ae[0].r]||(K[Ae[0].r]=[]),K[Ae[0].r][Ae[0].c]=Ae[1]):K[nt(Ae[0])]=Ae[1],q.e.c<Ae[0].c&&(q.e.c=Ae[0].c),q.e.r<Ae[0].r&&(q.e.r=Ae[0].r);break;case 27:Ae[14e3]&&(ht[Ae[14e3][0]]=Ae[14e3][1]);break;case 1537:ht[Ae[0]]=Ae[1],Ae[0]==Se&&(he=Ae[1]);break;default:break}},Y);else throw new Error("Unrecognized LOTUS BOF "+z[2]);if(K["!ref"]=kt(q),Re[Me||he]=K,_e.push(Me||he),!ht.length)return{SheetNames:_e,Sheets:Re};for(var vt={},Pt=[],ct=0;ct<ht.length;++ct)Re[_e[ct]]?(Pt.push(ht[ct]||_e[ct]),vt[ht[ct]]=Re[ht[ct]]||Re[_e[ct]]):(Pt.push(ht[ct]),vt[ht[ct]]={"!ref":"A1"});return{SheetNames:Pt,Sheets:vt}}function r(z,J){var Y=J||{};if(+Y.codepage>=0&&fs(+Y.codepage),Y.type=="string")throw new Error("Cannot write WK1 to JS string");var K=hI(),he=Cn(z["!ref"]),Me=Array.isArray(z),Se=[];us(K,0,s(1030)),us(K,6,c(he));for(var Re=Math.min(he.e.r,8191),_e=he.s.r;_e<=Re;++_e)for(var ht=gr(_e),q=he.s.c;q<=he.e.c;++q){_e===he.s.r&&(Se[q]=qn(q));var qt=Se[q]+ht,vt=Me?(z[_e]||[])[q]:z[qt];if(!(!vt||vt.t=="z"))if(vt.t=="n")(vt.v|0)==vt.v&&vt.v>=-32768&&vt.v<=32767?us(K,13,p(_e,q,vt.v)):us(K,14,v(_e,q,vt.v));else{var Pt=Fo(vt);us(K,15,f(_e,q,Pt.slice(0,239)))}}return us(K,1),K.end()}function i(z,J){var Y=J||{};if(+Y.codepage>=0&&fs(+Y.codepage),Y.type=="string")throw new Error("Cannot write WK3 to JS string");var K=hI();us(K,0,o(z));for(var he=0,Me=0;he<z.SheetNames.length;++he)(z.Sheets[z.SheetNames[he]]||{})["!ref"]&&us(K,27,ke(z.SheetNames[he],Me++));var Se=0;for(he=0;he<z.SheetNames.length;++he){var Re=z.Sheets[z.SheetNames[he]];if(!(!Re||!Re["!ref"])){for(var _e=Cn(Re["!ref"]),ht=Array.isArray(Re),q=[],qt=Math.min(_e.e.r,8191),vt=_e.s.r;vt<=qt;++vt)for(var Pt=gr(vt),ct=_e.s.c;ct<=_e.e.c;++ct){vt===_e.s.r&&(q[ct]=qn(ct));var Ae=q[ct]+Pt,pn=ht?(Re[vt]||[])[ct]:Re[Ae];if(!(!pn||pn.t=="z"))if(pn.t=="n")us(K,23,R(vt,ct,Se,pn.v));else{var Br=Fo(pn);us(K,22,b(vt,ct,Se,Br.slice(0,239)))}}++Se}}return us(K,1),K.end()}function s(z){var J=Bn(2);return J.write_shift(2,z),J}function o(z){var J=Bn(26);J.write_shift(2,4096),J.write_shift(2,4),J.write_shift(4,0);for(var Y=0,K=0,he=0,Me=0;Me<z.SheetNames.length;++Me){var Se=z.SheetNames[Me],Re=z.Sheets[Se];if(!(!Re||!Re["!ref"])){++he;var _e=nd(Re["!ref"]);Y<_e.e.r&&(Y=_e.e.r),K<_e.e.c&&(K=_e.e.c)}}return Y>8191&&(Y=8191),J.write_shift(2,Y),J.write_shift(1,he),J.write_shift(1,K),J.write_shift(2,0),J.write_shift(2,0),J.write_shift(1,1),J.write_shift(1,2),J.write_shift(4,0),J.write_shift(4,0),J}function a(z,J,Y){var K={s:{c:0,r:0},e:{c:0,r:0}};return J==8&&Y.qpro?(K.s.c=z.read_shift(1),z.l++,K.s.r=z.read_shift(2),K.e.c=z.read_shift(1),z.l++,K.e.r=z.read_shift(2),K):(K.s.c=z.read_shift(2),K.s.r=z.read_shift(2),J==12&&Y.qpro&&(z.l+=2),K.e.c=z.read_shift(2),K.e.r=z.read_shift(2),J==12&&Y.qpro&&(z.l+=2),K.s.c==65535&&(K.s.c=K.e.c=K.s.r=K.e.r=0),K)}function c(z){var J=Bn(8);return J.write_shift(2,z.s.c),J.write_shift(2,z.s.r),J.write_shift(2,z.e.c),J.write_shift(2,z.e.r),J}function l(z,J,Y){var K=[{c:0,r:0},{t:"n",v:0},0,0];return Y.qpro&&Y.vers!=20768?(K[0].c=z.read_shift(1),K[3]=z.read_shift(1),K[0].r=z.read_shift(2),z.l+=2):(K[2]=z.read_shift(1),K[0].c=z.read_shift(2),K[0].r=z.read_shift(2)),K}function u(z,J,Y){var K=z.l+J,he=l(z,J,Y);if(he[1].t="s",Y.vers==20768){z.l++;var Me=z.read_shift(1);return he[1].v=z.read_shift(Me,"utf8"),he}return Y.qpro&&z.l++,he[1].v=z.read_shift(K-z.l,"cstr"),he}function f(z,J,Y){var K=Bn(7+Y.length);K.write_shift(1,255),K.write_shift(2,J),K.write_shift(2,z),K.write_shift(1,39);for(var he=0;he<K.length;++he){var Me=Y.charCodeAt(he);K.write_shift(1,Me>=128?95:Me)}return K.write_shift(1,0),K}function h(z,J,Y){var K=l(z,J,Y);return K[1].v=z.read_shift(2,"i"),K}function p(z,J,Y){var K=Bn(7);return K.write_shift(1,255),K.write_shift(2,J),K.write_shift(2,z),K.write_shift(2,Y,"i"),K}function y(z,J,Y){var K=l(z,J,Y);return K[1].v=z.read_shift(8,"f"),K}function v(z,J,Y){var K=Bn(13);return K.write_shift(1,255),K.write_shift(2,J),K.write_shift(2,z),K.write_shift(8,Y,"f"),K}function w(z,J,Y){var K=z.l+J,he=l(z,J,Y);if(he[1].v=z.read_shift(8,"f"),Y.qpro)z.l=K;else{var Me=z.read_shift(2);X(z.slice(z.l,z.l+Me),he),z.l+=Me}return he}function F(z,J,Y){var K=J&32768;return J&=-32769,J=(K?z:0)+(J>=8192?J-16384:J),(K?"":"$")+(Y?qn(J):gr(J))}var V={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},k=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function X(z,J){pr(z,0);for(var Y=[],K=0,he="",Me="",Se="",Re="";z.l<z.length;){var _e=z[z.l++];switch(_e){case 0:Y.push(z.read_shift(8,"f"));break;case 1:Me=F(J[0].c,z.read_shift(2),!0),he=F(J[0].r,z.read_shift(2),!1),Y.push(Me+he);break;case 2:{var ht=F(J[0].c,z.read_shift(2),!0),q=F(J[0].r,z.read_shift(2),!1);Me=F(J[0].c,z.read_shift(2),!0),he=F(J[0].r,z.read_shift(2),!1),Y.push(ht+q+":"+Me+he)}break;case 3:if(z.l<z.length){console.error("WK1 premature formula end");return}break;case 4:Y.push("("+Y.pop()+")");break;case 5:Y.push(z.read_shift(2));break;case 6:{for(var qt="";_e=z[z.l++];)qt+=String.fromCharCode(_e);Y.push('"'+qt.replace(/"/g,'""')+'"')}break;case 8:Y.push("-"+Y.pop());break;case 23:Y.push("+"+Y.pop());break;case 22:Y.push("NOT("+Y.pop()+")");break;case 20:case 21:Re=Y.pop(),Se=Y.pop(),Y.push(["AND","OR"][_e-20]+"("+Se+","+Re+")");break;default:if(_e<32&&k[_e])Re=Y.pop(),Se=Y.pop(),Y.push(Se+k[_e]+Re);else if(V[_e]){if(K=V[_e][1],K==69&&(K=z[z.l++]),K>Y.length){console.error("WK1 bad formula parse 0x"+_e.toString(16)+":|"+Y.join("|")+"|");return}var vt=Y.slice(-K);Y.length-=K,Y.push(V[_e][0]+"("+vt.join(",")+")")}else return _e<=7?console.error("WK1 invalid opcode "+_e.toString(16)):_e<=24?console.error("WK1 unsupported op "+_e.toString(16)):_e<=30?console.error("WK1 invalid opcode "+_e.toString(16)):_e<=115?console.error("WK1 unsupported function opcode "+_e.toString(16)):console.error("WK1 unrecognized opcode "+_e.toString(16))}}Y.length==1?J[1].f=""+Y[0]:console.error("WK1 bad formula parse |"+Y.join("|")+"|")}function se(z){var J=[{c:0,r:0},{t:"n",v:0},0];return J[0].r=z.read_shift(2),J[3]=z[z.l++],J[0].c=z[z.l++],J}function G(z,J){var Y=se(z,J);return Y[1].t="s",Y[1].v=z.read_shift(J-4,"cstr"),Y}function b(z,J,Y,K){var he=Bn(6+K.length);he.write_shift(2,z),he.write_shift(1,Y),he.write_shift(1,J),he.write_shift(1,39);for(var Me=0;Me<K.length;++Me){var Se=K.charCodeAt(Me);he.write_shift(1,Se>=128?95:Se)}return he.write_shift(1,0),he}function I(z,J){var Y=se(z,J);Y[1].v=z.read_shift(2);var K=Y[1].v>>1;if(Y[1].v&1)switch(K&7){case 0:K=(K>>3)*5e3;break;case 1:K=(K>>3)*500;break;case 2:K=(K>>3)/20;break;case 3:K=(K>>3)/200;break;case 4:K=(K>>3)/2e3;break;case 5:K=(K>>3)/2e4;break;case 6:K=(K>>3)/16;break;case 7:K=(K>>3)/64;break}return Y[1].v=K,Y}function T(z,J){var Y=se(z,J),K=z.read_shift(4),he=z.read_shift(4),Me=z.read_shift(2);if(Me==65535)return K===0&&he===3221225472?(Y[1].t="e",Y[1].v=15):K===0&&he===3489660928?(Y[1].t="e",Y[1].v=42):Y[1].v=0,Y;var Se=Me&32768;return Me=(Me&32767)-16446,Y[1].v=(1-Se*2)*(he*Math.pow(2,Me+32)+K*Math.pow(2,Me)),Y}function R(z,J,Y,K){var he=Bn(14);if(he.write_shift(2,z),he.write_shift(1,Y),he.write_shift(1,J),K==0)return he.write_shift(4,0),he.write_shift(4,0),he.write_shift(2,65535),he;var Me=0,Se=0,Re=0,_e=0;return K<0&&(Me=1,K=-K),Se=Math.log2(K)|0,K/=Math.pow(2,Se-31),_e=K>>>0,(_e&2147483648)==0&&(K/=2,++Se,_e=K>>>0),K-=_e,_e|=2147483648,_e>>>=0,K*=Math.pow(2,32),Re=K>>>0,he.write_shift(4,Re),he.write_shift(4,_e),Se+=16383+(Me?32768:0),he.write_shift(2,Se),he}function P(z,J){var Y=T(z,14);return z.l+=J-14,Y}function A(z,J){var Y=se(z,J),K=z.read_shift(4);return Y[1].v=K>>6,Y}function N(z,J){var Y=se(z,J),K=z.read_shift(8,"f");return Y[1].v=K,Y}function Oe(z,J){var Y=N(z,14);return z.l+=J-10,Y}function Ce(z,J){return z[z.l+J-1]==0?z.read_shift(J,"cstr"):""}function $e(z,J){var Y=z[z.l++];Y>J-1&&(Y=J-1);for(var K="";K.length<Y;)K+=String.fromCharCode(z[z.l++]);return K}function Ne(z,J,Y){if(!(!Y.qpro||J<21)){var K=z.read_shift(1);z.l+=17,z.l+=1,z.l+=2;var he=z.read_shift(J-21,"cstr");return[K,he]}}function ft(z,J){for(var Y={},K=z.l+J;z.l<K;){var he=z.read_shift(2);if(he==14e3){for(Y[he]=[0,""],Y[he][0]=z.read_shift(2);z[z.l];)Y[he][1]+=String.fromCharCode(z[z.l]),z.l++;z.l++}}return Y}function ke(z,J){var Y=Bn(5+z.length);Y.write_shift(2,14e3),Y.write_shift(2,J);for(var K=0;K<z.length;++K){var he=z.charCodeAt(K);Y[Y.l++]=he>127?95:he}return Y[Y.l++]=0,Y}var Be={0:{n:"BOF",f:Vn},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:a},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:y},15:{n:"LABEL",f:u},16:{n:"FORMULA",f:w},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:u},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:Ce},222:{n:"SHEETNAMELP",f:$e},65535:{n:""}},fe={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:G},23:{n:"NUMBER17",f:T},24:{n:"NUMBER18",f:I},25:{n:"FORMULA19",f:P},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:ft},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:A},38:{n:"??"},39:{n:"NUMBER27",f:N},40:{n:"FORMULA28",f:Oe},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:Ce},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:Ne},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:r,book_to_wk3:i,to_workbook:e}}();function Gte(n){var e={},t=n.match(Vr),r=0,i=!1;if(t)for(;r!=t.length;++r){var s=Qe(t[r]);switch(s[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!s.val)break;case"<shadow>":case"<shadow/>":e.shadow=1;break;case"</shadow>":break;case"<charset":if(s.val=="1")break;e.cp=CI[parseInt(s.val,10)];break;case"<outline":if(!s.val)break;case"<outline>":case"<outline/>":e.outline=1;break;case"</outline>":break;case"<rFont":e.name=s.val;break;case"<sz":e.sz=s.val;break;case"<strike":if(!s.val)break;case"<strike>":case"<strike/>":e.strike=1;break;case"</strike>":break;case"<u":if(!s.val)break;switch(s.val){case"double":e.uval="double";break;case"singleAccounting":e.uval="single-accounting";break;case"doubleAccounting":e.uval="double-accounting";break}case"<u>":case"<u/>":e.u=1;break;case"</u>":break;case"<b":if(s.val=="0")break;case"<b>":case"<b/>":e.b=1;break;case"</b>":break;case"<i":if(s.val=="0")break;case"<i>":case"<i/>":e.i=1;break;case"</i>":break;case"<color":s.rgb&&(e.color=s.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":e.family=s.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":e.valign=s.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(s[0].charCodeAt(1)!==47&&!i)throw new Error("Unrecognized rich format "+s[0])}}return e}var Kte=function(){var n=kh("t"),e=kh("rPr");function t(s){var o=s.match(n);if(!o)return{t:"s",v:""};var a={t:"s",v:Mt(o[1])},c=s.match(e);return c&&(a.s=Gte(c[1])),a}var r=/<(?:\w+:)?r>/g,i=/<\/(?:\w+:)?r>/;return function(o){return o.replace(r,"").split(i).map(t).filter(function(a){return a.v})}}(),Xte=function(){var e=/(\r\n|\n)/g;function t(i,s,o){var a=[];i.u&&a.push("text-decoration: underline;"),i.uval&&a.push("text-underline-style:"+i.uval+";"),i.sz&&a.push("font-size:"+i.sz+"pt;"),i.outline&&a.push("text-effect: outline;"),i.shadow&&a.push("text-shadow: auto;"),s.push('<span style="'+a.join("")+'">'),i.b&&(s.push("<b>"),o.push("</b>")),i.i&&(s.push("<i>"),o.push("</i>")),i.strike&&(s.push("<s>"),o.push("</s>"));var c=i.valign||"";return c=="superscript"||c=="super"?c="sup":c=="subscript"&&(c="sub"),c!=""&&(s.push("<"+c+">"),o.push("</"+c+">")),o.push("</span>"),i}function r(i){var s=[[],i.v,[]];return i.v?(i.s&&t(i.s,s[0],s[2]),s[0].join("")+s[1].replace(e,"<br/>")+s[2].join("")):""}return function(s){return s.map(r).join("")}}(),Yte=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,Qte=/<(?:\w+:)?r>/,Zte=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function zI(n,e){var t=e?e.cellHTML:!0,r={};return n?(n.match(/^\s*<(?:\w+:)?t[^>]*>/)?(r.t=Mt(en(n.slice(n.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),r.r=en(n),t&&(r.h=AI(r.t))):n.match(Qte)&&(r.r=en(n),r.t=Mt(en((n.replace(Zte,"").match(Yte)||[]).join("").replace(Vr,""))),t&&(r.h=Xte(Kte(r.r)))),r):{t:""}}var Jte=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,ene=/<(?:\w+:)?(?:si|sstItem)>/g,tne=/<\/(?:\w+:)?(?:si|sstItem)>/;function nne(n,e){var t=[],r="";if(!n)return t;var i=n.match(Jte);if(i){r=i[2].replace(ene,"").split(tne);for(var s=0;s!=r.length;++s){var o=zI(r[s].trim(),e);o!=null&&(t[t.length]=o)}i=Qe(i[1]),t.Count=i.count,t.Unique=i.uniqueCount}return t}function rne(n){return[n.read_shift(4),n.read_shift(4)]}function ine(n,e){var t=[],r=!1;return Lo(n,function(s,o,a){switch(a){case 159:t.Count=s[0],t.Unique=s[1];break;case 19:t.push(s);break;case 160:return!0;case 35:r=!0;break;case 36:r=!1;break;default:if(o.T,!r||e.WTF)throw new Error("Unexpected record 0x"+a.toString(16))}}),t}function xL(n){if(typeof Ut<"u")return Ut.utils.encode(Qu,n);for(var e=[],t=n.split(""),r=0;r<t.length;++r)e[r]=t[r].charCodeAt(0);return e}function No(n,e){var t={};return t.Major=n.read_shift(2),t.Minor=n.read_shift(2),e>=4&&(n.l+=e-4),t}function sne(n){var e={};return e.id=n.read_shift(0,"lpp4"),e.R=No(n,4),e.U=No(n,4),e.W=No(n,4),e}function one(n){for(var e=n.read_shift(4),t=n.l+e-4,r={},i=n.read_shift(4),s=[];i-- >0;)s.push({t:n.read_shift(4),v:n.read_shift(0,"lpp4")});if(r.name=n.read_shift(0,"lpp4"),r.comps=s,n.l!=t)throw new Error("Bad DataSpaceMapEntry: "+n.l+" != "+t);return r}function ane(n){var e=[];n.l+=4;for(var t=n.read_shift(4);t-- >0;)e.push(one(n));return e}function cne(n){var e=[];n.l+=4;for(var t=n.read_shift(4);t-- >0;)e.push(n.read_shift(0,"lpp4"));return e}function lne(n){var e={};return n.read_shift(4),n.l+=4,e.id=n.read_shift(0,"lpp4"),e.name=n.read_shift(0,"lpp4"),e.R=No(n,4),e.U=No(n,4),e.W=No(n,4),e}function une(n){var e=lne(n);if(e.ename=n.read_shift(0,"8lpp4"),e.blksz=n.read_shift(4),e.cmode=n.read_shift(4),n.read_shift(4)!=4)throw new Error("Bad !Primary record");return e}function EL(n,e){var t=n.l+e,r={};r.Flags=n.read_shift(4)&63,n.l+=4,r.AlgID=n.read_shift(4);var i=!1;switch(r.AlgID){case 26126:case 26127:case 26128:i=r.Flags==36;break;case 26625:i=r.Flags==4;break;case 0:i=r.Flags==16||r.Flags==4||r.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+r.AlgID}if(!i)throw new Error("Encryption Flags/AlgID mismatch");return r.AlgIDHash=n.read_shift(4),r.KeySize=n.read_shift(4),r.ProviderType=n.read_shift(4),n.l+=8,r.CSPName=n.read_shift(t-n.l>>1,"utf16le"),n.l=t,r}function wL(n,e){var t={},r=n.l+e;return n.l+=4,t.Salt=n.slice(n.l,n.l+16),n.l+=16,t.Verifier=n.slice(n.l,n.l+16),n.l+=16,n.read_shift(4),t.VerifierHash=n.slice(n.l,r),n.l=r,t}function dne(n){var e=No(n);switch(e.Minor){case 2:return[e.Minor,fne(n,e)];case 3:return[e.Minor,hne(n,e)];case 4:return[e.Minor,pne(n,e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+e.Minor)}function fne(n){var e=n.read_shift(4);if((e&63)!=36)throw new Error("EncryptionInfo mismatch");var t=n.read_shift(4),r=EL(n,t),i=wL(n,n.length-n.l);return{t:"Std",h:r,v:i}}function hne(){throw new Error("File is password-protected: ECMA-376 Extensible")}function pne(n){var e=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];n.l+=4;var t=n.read_shift(n.length-n.l,"utf8"),r={};return t.replace(Vr,function(s){var o=Qe(s);switch(Ws(o[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":e.forEach(function(a){r[a]=o[a]});break;case"<dataIntegrity":r.encryptedHmacKey=o.encryptedHmacKey,r.encryptedHmacValue=o.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":r.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":r.uri=o.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":r.encs.push(o);break;default:throw o[0]}}),r}function mne(n,e){var t={},r=t.EncryptionVersionInfo=No(n,4);if(e-=4,r.Minor!=2)throw new Error("unrecognized minor version code: "+r.Minor);if(r.Major>4||r.Major<2)throw new Error("unrecognized major version code: "+r.Major);t.Flags=n.read_shift(4),e-=4;var i=n.read_shift(4);return e-=4,t.EncryptionHeader=EL(n,i),e-=i,t.EncryptionVerifier=wL(n,e),t}function gne(n){var e={},t=e.EncryptionVersionInfo=No(n,4);if(t.Major!=1||t.Minor!=1)throw"unrecognized version code "+t.Major+" : "+t.Minor;return e.Salt=n.read_shift(16),e.EncryptedVerifier=n.read_shift(16),e.EncryptedVerifierHash=n.read_shift(16),e}function _ne(n){var e=0,t,r=xL(n),i=r.length+1,s,o,a,c,l;for(t=Na(i),t[0]=r.length,s=1;s!=i;++s)t[s]=r[s-1];for(s=i-1;s>=0;--s)o=t[s],a=(e&16384)===0?0:1,c=e<<1&32767,l=a|c,e=l^o;return e^52811}var CL=function(){var n=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],e=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],t=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],r=function(o){return(o/2|o*128)&255},i=function(o,a){return r(o^a)},s=function(o){for(var a=e[o.length-1],c=104,l=o.length-1;l>=0;--l)for(var u=o[l],f=0;f!=7;++f)u&64&&(a^=t[c]),u*=2,--c;return a};return function(o){for(var a=xL(o),c=s(a),l=a.length,u=Na(16),f=0;f!=16;++f)u[f]=0;var h,p,y;for((l&1)===1&&(h=c>>8,u[l]=i(n[0],h),--l,h=c&255,p=a[a.length-1],u[l]=i(p,h));l>0;)--l,h=c>>8,u[l]=i(a[l],h),--l,h=c&255,u[l]=i(a[l],h);for(l=15,y=15-a.length;y>0;)h=c>>8,u[l]=i(n[y],h),--l,--y,h=c&255,u[l]=i(a[l],h),--l,--y;return u}}(),vne=function(n,e,t,r,i){i||(i=e),r||(r=CL(n));var s,o;for(s=0;s!=e.length;++s)o=e[s],o^=r[t],o=(o>>5|o<<3)&255,i[s]=o,++t;return[i,t,r]},yne=function(n){var e=0,t=CL(n);return function(r){var i=vne("",r,e,t);return e=i[1],i[0]}};function xne(n,e,t,r){var i={key:Vn(n),verificationBytes:Vn(n)};return t.password&&(i.verifier=_ne(t.password)),r.valid=i.verificationBytes===i.verifier,r.valid&&(r.insitu=yne(t.password)),i}function Ene(n,e,t){var r=t||{};return r.Info=n.read_shift(2),n.l-=2,r.Info===1?r.Data=gne(n,e):r.Data=mne(n,e),r}function wne(n,e,t){var r={Type:t.biff>=8?n.read_shift(2):0};return r.Type?Ene(n,e-2,r):xne(n,t.biff>=8?e:e-2,t,r),r}var Cne=function(){function n(i,s){switch(s.type){case"base64":return e(Di(i),s);case"binary":return e(i,s);case"buffer":return e(Ct&&Buffer.isBuffer(i)?i.toString("binary"):Wc(i),s);case"array":return e($c(i),s)}throw new Error("Unrecognized type "+s.type)}function e(i,s){var o=s||{},a=o.dense?[]:{},c=i.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var l={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(u,f){Array.isArray(a)&&(a[f]=[]);for(var h=/\\\w+\b/g,p=0,y,v=-1;y=h.exec(u);){switch(y[0]){case"\\cell":var w=u.slice(p,h.lastIndex-y[0].length);if(w[0]==" "&&(w=w.slice(1)),++v,w.length){var F={v:w,t:"s"};Array.isArray(a)?a[f][v]=F:a[nt({r:f,c:v})]=F}break}p=h.lastIndex}v>l.e.c&&(l.e.c=v)}),a["!ref"]=kt(l),a}function t(i,s){return La(n(i,s),s)}function r(i){for(var s=["{\\rtf1\\ansi"],o=Cn(i["!ref"]),a,c=Array.isArray(i),l=o.s.r;l<=o.e.r;++l){s.push("\\trowd\\trautofit1");for(var u=o.s.c;u<=o.e.c;++u)s.push("\\cellx"+(u+1));for(s.push("\\pard\\intbl"),u=o.s.c;u<=o.e.c;++u){var f=nt({r:l,c:u});a=c?(i[l]||[])[u]:i[f],!(!a||a.v==null&&(!a.f||a.F))&&(s.push(" "+(a.w||(Fo(a),a.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:t,to_sheet:n,from_sheet:r}}();function bne(n){var e=n.slice(n[0]==="#"?1:0).slice(0,6);return[parseInt(e.slice(0,2),16),parseInt(e.slice(2,4),16),parseInt(e.slice(4,6),16)]}function Rh(n){for(var e=0,t=1;e!=3;++e)t=t*256+(n[e]>255?255:n[e]<0?0:n[e]);return t.toString(16).toUpperCase().slice(1)}function Ine(n){var e=n[0]/255,t=n[1]/255,r=n[2]/255,i=Math.max(e,t,r),s=Math.min(e,t,r),o=i-s;if(o===0)return[0,0,e];var a=0,c=0,l=i+s;switch(c=o/(l>1?2-l:l),i){case e:a=((t-r)/o+6)%6;break;case t:a=(r-e)/o+2;break;case r:a=(e-t)/o+4;break}return[a/6,c,l/2]}function Tne(n){var e=n[0],t=n[1],r=n[2],i=t*2*(r<.5?r:1-r),s=r-i/2,o=[s,s,s],a=6*e,c;if(t!==0)switch(a|0){case 0:case 6:c=i*a,o[0]+=i,o[1]+=c;break;case 1:c=i*(2-a),o[0]+=c,o[1]+=i;break;case 2:c=i*(a-2),o[1]+=i,o[2]+=c;break;case 3:c=i*(4-a),o[1]+=c,o[2]+=i;break;case 4:c=i*(a-4),o[2]+=i,o[0]+=c;break;case 5:c=i*(6-a),o[2]+=c,o[0]+=i;break}for(var l=0;l!=3;++l)o[l]=Math.round(o[l]*255);return o}function U_(n,e){if(e===0)return n;var t=Ine(bne(n));return e<0?t[2]=t[2]*(1+e):t[2]=1-(1-t[2])*(1-e),Rh(Tne(t))}var bL=6,Sne=15,Dne=1,Xr=bL;function j_(n){return Math.floor((n+Math.round(128/Xr)/256)*Xr)}function $_(n){return Math.floor((n-5)/Xr*100+.5)/100}function _I(n){return Math.round((n*Xr+5)/Xr*256)/256}function oI(n){return _I($_(j_(n)))}function WI(n){var e=Math.abs(n-oI(n)),t=Xr;if(e>.005)for(Xr=Dne;Xr<Sne;++Xr)Math.abs(n-oI(n))<=e&&(e=Math.abs(n-oI(n)),t=Xr);Xr=t}function Ju(n){n.width?(n.wpx=j_(n.width),n.wch=$_(n.wpx),n.MDW=Xr):n.wpx?(n.wch=$_(n.wpx),n.width=_I(n.wch),n.MDW=Xr):typeof n.wch=="number"&&(n.width=_I(n.wch),n.wpx=j_(n.width),n.MDW=Xr),n.customWidth&&delete n.customWidth}var kne=96,IL=kne;function TL(n){return n*96/IL}function Ph(n){return n*IL/96}var Ane={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function Mne(n,e,t,r){e.Borders=[];var i={},s=!1;(n[0].match(Vr)||[]).forEach(function(o){var a=Qe(o);switch(Ws(a[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":i={},a.diagonalUp&&(i.diagonalUp=hn(a.diagonalUp)),a.diagonalDown&&(i.diagonalDown=hn(a.diagonalDown)),e.Borders.push(i);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+a[0]+" in borders")}})}function Rne(n,e,t,r){e.Fills=[];var i={},s=!1;(n[0].match(Vr)||[]).forEach(function(o){var a=Qe(o);switch(Ws(a[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":i={},e.Fills.push(i);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":e.Fills.push(i),i={};break;case"<patternFill":case"<patternFill>":a.patternType&&(i.patternType=a.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":i.bgColor||(i.bgColor={}),a.indexed&&(i.bgColor.indexed=parseInt(a.indexed,10)),a.theme&&(i.bgColor.theme=parseInt(a.theme,10)),a.tint&&(i.bgColor.tint=parseFloat(a.tint)),a.rgb&&(i.bgColor.rgb=a.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":i.fgColor||(i.fgColor={}),a.theme&&(i.fgColor.theme=parseInt(a.theme,10)),a.tint&&(i.fgColor.tint=parseFloat(a.tint)),a.rgb!=null&&(i.fgColor.rgb=a.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+a[0]+" in fills")}})}function Pne(n,e,t,r){e.Fonts=[];var i={},s=!1;(n[0].match(Vr)||[]).forEach(function(o){var a=Qe(o);switch(Ws(a[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":e.Fonts.push(i),i={};break;case"<name":a.val&&(i.name=en(a.val));break;case"<name/>":case"</name>":break;case"<b":i.bold=a.val?hn(a.val):1;break;case"<b/>":i.bold=1;break;case"<i":i.italic=a.val?hn(a.val):1;break;case"<i/>":i.italic=1;break;case"<u":switch(a.val){case"none":i.underline=0;break;case"single":i.underline=1;break;case"double":i.underline=2;break;case"singleAccounting":i.underline=33;break;case"doubleAccounting":i.underline=34;break}break;case"<u/>":i.underline=1;break;case"<strike":i.strike=a.val?hn(a.val):1;break;case"<strike/>":i.strike=1;break;case"<outline":i.outline=a.val?hn(a.val):1;break;case"<outline/>":i.outline=1;break;case"<shadow":i.shadow=a.val?hn(a.val):1;break;case"<shadow/>":i.shadow=1;break;case"<condense":i.condense=a.val?hn(a.val):1;break;case"<condense/>":i.condense=1;break;case"<extend":i.extend=a.val?hn(a.val):1;break;case"<extend/>":i.extend=1;break;case"<sz":a.val&&(i.sz=+a.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":a.val&&(i.vertAlign=a.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":a.val&&(i.family=parseInt(a.val,10));break;case"<family/>":case"</family>":break;case"<scheme":a.val&&(i.scheme=a.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(a.val=="1")break;a.codepage=CI[parseInt(a.val,10)];break;case"<color":if(i.color||(i.color={}),a.auto&&(i.color.auto=hn(a.auto)),a.rgb)i.color.rgb=a.rgb.slice(-6);else if(a.indexed){i.color.index=parseInt(a.indexed,10);var c=Uc[i.color.index];i.color.index==81&&(c=Uc[1]),c||(c=Uc[1]),i.color.rgb=c[0].toString(16)+c[1].toString(16)+c[2].toString(16)}else a.theme&&(i.color.theme=parseInt(a.theme,10),a.tint&&(i.color.tint=parseFloat(a.tint)),a.theme&&t.themeElements&&t.themeElements.clrScheme&&(i.color.rgb=U_(t.themeElements.clrScheme[i.color.theme].rgb,i.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+a[0]+" in fonts")}})}function One(n,e,t){e.NumberFmt=[];for(var r=zs(st),i=0;i<r.length;++i)e.NumberFmt[r[i]]=st[r[i]];var s=n[0].match(Vr);if(s)for(i=0;i<s.length;++i){var o=Qe(s[i]);switch(Ws(o[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var a=Mt(en(o.formatCode)),c=parseInt(o.numFmtId,10);if(e.NumberFmt[c]=a,c>0){if(c>392){for(c=392;c>60&&e.NumberFmt[c]!=null;--c);e.NumberFmt[c]=a}Bc(a,c)}}break;case"</numFmt>":break;default:if(t.WTF)throw new Error("unrecognized "+o[0]+" in numFmts")}}}var A_=["numFmtId","fillId","fontId","borderId","xfId"],M_=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function Nne(n,e,t){e.CellXf=[];var r,i=!1;(n[0].match(Vr)||[]).forEach(function(s){var o=Qe(s),a=0;switch(Ws(o[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(r=o,delete r[0],a=0;a<A_.length;++a)r[A_[a]]&&(r[A_[a]]=parseInt(r[A_[a]],10));for(a=0;a<M_.length;++a)r[M_[a]]&&(r[M_[a]]=hn(r[M_[a]]));if(e.NumberFmt&&r.numFmtId>392){for(a=392;a>60;--a)if(e.NumberFmt[r.numFmtId]==e.NumberFmt[a]){r.numFmtId=a;break}}e.CellXf.push(r);break;case"</xf>":break;case"<alignment":case"<alignment/>":var c={};o.vertical&&(c.vertical=o.vertical),o.horizontal&&(c.horizontal=o.horizontal),o.textRotation!=null&&(c.textRotation=o.textRotation),o.indent&&(c.indent=o.indent),o.wrapText&&(c.wrapText=hn(o.wrapText)),r.alignment=c;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(t&&t.WTF&&!i)throw new Error("unrecognized "+o[0]+" in cellXfs")}})}var Fne=function(){var e=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,t=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,r=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,i=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,s=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(a,c,l){var u={};if(!a)return u;a=a.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var f;return(f=a.match(e))&&One(f,u,l),(f=a.match(i))&&Pne(f,u,c,l),(f=a.match(r))&&Rne(f,u,c,l),(f=a.match(s))&&Mne(f,u,c,l),(f=a.match(t))&&Nne(f,u,l),u}}();function Lne(n,e){var t=n.read_shift(2),r=Fr(n,e-2);return[t,r]}function Vne(n,e,t){var r={};r.sz=n.read_shift(2)/20;var i=KJ(n,2,t);i.fItalic&&(r.italic=1),i.fCondense&&(r.condense=1),i.fExtend&&(r.extend=1),i.fShadow&&(r.shadow=1),i.fOutline&&(r.outline=1),i.fStrikeout&&(r.strike=1);var s=n.read_shift(2);switch(s===700&&(r.bold=1),n.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript";break}var o=n.read_shift(1);o!=0&&(r.underline=o);var a=n.read_shift(1);a>0&&(r.family=a);var c=n.read_shift(1);switch(c>0&&(r.charset=c),n.l++,r.color=GJ(n,8),n.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor";break}return r.name=Fr(n,e-21),r}var Bne=Lr;function Une(n,e){var t=n.l+e,r=n.read_shift(2),i=n.read_shift(2);return n.l=t,{ixfe:r,numFmtId:i}}var jne=Lr;function $ne(n,e,t){var r={};r.NumberFmt=[];for(var i in st)r.NumberFmt[i]=st[i];r.CellXf=[],r.Fonts=[];var s=[],o=!1;return Lo(n,function(c,l,u){switch(u){case 44:r.NumberFmt[c[0]]=c[1],Bc(c[1],c[0]);break;case 43:r.Fonts.push(c),c.color.theme!=null&&e&&e.themeElements&&e.themeElements.clrScheme&&(c.color.rgb=U_(e.themeElements.clrScheme[c.color.theme].rgb,c.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:s[s.length-1]==617&&r.CellXf.push(c);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:s.push(u),o=!0;break;case 38:s.pop(),o=!1;break;default:if(l.T>0)s.push(u);else if(l.T<0)s.pop();else if(!o||t.WTF&&s[s.length-1]!=37)throw new Error("Unexpected record 0x"+u.toString(16))}}),r}var Hne=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function zne(n,e,t){e.themeElements.clrScheme=[];var r={};(n[0].match(Vr)||[]).forEach(function(i){var s=Qe(i);switch(s[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":r.rgb=s.val;break;case"<a:sysClr":r.rgb=s.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":s[0].charAt(1)==="/"?(e.themeElements.clrScheme[Hne.indexOf(s[0])]=r,r={}):r.name=s[0].slice(3,s[0].length-1);break;default:if(t&&t.WTF)throw new Error("Unrecognized "+s[0]+" in clrScheme")}})}function Wne(){}function qne(){}var Gne=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,Kne=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,Xne=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function Yne(n,e,t){e.themeElements={};var r;[["clrScheme",Gne,zne],["fontScheme",Kne,Wne],["fmtScheme",Xne,qne]].forEach(function(i){if(!(r=n.match(i[1])))throw new Error(i[0]+" not found in themeElements");i[2](r,e,t)})}var Qne=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function SL(n,e){(!n||n.length===0)&&(n=Zne());var t,r={};if(!(t=n.match(Qne)))throw new Error("themeElements not found in theme");return Yne(t[0],r,e),r.raw=n,r}function Zne(n,e){if(e&&e.themeXLSX)return e.themeXLSX;if(n&&typeof n.raw=="string")return n.raw;var t=[H4];return t[t.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',t[t.length]="<a:themeElements>",t[t.length]='<a:clrScheme name="Office">',t[t.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',t[t.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',t[t.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',t[t.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',t[t.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',t[t.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',t[t.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',t[t.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',t[t.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',t[t.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',t[t.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',t[t.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',t[t.length]="</a:clrScheme>",t[t.length]='<a:fontScheme name="Office">',t[t.length]="<a:majorFont>",t[t.length]='<a:latin typeface="Cambria"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface="\uFF2D\uFF33 \uFF30\u30B4\u30B7\u30C3\u30AF"/>',t[t.length]='<a:font script="Hang" typeface="\uB9D1\uC740 \uACE0\uB515"/>',t[t.length]='<a:font script="Hans" typeface="\u5B8B\u4F53"/>',t[t.length]='<a:font script="Hant" typeface="\u65B0\u7D30\u660E\u9AD4"/>',t[t.length]='<a:font script="Arab" typeface="Times New Roman"/>',t[t.length]='<a:font script="Hebr" typeface="Times New Roman"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="MoolBoran"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Times New Roman"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:majorFont>",t[t.length]="<a:minorFont>",t[t.length]='<a:latin typeface="Calibri"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface="\uFF2D\uFF33 \uFF30\u30B4\u30B7\u30C3\u30AF"/>',t[t.length]='<a:font script="Hang" typeface="\uB9D1\uC740 \uACE0\uB515"/>',t[t.length]='<a:font script="Hans" typeface="\u5B8B\u4F53"/>',t[t.length]='<a:font script="Hant" typeface="\u65B0\u7D30\u660E\u9AD4"/>',t[t.length]='<a:font script="Arab" typeface="Arial"/>',t[t.length]='<a:font script="Hebr" typeface="Arial"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="DaunPenh"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Arial"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:minorFont>",t[t.length]="</a:fontScheme>",t[t.length]='<a:fmtScheme name="Office">',t[t.length]="<a:fillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="1"/>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="0"/>',t[t.length]="</a:gradFill>",t[t.length]="</a:fillStyleLst>",t[t.length]="<a:lnStyleLst>",t[t.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]="</a:lnStyleLst>",t[t.length]="<a:effectStyleLst>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',t[t.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',t[t.length]="</a:effectStyle>",t[t.length]="</a:effectStyleLst>",t[t.length]="<a:bgFillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]="</a:bgFillStyleLst>",t[t.length]="</a:fmtScheme>",t[t.length]="</a:themeElements>",t[t.length]="<a:objectDefaults>",t[t.length]="<a:spDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',t[t.length]="</a:spDef>",t[t.length]="<a:lnDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',t[t.length]="</a:lnDef>",t[t.length]="</a:objectDefaults>",t[t.length]="<a:extraClrSchemeLst/>",t[t.length]="</a:theme>",t.join("")}function Jne(n,e,t){var r=n.l+e,i=n.read_shift(4);if(i!==124226){if(!t.cellStyles){n.l=r;return}var s=n.slice(n.l);n.l=r;var o;try{o=$4(s,{type:"array"})}catch{return}var a=Si(o,"theme/theme/theme1.xml",!0);if(a)return SL(a,t)}}function ere(n){return n.read_shift(4)}function tre(n){var e={};switch(e.xclrType=n.read_shift(2),e.nTintShade=n.read_shift(2),e.xclrType){case 0:n.l+=4;break;case 1:e.xclrValue=nre(n,4);break;case 2:e.xclrValue=hL(n,4);break;case 3:e.xclrValue=ere(n,4);break;case 4:n.l+=4;break}return n.l+=8,e}function nre(n,e){return Lr(n,e)}function rre(n,e){return Lr(n,e)}function ire(n){var e=n.read_shift(2),t=n.read_shift(2)-4,r=[e];switch(e){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:r[1]=tre(n,t);break;case 6:r[1]=rre(n,t);break;case 14:case 15:r[1]=n.read_shift(t===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+e+" "+t)}return r}function sre(n,e){var t=n.l+e;n.l+=2;var r=n.read_shift(2);n.l+=2;for(var i=n.read_shift(2),s=[];i-- >0;)s.push(ire(n,t-n.l));return{ixfe:r,ext:s}}function ore(n,e){e.forEach(function(t){switch(t[0]){case 4:break;case 5:break;case 6:break;case 7:break;case 8:break;case 9:break;case 10:break;case 11:break;case 13:break;case 14:break;case 15:break}})}function are(n,e){return{flags:n.read_shift(4),version:n.read_shift(4),name:Fr(n,e-8)}}function cre(n){for(var e=[],t=n.read_shift(4);t-- >0;)e.push([n.read_shift(4),n.read_shift(4)]);return e}function lre(n){return n.l+=4,n.read_shift(4)!=0}function ure(n,e,t){var r={Types:[],Cell:[],Value:[]},i=t||{},s=[],o=!1,a=2;return Lo(n,function(c,l,u){switch(u){case 335:r.Types.push({name:c.name});break;case 51:c.forEach(function(f){a==1?r.Cell.push({type:r.Types[f[0]-1].name,index:f[1]}):a==0&&r.Value.push({type:r.Types[f[0]-1].name,index:f[1]})});break;case 337:a=c?1:0;break;case 338:a=2;break;case 35:s.push(u),o=!0;break;case 36:s.pop(),o=!1;break;default:if(!l.T){if(!o||i.WTF&&s[s.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}}),r}function dre(n,e,t){var r={Types:[],Cell:[],Value:[]};if(!n)return r;var i=!1,s=2,o;return n.replace(Vr,function(a){var c=Qe(a);switch(Ws(c[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":r.Types.push({name:c.name});break;case"</metadataType>":break;case"<futureMetadata":for(var l=0;l<r.Types.length;++l)r.Types[l].name==c.name&&(o=r.Types[l]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":s==1?r.Cell.push({type:r.Types[c.t-1].name,index:+c.v}):s==0&&r.Value.push({type:r.Types[c.t-1].name,index:+c.v});break;case"</rc>":break;case"<cellMetadata":s=1;break;case"</cellMetadata>":s=2;break;case"<valueMetadata":s=0;break;case"</valueMetadata>":s=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;case"<rvb":if(!o)break;o.offsets||(o.offsets=[]),o.offsets.push(+c.i);break;default:if(!i&&t.WTF)throw new Error("unrecognized "+c[0]+" in metadata")}return a}),r}function fre(n){var e=[];if(!n)return e;var t=1;return(n.match(Vr)||[]).forEach(function(r){var i=Qe(r);switch(i[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete i[0],i.i?t=i.i:i.i=t,e.push(i);break}}),e}function hre(n){var e={};e.i=n.read_shift(4);var t={};t.r=n.read_shift(4),t.c=n.read_shift(4),e.r=nt(t);var r=n.read_shift(1);return r&2&&(e.l="1"),r&8&&(e.a="1"),e}function pre(n,e,t){var r=[],i=!1;return Lo(n,function(o,a,c){switch(c){case 63:r.push(o);break;default:if(!a.T){if(!i||t.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}}),r}function mre(n,e,t,r){if(!n)return n;var i=r||{},s=!1,o=!1;Lo(n,function(c,l,u){if(!o)switch(u){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:s=!0;break;case 36:s=!1;break;default:if(!l.T){if(!s||i.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}},i)}function gre(n,e){if(!n)return"??";var t=(n.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return e["!id"][t].Target}function s4(n,e,t,r){var i=Array.isArray(n),s;e.forEach(function(o){var a=Yr(o.ref);if(i?(n[a.r]||(n[a.r]=[]),s=n[a.r][a.c]):s=n[o.ref],!s){s={t:"z"},i?n[a.r][a.c]=s:n[o.ref]=s;var c=Cn(n["!ref"]||"BDWGO1000001:A1");c.s.r>a.r&&(c.s.r=a.r),c.e.r<a.r&&(c.e.r=a.r),c.s.c>a.c&&(c.s.c=a.c),c.e.c<a.c&&(c.e.c=a.c);var l=kt(c);l!==n["!ref"]&&(n["!ref"]=l)}s.c||(s.c=[]);var u={a:o.author,t:o.t,r:o.r,T:t};o.h&&(u.h=o.h);for(var f=s.c.length-1;f>=0;--f){if(!t&&s.c[f].T)return;t&&!s.c[f].T&&s.c.splice(f,1)}if(t&&r){for(f=0;f<r.length;++f)if(u.a==r[f].id){u.a=r[f].name||u.a;break}}s.c.push(u)})}function _re(n,e){if(n.match(/<(?:\w+:)?comments *\/>/))return[];var t=[],r=[],i=n.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);i&&i[1]&&i[1].split(/<\/\w*:?author>/).forEach(function(o){if(!(o===""||o.trim()==="")){var a=o.match(/<(?:\w+:)?author[^>]*>(.*)/);a&&t.push(a[1])}});var s=n.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return s&&s[1]&&s[1].split(/<\/\w*:?comment>/).forEach(function(o){if(!(o===""||o.trim()==="")){var a=o.match(/<(?:\w+:)?comment[^>]*>/);if(a){var c=Qe(a[0]),l={author:c.authorId&&t[c.authorId]||"sheetjsghost",ref:c.ref,guid:c.guid},u=Yr(c.ref);if(!(e.sheetRows&&e.sheetRows<=u.r)){var f=o.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),h=!!f&&!!f[1]&&zI(f[1])||{r:"",t:"",h:""};l.r=h.r,h.r=="<t></t>"&&(h.t=h.h=""),l.t=(h.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.cellHTML&&(l.h=h.h),r.push(l)}}}}),r}function vre(n,e){var t=[],r=!1,i={},s=0;return n.replace(Vr,function(a,c){var l=Qe(a);switch(Ws(l[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":i={author:l.personId,guid:l.id,ref:l.ref,T:1};break;case"</threadedComment>":i.t!=null&&t.push(i);break;case"<text>":case"<text":s=c+a.length;break;case"</text>":i.t=n.slice(s,c).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":r=!0;break;case"</mentions>":r=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&e.WTF)throw new Error("unrecognized "+l[0]+" in threaded comments")}return a}),t}function yre(n,e){var t=[],r=!1;return n.replace(Vr,function(s){var o=Qe(s);switch(Ws(o[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":t.push({name:o.displayname,id:o.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&e.WTF)throw new Error("unrecognized "+o[0]+" in threaded comments")}return s}),t}function xre(n){var e={};e.iauthor=n.read_shift(4);var t=Gc(n,16);return e.rfx=t.s,e.ref=nt(t.s),n.l+=16,e}var Ere=Fr;function wre(n,e){var t=[],r=[],i={},s=!1;return Lo(n,function(a,c,l){switch(l){case 632:r.push(a);break;case 635:i=a;break;case 637:i.t=a.t,i.h=a.h,i.r=a.r;break;case 636:if(i.author=r[i.iauthor],delete i.iauthor,e.sheetRows&&i.rfx&&e.sheetRows<=i.rfx.r)break;i.t||(i.t=""),delete i.rfx,t.push(i);break;case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!c.T){if(!s||e.WTF)throw new Error("Unexpected record 0x"+l.toString(16))}}}),t}var Cre="application/vnd.ms-office.vbaProject";function bre(n){var e=Dt.utils.cfb_new({root:"R"});return n.FullPaths.forEach(function(t,r){if(!(t.slice(-1)==="/"||!t.match(/_VBA_PROJECT_CUR/))){var i=t.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Dt.utils.cfb_add(e,i,n.FileIndex[r].content)}}),Dt.write(e)}function Ire(){return{"!type":"dialog"}}function Tre(){return{"!type":"dialog"}}function Sre(){return{"!type":"macro"}}function Dre(){return{"!type":"macro"}}var Xu=function(){var n=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function t(r,i,s,o){var a=!1,c=!1;s.length==0?c=!0:s.charAt(0)=="["&&(c=!0,s=s.slice(1,-1)),o.length==0?a=!0:o.charAt(0)=="["&&(a=!0,o=o.slice(1,-1));var l=s.length>0?parseInt(s,10)|0:0,u=o.length>0?parseInt(o,10)|0:0;return a?u+=e.c:--u,c?l+=e.r:--l,i+(a?"":"$")+qn(u)+(c?"":"$")+gr(l)}return function(i,s){return e=s,i.replace(n,t)}}(),DL=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,kre=function(){return function(e,t){return e.replace(DL,function(r,i,s,o,a,c){var l=VI(o)-(s?0:t.c),u=LI(c)-(a?0:t.r),f=u==0?"":a?u+1:"["+u+"]",h=l==0?"":s?l+1:"["+l+"]";return i+"R"+f+"C"+h})}}();function kL(n,e){return n.replace(DL,function(t,r,i,s,o,a){return r+(i=="$"?i+s:qn(VI(s)+e.c))+(o=="$"?o+a:gr(LI(a)+e.r))})}function Are(n,e,t){var r=nd(e),i=r.s,s=Yr(t),o={r:s.r-i.r,c:s.c-i.c};return kL(n,o)}function Mre(n){return n.length!=1}function o4(n){return n.replace(/_xlfn\./g,"")}function Fn(n){n.l+=1}function Fa(n,e){var t=n.read_shift(e==1?1:2);return[t&16383,t>>14&1,t>>15&1]}function AL(n,e,t){var r=2;if(t){if(t.biff>=2&&t.biff<=5)return ML(n,e,t);t.biff==12&&(r=4)}var i=n.read_shift(r),s=n.read_shift(r),o=Fa(n,2),a=Fa(n,2);return{s:{r:i,c:o[0],cRel:o[1],rRel:o[2]},e:{r:s,c:a[0],cRel:a[1],rRel:a[2]}}}function ML(n){var e=Fa(n,2),t=Fa(n,2),r=n.read_shift(1),i=n.read_shift(1);return{s:{r:e[0],c:r,cRel:e[1],rRel:e[2]},e:{r:t[0],c:i,cRel:t[1],rRel:t[2]}}}function Rre(n,e,t){if(t.biff<8)return ML(n,e,t);var r=n.read_shift(t.biff==12?4:2),i=n.read_shift(t.biff==12?4:2),s=Fa(n,2),o=Fa(n,2);return{s:{r,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function RL(n,e,t){if(t&&t.biff>=2&&t.biff<=5)return Pre(n,e,t);var r=n.read_shift(t&&t.biff==12?4:2),i=Fa(n,2);return{r,c:i[0],cRel:i[1],rRel:i[2]}}function Pre(n){var e=Fa(n,2),t=n.read_shift(1);return{r:e[0],c:t,cRel:e[1],rRel:e[2]}}function Ore(n){var e=n.read_shift(2),t=n.read_shift(2);return{r:e,c:t&255,fQuoted:!!(t&16384),cRel:t>>15,rRel:t>>15}}function Nre(n,e,t){var r=t&&t.biff?t.biff:8;if(r>=2&&r<=5)return Fre(n,e,t);var i=n.read_shift(r>=12?4:2),s=n.read_shift(2),o=(s&16384)>>14,a=(s&32768)>>15;if(s&=16383,a==1)for(;i>524287;)i-=1048576;if(o==1)for(;s>8191;)s=s-16384;return{r:i,c:s,cRel:o,rRel:a}}function Fre(n){var e=n.read_shift(2),t=n.read_shift(1),r=(e&32768)>>15,i=(e&16384)>>14;return e&=16383,r==1&&e>=8192&&(e=e-16384),i==1&&t>=128&&(t=t-256),{r:e,c:t,cRel:i,rRel:r}}function Lre(n,e,t){var r=(n[n.l++]&96)>>5,i=AL(n,t.biff>=2&&t.biff<=5?6:8,t);return[r,i]}function Vre(n,e,t){var r=(n[n.l++]&96)>>5,i=n.read_shift(2,"i"),s=8;if(t)switch(t.biff){case 5:n.l+=12,s=6;break;case 12:s=12;break}var o=AL(n,s,t);return[r,i,o]}function Bre(n,e,t){var r=(n[n.l++]&96)>>5;return n.l+=t&&t.biff>8?12:t.biff<8?6:8,[r]}function Ure(n,e,t){var r=(n[n.l++]&96)>>5,i=n.read_shift(2),s=8;if(t)switch(t.biff){case 5:n.l+=12,s=6;break;case 12:s=12;break}return n.l+=s,[r,i]}function jre(n,e,t){var r=(n[n.l++]&96)>>5,i=Rre(n,e-1,t);return[r,i]}function $re(n,e,t){var r=(n[n.l++]&96)>>5;return n.l+=t.biff==2?6:t.biff==12?14:7,[r]}function a4(n){var e=n[n.l+1]&1,t=1;return n.l+=4,[e,t]}function Hre(n,e,t){n.l+=2;for(var r=n.read_shift(t&&t.biff==2?1:2),i=[],s=0;s<=r;++s)i.push(n.read_shift(t&&t.biff==2?1:2));return i}function zre(n,e,t){var r=n[n.l+1]&255?1:0;return n.l+=2,[r,n.read_shift(t&&t.biff==2?1:2)]}function Wre(n,e,t){var r=n[n.l+1]&255?1:0;return n.l+=2,[r,n.read_shift(t&&t.biff==2?1:2)]}function qre(n){var e=n[n.l+1]&255?1:0;return n.l+=2,[e,n.read_shift(2)]}function Gre(n,e,t){var r=n[n.l+1]&255?1:0;return n.l+=t&&t.biff==2?3:4,[r]}function PL(n){var e=n.read_shift(1),t=n.read_shift(1);return[e,t]}function Kre(n){return n.read_shift(2),PL(n,2)}function Xre(n){return n.read_shift(2),PL(n,2)}function Yre(n,e,t){var r=(n[n.l]&96)>>5;n.l+=1;var i=RL(n,0,t);return[r,i]}function Qre(n,e,t){var r=(n[n.l]&96)>>5;n.l+=1;var i=Nre(n,0,t);return[r,i]}function Zre(n,e,t){var r=(n[n.l]&96)>>5;n.l+=1;var i=n.read_shift(2);t&&t.biff==5&&(n.l+=12);var s=RL(n,0,t);return[r,i,s]}function Jre(n,e,t){var r=(n[n.l]&96)>>5;n.l+=1;var i=n.read_shift(t&&t.biff<=3?1:2);return[ese[i],FL[i],r]}function eie(n,e,t){var r=n[n.l++],i=n.read_shift(1),s=t&&t.biff<=3?[r==88?-1:0,n.read_shift(1)]:tie(n);return[i,(s[0]===0?FL:Jie)[s[1]]]}function tie(n){return[n[n.l+1]>>7,n.read_shift(2)&32767]}function nie(n,e,t){n.l+=t&&t.biff==2?3:4}function rie(n,e,t){if(n.l++,t&&t.biff==12)return[n.read_shift(4,"i"),0];var r=n.read_shift(2),i=n.read_shift(t&&t.biff==2?1:2);return[r,i]}function iie(n){return n.l++,Kc[n.read_shift(1)]}function sie(n){return n.l++,n.read_shift(2)}function oie(n){return n.l++,n.read_shift(1)!==0}function aie(n){return n.l++,Pr(n,8)}function cie(n,e,t){return n.l++,Fh(n,e-1,t)}function lie(n,e){var t=[n.read_shift(1)];if(e==12)switch(t[0]){case 2:t[0]=4;break;case 4:t[0]=16;break;case 0:t[0]=1;break;case 1:t[0]=2;break}switch(t[0]){case 4:t[1]=Tn(n,1)?"TRUE":"FALSE",e!=12&&(n.l+=7);break;case 37:case 16:t[1]=Kc[n[n.l]],n.l+=e==12?4:8;break;case 0:n.l+=8;break;case 1:t[1]=Pr(n,8);break;case 2:t[1]=Xc(n,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+t[0])}return t}function uie(n,e,t){for(var r=n.read_shift(t.biff==12?4:2),i=[],s=0;s!=r;++s)i.push((t.biff==12?Gc:G_)(n,8));return i}function die(n,e,t){var r=0,i=0;t.biff==12?(r=n.read_shift(4),i=n.read_shift(4)):(i=1+n.read_shift(1),r=1+n.read_shift(2)),t.biff>=2&&t.biff<8&&(--r,--i==0&&(i=256));for(var s=0,o=[];s!=r&&(o[s]=[]);++s)for(var a=0;a!=i;++a)o[s][a]=lie(n,t.biff);return o}function fie(n,e,t){var r=n.read_shift(1)>>>5&3,i=!t||t.biff>=8?4:2,s=n.read_shift(i);switch(t.biff){case 2:n.l+=5;break;case 3:case 4:n.l+=8;break;case 5:n.l+=12;break}return[r,0,s]}function hie(n,e,t){if(t.biff==5)return pie(n,e,t);var r=n.read_shift(1)>>>5&3,i=n.read_shift(2),s=n.read_shift(4);return[r,i,s]}function pie(n){var e=n.read_shift(1)>>>5&3,t=n.read_shift(2,"i");n.l+=8;var r=n.read_shift(2);return n.l+=12,[e,t,r]}function mie(n,e,t){var r=n.read_shift(1)>>>5&3;n.l+=t&&t.biff==2?3:4;var i=n.read_shift(t&&t.biff==2?1:2);return[r,i]}function gie(n,e,t){var r=n.read_shift(1)>>>5&3,i=n.read_shift(t&&t.biff==2?1:2);return[r,i]}function _ie(n,e,t){var r=n.read_shift(1)>>>5&3;return n.l+=4,t.biff<8&&n.l--,t.biff==12&&(n.l+=2),[r]}function vie(n,e,t){var r=(n[n.l++]&96)>>5,i=n.read_shift(2),s=4;if(t)switch(t.biff){case 5:s=15;break;case 12:s=6;break}return n.l+=s,[r,i]}var yie=Lr,xie=Lr,Eie=Lr;function Vh(n,e,t){return n.l+=2,[Ore(n,4,t)]}function qI(n){return n.l+=6,[]}var wie=Vh,Cie=qI,bie=qI,Iie=Vh;function OL(n){return n.l+=2,[Vn(n),n.read_shift(2)&1]}var Tie=Vh,Sie=OL,Die=qI,kie=Vh,Aie=Vh,Mie=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function Rie(n){n.l+=2;var e=n.read_shift(2),t=n.read_shift(2),r=n.read_shift(4),i=n.read_shift(2),s=n.read_shift(2),o=Mie[t>>2&31];return{ixti:e,coltype:t&3,rt:o,idx:r,c:i,C:s}}function Pie(n){return n.l+=2,[n.read_shift(4)]}function Oie(n,e,t){return n.l+=5,n.l+=2,n.l+=t.biff==2?1:4,["PTGSHEET"]}function Nie(n,e,t){return n.l+=t.biff==2?4:5,["PTGENDSHEET"]}function Fie(n){var e=n.read_shift(1)>>>5&3,t=n.read_shift(2);return[e,t]}function Lie(n){var e=n.read_shift(1)>>>5&3,t=n.read_shift(2);return[e,t]}function Vie(n){return n.l+=4,[0,0]}var c4={1:{n:"PtgExp",f:rie},2:{n:"PtgTbl",f:Eie},3:{n:"PtgAdd",f:Fn},4:{n:"PtgSub",f:Fn},5:{n:"PtgMul",f:Fn},6:{n:"PtgDiv",f:Fn},7:{n:"PtgPower",f:Fn},8:{n:"PtgConcat",f:Fn},9:{n:"PtgLt",f:Fn},10:{n:"PtgLe",f:Fn},11:{n:"PtgEq",f:Fn},12:{n:"PtgGe",f:Fn},13:{n:"PtgGt",f:Fn},14:{n:"PtgNe",f:Fn},15:{n:"PtgIsect",f:Fn},16:{n:"PtgUnion",f:Fn},17:{n:"PtgRange",f:Fn},18:{n:"PtgUplus",f:Fn},19:{n:"PtgUminus",f:Fn},20:{n:"PtgPercent",f:Fn},21:{n:"PtgParen",f:Fn},22:{n:"PtgMissArg",f:Fn},23:{n:"PtgStr",f:cie},26:{n:"PtgSheet",f:Oie},27:{n:"PtgEndSheet",f:Nie},28:{n:"PtgErr",f:iie},29:{n:"PtgBool",f:oie},30:{n:"PtgInt",f:sie},31:{n:"PtgNum",f:aie},32:{n:"PtgArray",f:$re},33:{n:"PtgFunc",f:Jre},34:{n:"PtgFuncVar",f:eie},35:{n:"PtgName",f:fie},36:{n:"PtgRef",f:Yre},37:{n:"PtgArea",f:Lre},38:{n:"PtgMemArea",f:mie},39:{n:"PtgMemErr",f:yie},40:{n:"PtgMemNoMem",f:xie},41:{n:"PtgMemFunc",f:gie},42:{n:"PtgRefErr",f:_ie},43:{n:"PtgAreaErr",f:Bre},44:{n:"PtgRefN",f:Qre},45:{n:"PtgAreaN",f:jre},46:{n:"PtgMemAreaN",f:Fie},47:{n:"PtgMemNoMemN",f:Lie},57:{n:"PtgNameX",f:hie},58:{n:"PtgRef3d",f:Zre},59:{n:"PtgArea3d",f:Vre},60:{n:"PtgRefErr3d",f:vie},61:{n:"PtgAreaErr3d",f:Ure},255:{}},Bie={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},Uie={1:{n:"PtgElfLel",f:OL},2:{n:"PtgElfRw",f:kie},3:{n:"PtgElfCol",f:wie},6:{n:"PtgElfRwV",f:Aie},7:{n:"PtgElfColV",f:Iie},10:{n:"PtgElfRadical",f:Tie},11:{n:"PtgElfRadicalS",f:Die},13:{n:"PtgElfColS",f:Cie},15:{n:"PtgElfColSV",f:bie},16:{n:"PtgElfRadicalLel",f:Sie},25:{n:"PtgList",f:Rie},29:{n:"PtgSxName",f:Pie},255:{}},jie={0:{n:"PtgAttrNoop",f:Vie},1:{n:"PtgAttrSemi",f:Gre},2:{n:"PtgAttrIf",f:Wre},4:{n:"PtgAttrChoose",f:Hre},8:{n:"PtgAttrGoto",f:zre},16:{n:"PtgAttrSum",f:nie},32:{n:"PtgAttrBaxcel",f:a4},33:{n:"PtgAttrBaxcel",f:a4},64:{n:"PtgAttrSpace",f:Kre},65:{n:"PtgAttrSpaceSemi",f:Xre},128:{n:"PtgAttrIfError",f:qre},255:{}};function Bh(n,e,t,r){if(r.biff<8)return Lr(n,e);for(var i=n.l+e,s=[],o=0;o!==t.length;++o)switch(t[o][0]){case"PtgArray":t[o][1]=die(n,0,r),s.push(t[o][1]);break;case"PtgMemArea":t[o][2]=uie(n,t[o][1],r),s.push(t[o][2]);break;case"PtgExp":r&&r.biff==12&&(t[o][1][1]=n.read_shift(4),s.push(t[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+t[o][0];default:break}return e=i-n.l,e!==0&&s.push(Lr(n,e)),s}function Uh(n,e,t){for(var r=n.l+e,i,s,o=[];r!=n.l;)e=r-n.l,s=n[n.l],i=c4[s]||c4[Bie[s]],(s===24||s===25)&&(i=(s===24?Uie:jie)[n[n.l+1]]),!i||!i.f?Lr(n,e):o.push([i.n,i.f(n,e,t)]);return o}function $ie(n){for(var e=[],t=0;t<n.length;++t){for(var r=n[t],i=[],s=0;s<r.length;++s){var o=r[s];if(o)switch(o[0]){case 2:i.push('"'+o[1].replace(/"/g,'""')+'"');break;default:i.push(o[1])}else i.push("")}e.push(i.join(","))}return e.join(";")}var Hie={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function zie(n,e){if(!n&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(n)?"'"+n+"'":n}function NL(n,e,t){if(!n)return"SH33TJSERR0";if(t.biff>8&&(!n.XTI||!n.XTI[e]))return n.SheetNames[e];if(!n.XTI)return"SH33TJSERR6";var r=n.XTI[e];if(t.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":n.XTI[e-1];if(!r)return"SH33TJSERR1";var i="";if(t.biff>8)switch(n[r[0]][0]){case 357:return i=r[1]==-1?"#REF":n.SheetNames[r[1]],r[1]==r[2]?i:i+":"+n.SheetNames[r[2]];case 358:return t.SID!=null?n.SheetNames[t.SID]:"SH33TJSSAME"+n[r[0]][0];case 355:default:return"SH33TJSSRC"+n[r[0]][0]}switch(n[r[0]][0][0]){case 1025:return i=r[1]==-1?"#REF":n.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?i:i+":"+n.SheetNames[r[2]];case 14849:return n[r[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return n[r[0]][0][3]?(i=r[1]==-1?"#REF":n[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?i:i+":"+n[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function l4(n,e,t){var r=NL(n,e,t);return r=="#REF"?r:zie(r,t)}function Rr(n,e,t,r,i){var s=i&&i.biff||8,o={s:{c:0,r:0},e:{c:0,r:0}},a=[],c,l,u,f=0,h=0,p,y="";if(!n[0]||!n[0][0])return"";for(var v=-1,w="",F=0,V=n[0].length;F<V;++F){var k=n[0][F];switch(k[0]){case"PtgUminus":a.push("-"+a.pop());break;case"PtgUplus":a.push("+"+a.pop());break;case"PtgPercent":a.push(a.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=a.pop(),l=a.pop(),v>=0){switch(n[0][v][1][0]){case 0:w=wn(" ",n[0][v][1][1]);break;case 1:w=wn("\r",n[0][v][1][1]);break;default:if(w="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+n[0][v][1][0])}l=l+w,v=-1}a.push(l+Hie[k[0]]+c);break;case"PtgIsect":c=a.pop(),l=a.pop(),a.push(l+" "+c);break;case"PtgUnion":c=a.pop(),l=a.pop(),a.push(l+","+c);break;case"PtgRange":c=a.pop(),l=a.pop(),a.push(l+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":u=xh(k[1][1],o,i),a.push(Eh(u,s));break;case"PtgRefN":u=t?xh(k[1][1],t,i):k[1][1],a.push(Eh(u,s));break;case"PtgRef3d":f=k[1][1],u=xh(k[1][2],o,i),y=l4(r,f,i);var X=y;a.push(y+"!"+Eh(u,s));break;case"PtgFunc":case"PtgFuncVar":var se=k[1][0],G=k[1][1];se||(se=0),se&=127;var b=se==0?[]:a.slice(-se);a.length-=se,G==="User"&&(G=b.shift()),a.push(G+"("+b.join(",")+")");break;case"PtgBool":a.push(k[1]?"TRUE":"FALSE");break;case"PtgInt":a.push(k[1]);break;case"PtgNum":a.push(String(k[1]));break;case"PtgStr":a.push('"'+k[1].replace(/"/g,'""')+'"');break;case"PtgErr":a.push(k[1]);break;case"PtgAreaN":p=HF(k[1][1],t?{s:t}:o,i),a.push(iI(p,i));break;case"PtgArea":p=HF(k[1][1],o,i),a.push(iI(p,i));break;case"PtgArea3d":f=k[1][1],p=k[1][2],y=l4(r,f,i),a.push(y+"!"+iI(p,i));break;case"PtgAttrSum":a.push("SUM("+a.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=k[1][2];var I=(r.names||[])[h-1]||(r[0]||[])[h],T=I?I.Name:"SH33TJSNAME"+String(h);T&&T.slice(0,6)=="_xlfn."&&!i.xlfn&&(T=T.slice(6)),a.push(T);break;case"PtgNameX":var R=k[1][1];h=k[1][2];var P;if(i.biff<=5)R<0&&(R=-R),r[R]&&(P=r[R][h]);else{var A="";if(((r[R]||[])[0]||[])[0]==14849||(((r[R]||[])[0]||[])[0]==1025?r[R][h]&&r[R][h].itab>0&&(A=r.SheetNames[r[R][h].itab-1]+"!"):A=r.SheetNames[h-1]+"!"),r[R]&&r[R][h])A+=r[R][h].Name;else if(r[0]&&r[0][h])A+=r[0][h].Name;else{var N=(NL(r,R,i)||"").split(";;");N[h-1]?A=N[h-1]:A+="SH33TJSERRX"}a.push(A);break}P||(P={Name:"SH33TJSERRY"}),a.push(P.Name);break;case"PtgParen":var Oe="(",Ce=")";if(v>=0){switch(w="",n[0][v][1][0]){case 2:Oe=wn(" ",n[0][v][1][1])+Oe;break;case 3:Oe=wn("\r",n[0][v][1][1])+Oe;break;case 4:Ce=wn(" ",n[0][v][1][1])+Ce;break;case 5:Ce=wn("\r",n[0][v][1][1])+Ce;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+n[0][v][1][0])}v=-1}a.push(Oe+a.pop()+Ce);break;case"PtgRefErr":a.push("#REF!");break;case"PtgRefErr3d":a.push("#REF!");break;case"PtgExp":u={c:k[1][1],r:k[1][0]};var $e={c:t.c,r:t.r};if(r.sharedf[nt(u)]){var Ne=r.sharedf[nt(u)];a.push(Rr(Ne,o,$e,r,i))}else{var ft=!1;for(c=0;c!=r.arrayf.length;++c)if(l=r.arrayf[c],!(u.c<l[0].s.c||u.c>l[0].e.c)&&!(u.r<l[0].s.r||u.r>l[0].e.r)){a.push(Rr(l[1],o,$e,r,i)),ft=!0;break}ft||a.push(k[1])}break;case"PtgArray":a.push("{"+$ie(k[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":v=F;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":a.push("");break;case"PtgAreaErr":a.push("#REF!");break;case"PtgAreaErr3d":a.push("#REF!");break;case"PtgList":a.push("Table"+k[1].idx+"[#"+k[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(k));default:throw new Error("Unrecognized Formula Token: "+String(k))}var ke=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&v>=0&&ke.indexOf(n[0][F][0])==-1){k=n[0][v];var Be=!0;switch(k[1][0]){case 4:Be=!1;case 0:w=wn(" ",k[1][1]);break;case 5:Be=!1;case 1:w=wn("\r",k[1][1]);break;default:if(w="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+k[1][0])}a.push((Be?w:"")+a.pop()+(Be?"":w)),v=-1}}if(a.length>1&&i.WTF)throw new Error("bad formula stack");return a[0]}function Wie(n,e,t){var r=n.l+e,i=t.biff==2?1:2,s,o=n.read_shift(i);if(o==65535)return[[],Lr(n,e-2)];var a=Uh(n,o,t);return e!==o+i&&(s=Bh(n,e-o-i,a,t)),n.l=r,[a,s]}function qie(n,e,t){var r=n.l+e,i=t.biff==2?1:2,s,o=n.read_shift(i);if(o==65535)return[[],Lr(n,e-2)];var a=Uh(n,o,t);return e!==o+i&&(s=Bh(n,e-o-i,a,t)),n.l=r,[a,s]}function Gie(n,e,t,r){var i=n.l+e,s=Uh(n,r,t),o;return i!==n.l&&(o=Bh(n,i-n.l,s,t)),[s,o]}function Kie(n,e,t){var r=n.l+e,i,s=n.read_shift(2),o=Uh(n,s,t);return s==65535?[[],Lr(n,e-2)]:(e!==s+2&&(i=Bh(n,r-s-2,o,t)),[o,i])}function Xie(n){var e;if(Po(n,n.l+6)!==65535)return[Pr(n),"n"];switch(n[n.l]){case 0:return n.l+=8,["String","s"];case 1:return e=n[n.l+2]===1,n.l+=8,[e,"b"];case 2:return e=n[n.l+2],n.l+=8,[e,"e"];case 3:return n.l+=8,["","s"]}return[]}function aI(n,e,t){var r=n.l+e,i=qs(n,6);t.biff==2&&++n.l;var s=Xie(n,8),o=n.read_shift(1);t.biff!=2&&(n.read_shift(1),t.biff>=5&&n.read_shift(4));var a=qie(n,r-n.l,t);return{cell:i,val:s[0],formula:a,shared:o>>3&1,tt:s[1]}}function K_(n,e,t){var r=n.read_shift(4),i=Uh(n,r,t),s=n.read_shift(4),o=s>0?Bh(n,s,i,t):null;return[i,o]}var Yie=K_,X_=K_,Qie=K_,Zie=K_,Jie={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},FL={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},ese={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function u4(n){return n.slice(0,3)=="of:"&&(n=n.slice(3)),n.charCodeAt(0)==61&&(n=n.slice(1),n.charCodeAt(0)==61&&(n=n.slice(1))),n=n.replace(/COM\.MICROSOFT\./g,""),n=n.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(e,t){return t.replace(/\./g,"")}),n=n.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),n.replace(/[;~]/g,",").replace(/\|/g,";")}function cI(n){var e=n.split(":"),t=e[0].split(".")[0];return[t,e[0].split(".")[1]+(e.length>1?":"+(e[1].split(".")[1]||e[1].split(".")[0]):"")]}var Ih={},Yu={};function Th(n,e){if(n){var t=[.7,.7,.75,.75,.3,.3];e=="xlml"&&(t=[1,1,1,1,.5,.5]),n.left==null&&(n.left=t[0]),n.right==null&&(n.right=t[1]),n.top==null&&(n.top=t[2]),n.bottom==null&&(n.bottom=t[3]),n.header==null&&(n.header=t[4]),n.footer==null&&(n.footer=t[5])}}function LL(n,e,t,r,i,s){try{r.cellNF&&(n.z=st[e])}catch(a){if(r.WTF)throw a}if(!(n.t==="z"&&!r.cellStyles)){if(n.t==="d"&&typeof n.v=="string"&&(n.v=rr(n.v)),(!r||r.cellText!==!1)&&n.t!=="z")try{if(st[e]==null&&Bc(tJ[e]||"General",e),n.t==="e")n.w=n.w||Kc[n.v];else if(e===0)if(n.t==="n")(n.v|0)===n.v?n.w=n.v.toString(10):n.w=Dh(n.v);else if(n.t==="d"){var o=Qr(n.v);(o|0)===o?n.w=o.toString(10):n.w=Dh(o)}else{if(n.v===void 0)return"";n.w=jc(n.v,Yu)}else n.t==="d"?n.w=Gi(e,Qr(n.v),Yu):n.w=Gi(e,n.v,Yu)}catch(a){if(r.WTF)throw a}if(r.cellStyles&&t!=null)try{n.s=s.Fills[t],n.s.fgColor&&n.s.fgColor.theme&&!n.s.fgColor.rgb&&(n.s.fgColor.rgb=U_(i.themeElements.clrScheme[n.s.fgColor.theme].rgb,n.s.fgColor.tint||0),r.WTF&&(n.s.fgColor.raw_rgb=i.themeElements.clrScheme[n.s.fgColor.theme].rgb)),n.s.bgColor&&n.s.bgColor.theme&&(n.s.bgColor.rgb=U_(i.themeElements.clrScheme[n.s.bgColor.theme].rgb,n.s.bgColor.tint||0),r.WTF&&(n.s.bgColor.raw_rgb=i.themeElements.clrScheme[n.s.bgColor.theme].rgb))}catch(a){if(r.WTF&&s.Fills)throw a}}}function tse(n,e){var t=Cn(e);t.s.r<=t.e.r&&t.s.c<=t.e.c&&t.s.r>=0&&t.s.c>=0&&(n["!ref"]=kt(t))}var nse=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,rse=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,ise=/<(?:\w:)?hyperlink [^>]*>/mg,sse=/"(\w*:\w*)"/,ose=/<(?:\w:)?col\b[^>]*[\/]?>/g,ase=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,cse=/<(?:\w:)?pageMargins[^>]*\/>/g,VL=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,lse=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,use=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function dse(n,e,t,r,i,s,o){if(!n)return n;r||(r={"!id":{}}),Un!=null&&e.dense==null&&(e.dense=Un);var a=e.dense?[]:{},c={s:{r:2e6,c:2e6},e:{r:0,c:0}},l="",u="",f=n.match(rse);f?(l=n.slice(0,f.index),u=n.slice(f.index+f[0].length)):l=u=n;var h=l.match(VL);h?GI(h[0],a,i,t):(h=l.match(lse))&&fse(h[0],h[1]||"",a,i,t,o,s);var p=(l.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(p>0){var y=l.slice(p,p+50).match(sse);y&&tse(a,y[1])}var v=l.match(use);v&&v[1]&&vse(v[1],i);var w=[];if(e.cellStyles){var F=l.match(ose);F&&mse(w,F)}f&&yse(f[1],a,e,c,s,o);var V=u.match(ase);V&&(a["!autofilter"]=gse(V[0]));var k=[],X=u.match(nse);if(X)for(p=0;p!=X.length;++p)k[p]=Cn(X[p].slice(X[p].indexOf('"')+1));var se=u.match(ise);se&&hse(a,se,r);var G=u.match(cse);if(G&&(a["!margins"]=pse(Qe(G[0]))),!a["!ref"]&&c.e.c>=c.s.c&&c.e.r>=c.s.r&&(a["!ref"]=kt(c)),e.sheetRows>0&&a["!ref"]){var b=Cn(a["!ref"]);e.sheetRows<=+b.e.r&&(b.e.r=e.sheetRows-1,b.e.r>c.e.r&&(b.e.r=c.e.r),b.e.r<b.s.r&&(b.s.r=b.e.r),b.e.c>c.e.c&&(b.e.c=c.e.c),b.e.c<b.s.c&&(b.s.c=b.e.c),a["!fullref"]=a["!ref"],a["!ref"]=kt(b))}return w.length>0&&(a["!cols"]=w),k.length>0&&(a["!merges"]=k),a}function GI(n,e,t,r){var i=Qe(n);t.Sheets[r]||(t.Sheets[r]={}),i.codeName&&(t.Sheets[r].CodeName=Mt(en(i.codeName)))}function fse(n,e,t,r,i){GI(n.slice(0,n.indexOf(">")),t,r,i)}function hse(n,e,t){for(var r=Array.isArray(n),i=0;i!=e.length;++i){var s=Qe(en(e[i]),!0);if(!s.ref)return;var o=((t||{})["!id"]||[])[s.id];o?(s.Target=o.Target,s.location&&(s.Target+="#"+Mt(s.location))):(s.Target="#"+Mt(s.location),o={Target:s.Target,TargetMode:"Internal"}),s.Rel=o,s.tooltip&&(s.Tooltip=s.tooltip,delete s.tooltip);for(var a=Cn(s.ref),c=a.s.r;c<=a.e.r;++c)for(var l=a.s.c;l<=a.e.c;++l){var u=nt({c:l,r:c});r?(n[c]||(n[c]=[]),n[c][l]||(n[c][l]={t:"z",v:void 0}),n[c][l].l=s):(n[u]||(n[u]={t:"z",v:void 0}),n[u].l=s)}}}function pse(n){var e={};return["left","right","top","bottom","header","footer"].forEach(function(t){n[t]&&(e[t]=parseFloat(n[t]))}),e}function mse(n,e){for(var t=!1,r=0;r!=e.length;++r){var i=Qe(e[r],!0);i.hidden&&(i.hidden=hn(i.hidden));var s=parseInt(i.min,10)-1,o=parseInt(i.max,10)-1;for(i.outlineLevel&&(i.level=+i.outlineLevel||0),delete i.min,delete i.max,i.width=+i.width,!t&&i.width&&(t=!0,WI(i.width)),Ju(i);s<=o;)n[s++]=mr(i)}}function gse(n){var e={ref:(n.match(/ref="([^"]*)"/)||[])[1]};return e}var _se=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function vse(n,e){e.Views||(e.Views=[{}]),(n.match(_se)||[]).forEach(function(t,r){var i=Qe(t);e.Views[r]||(e.Views[r]={}),+i.zoomScale&&(e.Views[r].zoom=+i.zoomScale),hn(i.rightToLeft)&&(e.Views[r].RTL=!0)})}var yse=function(){var n=/<(?:\w+:)?c[ \/>]/,e=/<\/(?:\w+:)?row>/,t=/r=["']([^"']*)["']/,r=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,i=/ref=["']([^"']*)["']/,s=kh("v"),o=kh("f");return function(c,l,u,f,h,p){for(var y=0,v="",w=[],F=[],V=0,k=0,X=0,se="",G,b,I=0,T=0,R,P,A=0,N=0,Oe=Array.isArray(p.CellXf),Ce,$e=[],Ne=[],ft=Array.isArray(l),ke=[],Be={},fe=!1,z=!!u.sheetStubs,J=c.split(e),Y=0,K=J.length;Y!=K;++Y){v=J[Y].trim();var he=v.length;if(he!==0){var Me=0;e:for(y=0;y<he;++y)switch(v[y]){case">":if(v[y-1]!="/"){++y;break e}if(u&&u.cellStyles){if(b=Qe(v.slice(Me,y),!0),I=b.r!=null?parseInt(b.r,10):I+1,T=-1,u.sheetRows&&u.sheetRows<I)continue;Be={},fe=!1,b.ht&&(fe=!0,Be.hpt=parseFloat(b.ht),Be.hpx=Ph(Be.hpt)),b.hidden=="1"&&(fe=!0,Be.hidden=!0),b.outlineLevel!=null&&(fe=!0,Be.level=+b.outlineLevel),fe&&(ke[I-1]=Be)}break;case"<":Me=y;break}if(Me>=y)break;if(b=Qe(v.slice(Me,y),!0),I=b.r!=null?parseInt(b.r,10):I+1,T=-1,!(u.sheetRows&&u.sheetRows<I)){f.s.r>I-1&&(f.s.r=I-1),f.e.r<I-1&&(f.e.r=I-1),u&&u.cellStyles&&(Be={},fe=!1,b.ht&&(fe=!0,Be.hpt=parseFloat(b.ht),Be.hpx=Ph(Be.hpt)),b.hidden=="1"&&(fe=!0,Be.hidden=!0),b.outlineLevel!=null&&(fe=!0,Be.level=+b.outlineLevel),fe&&(ke[I-1]=Be)),w=v.slice(y).split(n);for(var Se=0;Se!=w.length&&w[Se].trim().charAt(0)=="<";++Se);for(w=w.slice(Se),y=0;y!=w.length;++y)if(v=w[y].trim(),v.length!==0){if(F=v.match(t),V=y,k=0,X=0,v="<c "+(v.slice(0,1)=="<"?">":"")+v,F!=null&&F.length===2){for(V=0,se=F[1],k=0;k!=se.length&&!((X=se.charCodeAt(k)-64)<1||X>26);++k)V=26*V+X;--V,T=V}else++T;for(k=0;k!=v.length&&v.charCodeAt(k)!==62;++k);if(++k,b=Qe(v.slice(0,k),!0),b.r||(b.r=nt({r:I-1,c:T})),se=v.slice(k),G={t:""},(F=se.match(s))!=null&&F[1]!==""&&(G.v=Mt(F[1])),u.cellFormula){if((F=se.match(o))!=null&&F[1]!==""){if(G.f=Mt(en(F[1])).replace(/\r\n/g,`
`),u.xlfn||(G.f=o4(G.f)),F[0].indexOf('t="array"')>-1)G.F=(se.match(i)||[])[1],G.F.indexOf(":")>-1&&$e.push([Cn(G.F),G.F]);else if(F[0].indexOf('t="shared"')>-1){P=Qe(F[0]);var Re=Mt(en(F[1]));u.xlfn||(Re=o4(Re)),Ne[parseInt(P.si,10)]=[P,Re,b.r]}}else(F=se.match(/<f[^>]*\/>/))&&(P=Qe(F[0]),Ne[P.si]&&(G.f=Are(Ne[P.si][1],Ne[P.si][2],b.r)));var _e=Yr(b.r);for(k=0;k<$e.length;++k)_e.r>=$e[k][0].s.r&&_e.r<=$e[k][0].e.r&&_e.c>=$e[k][0].s.c&&_e.c<=$e[k][0].e.c&&(G.F=$e[k][1])}if(b.t==null&&G.v===void 0)if(G.f||G.F)G.v=0,G.t="n";else if(z)G.t="z";else continue;else G.t=b.t||"n";switch(f.s.c>T&&(f.s.c=T),f.e.c<T&&(f.e.c=T),G.t){case"n":if(G.v==""||G.v==null){if(!z)continue;G.t="z"}else G.v=parseFloat(G.v);break;case"s":if(typeof G.v>"u"){if(!z)continue;G.t="z"}else R=Ih[parseInt(G.v,10)],G.v=R.t,G.r=R.r,u.cellHTML&&(G.h=R.h);break;case"str":G.t="s",G.v=G.v!=null?en(G.v):"",u.cellHTML&&(G.h=AI(G.v));break;case"inlineStr":F=se.match(r),G.t="s",F!=null&&(R=zI(F[1]))?(G.v=R.t,u.cellHTML&&(G.h=R.h)):G.v="";break;case"b":G.v=hn(G.v);break;case"d":u.cellDates?G.v=rr(G.v,1):(G.v=Qr(rr(G.v,1)),G.t="n");break;case"e":(!u||u.cellText!==!1)&&(G.w=G.v),G.v=sL[G.v];break}if(A=N=0,Ce=null,Oe&&b.s!==void 0&&(Ce=p.CellXf[b.s],Ce!=null&&(Ce.numFmtId!=null&&(A=Ce.numFmtId),u.cellStyles&&Ce.fillId!=null&&(N=Ce.fillId))),LL(G,A,N,u,h,p),u.cellDates&&Oe&&G.t=="n"&&ed(st[A])&&(G.t="d",G.v=W_(G.v)),b.cm&&u.xlmeta){var ht=(u.xlmeta.Cell||[])[+b.cm-1];ht&&ht.type=="XLDAPR"&&(G.D=!0)}if(ft){var q=Yr(b.r);l[q.r]||(l[q.r]=[]),l[q.r][q.c]=G}else l[b.r]=G}}}}ke.length>0&&(l["!rows"]=ke)}}();function xse(n,e){var t={},r=n.l+e;t.r=n.read_shift(4),n.l+=4;var i=n.read_shift(2);n.l+=1;var s=n.read_shift(1);return n.l=r,s&7&&(t.level=s&7),s&16&&(t.hidden=!0),s&32&&(t.hpt=i/20),t}var Ese=Gc;function wse(){}function Cse(n,e){var t={},r=n[n.l];return++n.l,t.above=!(r&64),t.left=!(r&128),n.l+=18,t.name=WJ(n,e-19),t}function bse(n){var e=Ki(n);return[e]}function Ise(n){var e=qc(n);return[e]}function Tse(n){var e=Ki(n),t=n.read_shift(1);return[e,t,"b"]}function Sse(n){var e=qc(n),t=n.read_shift(1);return[e,t,"b"]}function Dse(n){var e=Ki(n),t=n.read_shift(1);return[e,t,"e"]}function kse(n){var e=qc(n),t=n.read_shift(1);return[e,t,"e"]}function Ase(n){var e=Ki(n),t=n.read_shift(4);return[e,t,"s"]}function Mse(n){var e=qc(n),t=n.read_shift(4);return[e,t,"s"]}function Rse(n){var e=Ki(n),t=Pr(n);return[e,t,"n"]}function BL(n){var e=qc(n),t=Pr(n);return[e,t,"n"]}function Pse(n){var e=Ki(n),t=jI(n);return[e,t,"n"]}function Ose(n){var e=qc(n),t=jI(n);return[e,t,"n"]}function Nse(n){var e=Ki(n),t=BI(n);return[e,t,"is"]}function Fse(n){var e=Ki(n),t=Fr(n);return[e,t,"str"]}function Lse(n){var e=qc(n),t=Fr(n);return[e,t,"str"]}function Vse(n,e,t){var r=n.l+e,i=Ki(n);i.r=t["!row"];var s=n.read_shift(1),o=[i,s,"b"];if(t.cellFormula){n.l+=2;var a=X_(n,r-n.l,t);o[3]=Rr(a,null,i,t.supbooks,t)}else n.l=r;return o}function Bse(n,e,t){var r=n.l+e,i=Ki(n);i.r=t["!row"];var s=n.read_shift(1),o=[i,s,"e"];if(t.cellFormula){n.l+=2;var a=X_(n,r-n.l,t);o[3]=Rr(a,null,i,t.supbooks,t)}else n.l=r;return o}function Use(n,e,t){var r=n.l+e,i=Ki(n);i.r=t["!row"];var s=Pr(n),o=[i,s,"n"];if(t.cellFormula){n.l+=2;var a=X_(n,r-n.l,t);o[3]=Rr(a,null,i,t.supbooks,t)}else n.l=r;return o}function jse(n,e,t){var r=n.l+e,i=Ki(n);i.r=t["!row"];var s=Fr(n),o=[i,s,"str"];if(t.cellFormula){n.l+=2;var a=X_(n,r-n.l,t);o[3]=Rr(a,null,i,t.supbooks,t)}else n.l=r;return o}var $se=Gc;function Hse(n,e){var t=n.l+e,r=Gc(n,16),i=UI(n),s=Fr(n),o=Fr(n),a=Fr(n);n.l=t;var c={rfx:r,relId:i,loc:s,display:a};return o&&(c.Tooltip=o),c}function zse(){}function Wse(n,e,t){var r=n.l+e,i=nL(n,16),s=n.read_shift(1),o=[i];if(o[2]=s,t.cellFormula){var a=Yie(n,r-n.l,t);o[1]=a}else n.l=r;return o}function qse(n,e,t){var r=n.l+e,i=Gc(n,16),s=[i];if(t.cellFormula){var o=Zie(n,r-n.l,t);s[1]=o,n.l=r}else n.l=r;return s}var Gse=["left","right","top","bottom","header","footer"];function Kse(n){var e={};return Gse.forEach(function(t){e[t]=Pr(n,8)}),e}function Xse(n){var e=n.read_shift(2);return n.l+=28,{RTL:e&32}}function Yse(){}function Qse(){}function Zse(n,e,t,r,i,s,o){if(!n)return n;var a=e||{};r||(r={"!id":{}}),Un!=null&&a.dense==null&&(a.dense=Un);var c=a.dense?[]:{},l,u={s:{r:2e6,c:2e6},e:{r:0,c:0}},f=[],h=!1,p=!1,y,v,w,F,V,k,X,se,G,b=[];a.biff=12,a["!row"]=0;var I=0,T=!1,R=[],P={},A=a.supbooks||i.supbooks||[[]];if(A.sharedf=P,A.arrayf=R,A.SheetNames=i.SheetNames||i.Sheets.map(function(Be){return Be.name}),!a.supbooks&&(a.supbooks=A,i.Names))for(var N=0;N<i.Names.length;++N)A[0][N+1]=i.Names[N];var Oe=[],Ce=[],$e=!1;H_[16]={n:"BrtShortReal",f:BL};var Ne,ft;if(Lo(n,function(fe,z,J){if(!p)switch(J){case 148:l=fe;break;case 0:y=fe,a.sheetRows&&a.sheetRows<=y.r&&(p=!0),se=gr(F=y.r),a["!row"]=y.r,(fe.hidden||fe.hpt||fe.level!=null)&&(fe.hpt&&(fe.hpx=Ph(fe.hpt)),Ce[fe.r]=fe);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(v={t:fe[2]},fe[2]){case"n":v.v=fe[1];break;case"s":X=Ih[fe[1]],v.v=X.t,v.r=X.r;break;case"b":v.v=!!fe[1];break;case"e":v.v=fe[1],a.cellText!==!1&&(v.w=Kc[v.v]);break;case"str":v.t="s",v.v=fe[1];break;case"is":v.t="s",v.v=fe[1].t;break}if((w=o.CellXf[fe[0].iStyleRef])&&LL(v,w.numFmtId,null,a,s,o),V=fe[0].c==-1?V+1:fe[0].c,a.dense?(c[F]||(c[F]=[]),c[F][V]=v):c[qn(V)+se]=v,a.cellFormula){for(T=!1,I=0;I<R.length;++I){var Y=R[I];y.r>=Y[0].s.r&&y.r<=Y[0].e.r&&V>=Y[0].s.c&&V<=Y[0].e.c&&(v.F=kt(Y[0]),T=!0)}!T&&fe.length>3&&(v.f=fe[3])}if(u.s.r>y.r&&(u.s.r=y.r),u.s.c>V&&(u.s.c=V),u.e.r<y.r&&(u.e.r=y.r),u.e.c<V&&(u.e.c=V),a.cellDates&&w&&v.t=="n"&&ed(st[w.numFmtId])){var K=Vc(v.v);K&&(v.t="d",v.v=new Date(K.y,K.m-1,K.d,K.H,K.M,K.S,K.u))}Ne&&(Ne.type=="XLDAPR"&&(v.D=!0),Ne=void 0),ft&&(ft=void 0);break;case 1:case 12:if(!a.sheetStubs||h)break;v={t:"z",v:void 0},V=fe[0].c==-1?V+1:fe[0].c,a.dense?(c[F]||(c[F]=[]),c[F][V]=v):c[qn(V)+se]=v,u.s.r>y.r&&(u.s.r=y.r),u.s.c>V&&(u.s.c=V),u.e.r<y.r&&(u.e.r=y.r),u.e.c<V&&(u.e.c=V),Ne&&(Ne.type=="XLDAPR"&&(v.D=!0),Ne=void 0),ft&&(ft=void 0);break;case 176:b.push(fe);break;case 49:Ne=((a.xlmeta||{}).Cell||[])[fe-1];break;case 494:var he=r["!id"][fe.relId];for(he?(fe.Target=he.Target,fe.loc&&(fe.Target+="#"+fe.loc),fe.Rel=he):fe.relId==""&&(fe.Target="#"+fe.loc),F=fe.rfx.s.r;F<=fe.rfx.e.r;++F)for(V=fe.rfx.s.c;V<=fe.rfx.e.c;++V)a.dense?(c[F]||(c[F]=[]),c[F][V]||(c[F][V]={t:"z",v:void 0}),c[F][V].l=fe):(k=nt({c:V,r:F}),c[k]||(c[k]={t:"z",v:void 0}),c[k].l=fe);break;case 426:if(!a.cellFormula)break;R.push(fe),G=a.dense?c[F][V]:c[qn(V)+se],G.f=Rr(fe[1],u,{r:y.r,c:V},A,a),G.F=kt(fe[0]);break;case 427:if(!a.cellFormula)break;P[nt(fe[0].s)]=fe[1],G=a.dense?c[F][V]:c[qn(V)+se],G.f=Rr(fe[1],u,{r:y.r,c:V},A,a);break;case 60:if(!a.cellStyles)break;for(;fe.e>=fe.s;)Oe[fe.e--]={width:fe.w/256,hidden:!!(fe.flags&1),level:fe.level},$e||($e=!0,WI(fe.w/256)),Ju(Oe[fe.e+1]);break;case 161:c["!autofilter"]={ref:kt(fe)};break;case 476:c["!margins"]=fe;break;case 147:i.Sheets[t]||(i.Sheets[t]={}),fe.name&&(i.Sheets[t].CodeName=fe.name),(fe.above||fe.left)&&(c["!outline"]={above:fe.above,left:fe.left});break;case 137:i.Views||(i.Views=[{}]),i.Views[0]||(i.Views[0]={}),fe.RTL&&(i.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:h=!0;break;case 36:h=!1;break;case 37:f.push(J),h=!0;break;case 38:f.pop(),h=!1;break;default:if(!z.T){if(!h||a.WTF)throw new Error("Unexpected record 0x"+J.toString(16))}}},a),delete a.supbooks,delete a["!row"],!c["!ref"]&&(u.s.r<2e6||l&&(l.e.r>0||l.e.c>0||l.s.r>0||l.s.c>0))&&(c["!ref"]=kt(l||u)),a.sheetRows&&c["!ref"]){var ke=Cn(c["!ref"]);a.sheetRows<=+ke.e.r&&(ke.e.r=a.sheetRows-1,ke.e.r>u.e.r&&(ke.e.r=u.e.r),ke.e.r<ke.s.r&&(ke.s.r=ke.e.r),ke.e.c>u.e.c&&(ke.e.c=u.e.c),ke.e.c<ke.s.c&&(ke.s.c=ke.e.c),c["!fullref"]=c["!ref"],c["!ref"]=kt(ke))}return b.length>0&&(c["!merges"]=b),Oe.length>0&&(c["!cols"]=Oe),Ce.length>0&&(c["!rows"]=Ce),c}function Jse(n){var e=[],t=n.match(/^<c:numCache>/),r;(n.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(s){var o=s.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);o&&(e[+o[1]]=t?+o[2]:o[2])});var i=Mt((n.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(n.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(s){r=s.replace(/<.*?>/g,"")}),[e,i,r]}function eoe(n,e,t,r,i,s){var o=s||{"!type":"chart"};if(!n)return s;var a=0,c=0,l="A",u={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(n.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(f){var h=Jse(f);u.s.r=u.s.c=0,u.e.c=a,l=qn(a),h[0].forEach(function(p,y){o[l+gr(y)]={t:"n",v:p,z:h[1]},c=y}),u.e.r<c&&(u.e.r=c),++a}),a>0&&(o["!ref"]=kt(u)),o}function toe(n,e,t,r,i){if(!n)return n;r||(r={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},o,a=n.match(VL);return a&&GI(a[0],s,i,t),(o=n.match(/drawing r:id="(.*?)"/))&&(s["!rel"]=o[1]),r["!id"][s["!rel"]]&&(s["!drawel"]=r["!id"][s["!rel"]]),s}function noe(n,e){n.l+=10;var t=Fr(n,e-10);return{name:t}}function roe(n,e,t,r,i){if(!n)return n;r||(r={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},o=[],a=!1;return Lo(n,function(l,u,f){switch(f){case 550:s["!rel"]=l;break;case 651:i.Sheets[t]||(i.Sheets[t]={}),l.name&&(i.Sheets[t].CodeName=l.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:o.push(f);break;case 38:o.pop();break;default:if(u.T>0)o.push(f);else if(u.T<0)o.pop();else if(!a||e.WTF)throw new Error("Unexpected record 0x"+f.toString(16))}},e),r["!id"][s["!rel"]]&&(s["!drawel"]=r["!id"][s["!rel"]]),s}var UL=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],ioe=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],soe=[],ooe=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function d4(n,e){for(var t=0;t!=n.length;++t)for(var r=n[t],i=0;i!=e.length;++i){var s=e[i];if(r[s[0]]==null)r[s[0]]=s[1];else switch(s[2]){case"bool":typeof r[s[0]]=="string"&&(r[s[0]]=hn(r[s[0]]));break;case"int":typeof r[s[0]]=="string"&&(r[s[0]]=parseInt(r[s[0]],10));break}}}function f4(n,e){for(var t=0;t!=e.length;++t){var r=e[t];if(n[r[0]]==null)n[r[0]]=r[1];else switch(r[2]){case"bool":typeof n[r[0]]=="string"&&(n[r[0]]=hn(n[r[0]]));break;case"int":typeof n[r[0]]=="string"&&(n[r[0]]=parseInt(n[r[0]],10));break}}}function jL(n){f4(n.WBProps,UL),f4(n.CalcPr,ooe),d4(n.WBView,ioe),d4(n.Sheets,soe),Yu.date1904=hn(n.WBProps.date1904)}var aoe="][*?/\\".split("");function coe(n,e){if(n.length>31){if(e)return!1;throw new Error("Sheet names cannot exceed 31 chars")}var t=!0;return aoe.forEach(function(r){if(n.indexOf(r)!=-1){if(!e)throw new Error("Sheet name cannot contain : \\ / ? * [ ]");t=!1}}),t}var loe=/<\w+:workbook/;function uoe(n,e){if(!n)throw new Error("Could not find file");var t={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},r=!1,i="xmlns",s={},o=0;if(n.replace(Vr,function(c,l){var u=Qe(c);switch(Ws(u[0])){case"<?xml":break;case"<workbook":c.match(loe)&&(i="xmlns"+c.match(/<(\w+):/)[1]),t.xmlns=u[i];break;case"</workbook>":break;case"<fileVersion":delete u[0],t.AppVersion=u;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":UL.forEach(function(f){if(u[f[0]]!=null)switch(f[2]){case"bool":t.WBProps[f[0]]=hn(u[f[0]]);break;case"int":t.WBProps[f[0]]=parseInt(u[f[0]],10);break;default:t.WBProps[f[0]]=u[f[0]]}}),u.codeName&&(t.WBProps.CodeName=en(u.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete u[0],t.WBView.push(u);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(u.state){case"hidden":u.Hidden=1;break;case"veryHidden":u.Hidden=2;break;default:u.Hidden=0}delete u.state,u.name=Mt(en(u.name)),delete u[0],t.Sheets.push(u);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":r=!0;break;case"</definedNames>":r=!1;break;case"<definedName":s={},s.Name=en(u.name),u.comment&&(s.Comment=u.comment),u.localSheetId&&(s.Sheet=+u.localSheetId),hn(u.hidden||"0")&&(s.Hidden=!0),o=l+c.length;break;case"</definedName>":s.Ref=Mt(en(n.slice(o,l))),t.Names.push(s);break;case"<definedName/>":break;case"<calcPr":delete u[0],t.CalcPr=u;break;case"<calcPr/>":delete u[0],t.CalcPr=u;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":r=!0;break;case"</AlternateContent>":r=!1;break;case"<revisionPtr":break;default:if(!r&&e.WTF)throw new Error("unrecognized "+u[0]+" in workbook")}return c}),SJ.indexOf(t.xmlns)===-1)throw new Error("Unknown Namespace: "+t.xmlns);return jL(t),t}function doe(n,e){var t={};return t.Hidden=n.read_shift(4),t.iTabID=n.read_shift(4),t.strRelID=pI(n,e-8),t.name=Fr(n),t}function foe(n,e){var t={},r=n.read_shift(4);t.defaultThemeVersion=n.read_shift(4);var i=e>8?Fr(n):"";return i.length>0&&(t.CodeName=i),t.autoCompressPictures=!!(r&65536),t.backupFile=!!(r&64),t.checkCompatibility=!!(r&4096),t.date1904=!!(r&1),t.filterPrivacy=!!(r&8),t.hidePivotFieldList=!!(r&1024),t.promptedSolutions=!!(r&16),t.publishItems=!!(r&2048),t.refreshAllConnections=!!(r&262144),t.saveExternalLinkValues=!!(r&128),t.showBorderUnselectedTables=!!(r&4),t.showInkAnnotation=!!(r&32),t.showObjects=["all","placeholders","none"][r>>13&3],t.showPivotChartFilter=!!(r&32768),t.updateLinks=["userSet","never","always"][r>>8&3],t}function hoe(n,e){var t={};return n.read_shift(4),t.ArchID=n.read_shift(4),n.l+=e-8,t}function poe(n,e,t){var r=n.l+e;n.l+=4,n.l+=1;var i=n.read_shift(4),s=qJ(n),o=Qie(n,0,t),a=UI(n);n.l=r;var c={Name:s,Ptg:o};return i<268435455&&(c.Sheet=i),a&&(c.Comment=a),c}function moe(n,e){var t={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},r=[],i=!1;e||(e={}),e.biff=12;var s=[],o=[[]];return o.SheetNames=[],o.XTI=[],H_[16]={n:"BrtFRTArchID$",f:hoe},Lo(n,function(c,l,u){switch(u){case 156:o.SheetNames.push(c.name),t.Sheets.push(c);break;case 153:t.WBProps=c;break;case 39:c.Sheet!=null&&(e.SID=c.Sheet),c.Ref=Rr(c.Ptg,null,null,o,e),delete e.SID,delete c.Ptg,s.push(c);break;case 1036:break;case 357:case 358:case 355:case 667:o[0].length?o.push([u,c]):o[0]=[u,c],o[o.length-1].XTI=[];break;case 362:o.length===0&&(o[0]=[],o[0].XTI=[]),o[o.length-1].XTI=o[o.length-1].XTI.concat(c),o.XTI=o.XTI.concat(c);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:r.push(u),i=!0;break;case 36:r.pop(),i=!1;break;case 37:r.push(u),i=!0;break;case 38:r.pop(),i=!1;break;case 16:break;default:if(!l.T){if(!i||e.WTF&&r[r.length-1]!=37&&r[r.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}},e),jL(t),t.Names=s,t.supbooks=o,t}function goe(n,e,t){return e.slice(-4)===".bin"?moe(n,t):uoe(n,t)}function _oe(n,e,t,r,i,s,o,a){return e.slice(-4)===".bin"?Zse(n,r,t,i,s,o,a):dse(n,r,t,i,s,o,a)}function voe(n,e,t,r,i,s,o,a){return e.slice(-4)===".bin"?roe(n,r,t,i,s,o,a):toe(n,r,t,i,s,o,a)}function yoe(n,e,t,r,i,s,o,a){return e.slice(-4)===".bin"?Sre(n,r,t,i,s,o,a):Dre(n,r,t,i,s,o,a)}function xoe(n,e,t,r,i,s,o,a){return e.slice(-4)===".bin"?Ire(n,r,t,i,s,o,a):Tre(n,r,t,i,s,o,a)}function Eoe(n,e,t,r){return e.slice(-4)===".bin"?$ne(n,t,r):Fne(n,t,r)}function woe(n,e,t){return SL(n,t)}function Coe(n,e,t){return e.slice(-4)===".bin"?ine(n,t):nne(n,t)}function boe(n,e,t){return e.slice(-4)===".bin"?wre(n,t):_re(n,t)}function Ioe(n,e,t){return e.slice(-4)===".bin"?pre(n,e,t):fre(n,e,t)}function Toe(n,e,t,r){return t.slice(-4)===".bin"?mre(n,e,t,r):void 0}function Soe(n,e,t){return e.slice(-4)===".bin"?ure(n,e,t):dre(n,e,t)}var $L=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,HL=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function ls(n,e){var t=n.split(/\s+/),r=[];if(e||(r[0]=t[0]),t.length===1)return r;var i=n.match($L),s,o,a,c;if(i)for(c=0;c!=i.length;++c)s=i[c].match(HL),(o=s[1].indexOf(":"))===-1?r[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?a="xmlns"+s[1].slice(6):a=s[1].slice(o+1),r[a]=s[2].slice(1,s[2].length-1));return r}function Doe(n){var e=n.split(/\s+/),t={};if(e.length===1)return t;var r=n.match($L),i,s,o,a;if(r)for(a=0;a!=r.length;++a)i=r[a].match(HL),(s=i[1].indexOf(":"))===-1?t[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?o="xmlns"+i[1].slice(6):o=i[1].slice(s+1),t[o]=i[2].slice(1,i[2].length-1));return t}var Sh;function koe(n,e){var t=Sh[n]||Mt(n);return t==="General"?jc(e):Gi(t,e)}function Aoe(n,e,t,r){var i=r;switch((t[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":i=hn(r);break;case"i2":case"int":i=parseInt(r,10);break;case"r4":case"float":i=parseFloat(r);break;case"date":case"dateTime.tz":i=rr(r);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+t[0])}n[Mt(e)]=i}function Moe(n,e,t){if(n.t!=="z"){if(!t||t.cellText!==!1)try{n.t==="e"?n.w=n.w||Kc[n.v]:e==="General"?n.t==="n"?(n.v|0)===n.v?n.w=n.v.toString(10):n.w=Dh(n.v):n.w=jc(n.v):n.w=koe(e||"General",n.v)}catch(s){if(t.WTF)throw s}try{var r=Sh[e]||e||"General";if(t.cellNF&&(n.z=r),t.cellDates&&n.t=="n"&&ed(r)){var i=Vc(n.v);i&&(n.t="d",n.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}catch(s){if(t.WTF)throw s}}}function Roe(n,e,t){if(t.cellStyles&&e.Interior){var r=e.Interior;r.Pattern&&(r.patternType=Ane[r.Pattern]||r.Pattern)}n[e.ID]=e}function Poe(n,e,t,r,i,s,o,a,c,l){var u="General",f=r.StyleID,h={};l=l||{};var p=[],y=0;for(f===void 0&&a&&(f=a.StyleID),f===void 0&&o&&(f=o.StyleID);s[f]!==void 0&&(s[f].nf&&(u=s[f].nf),s[f].Interior&&p.push(s[f].Interior),!!s[f].Parent);)f=s[f].Parent;switch(t.Type){case"Boolean":r.t="b",r.v=hn(n);break;case"String":r.t="s",r.r=OF(Mt(n)),r.v=n.indexOf("<")>-1?Mt(e||n).replace(/<.*?>/g,""):r.r;break;case"DateTime":n.slice(-1)!="Z"&&(n+="Z"),r.v=(rr(n)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),r.v!==r.v?r.v=Mt(n):r.v<60&&(r.v=r.v-1),(!u||u=="General")&&(u="yyyy-mm-dd");case"Number":r.v===void 0&&(r.v=+n),r.t||(r.t="n");break;case"Error":r.t="e",r.v=sL[n],l.cellText!==!1&&(r.w=n);break;default:n==""&&e==""?r.t="z":(r.t="s",r.v=OF(e||n));break}if(Moe(r,u,l),l.cellFormula!==!1)if(r.Formula){var v=Mt(r.Formula);v.charCodeAt(0)==61&&(v=v.slice(1)),r.f=Xu(v,i),delete r.Formula,r.ArrayRange=="RC"?r.F=Xu("RC:RC",i):r.ArrayRange&&(r.F=Xu(r.ArrayRange,i),c.push([Cn(r.F),r.F]))}else for(y=0;y<c.length;++y)i.r>=c[y][0].s.r&&i.r<=c[y][0].e.r&&i.c>=c[y][0].s.c&&i.c<=c[y][0].e.c&&(r.F=c[y][1]);l.cellStyles&&(p.forEach(function(w){!h.patternType&&w.patternType&&(h.patternType=w.patternType)}),r.s=h),r.StyleID!==void 0&&(r.ixfe=r.StyleID)}function Ooe(n){n.t=n.v||"",n.t=n.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),n.v=n.w=n.ixfe=void 0}function lI(n,e){var t=e||{};N4();var r=mh(MI(n));(t.type=="binary"||t.type=="array"||t.type=="base64")&&(typeof Ut<"u"?r=Ut.utils.decode(65001,fI(r)):r=en(r));var i=r.slice(0,1024).toLowerCase(),s=!1;if(i=i.replace(/".*?"/g,""),(i.indexOf(">")&1023)>Math.min(i.indexOf(",")&1023,i.indexOf(";")&1023)){var o=mr(t);return o.type="string",Mh.to_workbook(r,o)}if(i.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(pn){i.indexOf("<"+pn)>=0&&(s=!0)}),s)return Hoe(r,t);Sh={"General Number":"General","General Date":st[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":st[15],"Short Date":st[14],"Long Time":st[19],"Medium Time":st[18],"Short Time":st[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:st[2],Standard:st[4],Percent:st[10],Scientific:st[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var a,c=[],l;Un!=null&&t.dense==null&&(t.dense=Un);var u={},f=[],h=t.dense?[]:{},p="",y={},v={},w=ls('<Data ss:Type="String">'),F=0,V=0,k=0,X={s:{r:2e6,c:2e6},e:{r:0,c:0}},se={},G={},b="",I=0,T=[],R={},P={},A=0,N=[],Oe=[],Ce={},$e=[],Ne,ft=!1,ke=[],Be=[],fe={},z=0,J=0,Y={Sheets:[],WBProps:{date1904:!1}},K={};Ah.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/mg,"");for(var he="";a=Ah.exec(r);)switch(a[3]=(he=a[3]).toLowerCase()){case"data":if(he=="data"){if(a[1]==="/"){if((l=c.pop())[0]!==a[3])throw new Error("Bad state: "+l.join("|"))}else a[0].charAt(a[0].length-2)!=="/"&&c.push([a[3],!0]);break}if(c[c.length-1][1])break;a[1]==="/"?Poe(r.slice(F,a.index),b,w,c[c.length-1][0]=="comment"?Ce:y,{c:V,r:k},se,$e[V],v,ke,t):(b="",w=ls(a[0]),F=a.index+a[0].length);break;case"cell":if(a[1]==="/")if(Oe.length>0&&(y.c=Oe),(!t.sheetRows||t.sheetRows>k)&&y.v!==void 0&&(t.dense?(h[k]||(h[k]=[]),h[k][V]=y):h[qn(V)+gr(k)]=y),y.HRef&&(y.l={Target:Mt(y.HRef)},y.HRefScreenTip&&(y.l.Tooltip=y.HRefScreenTip),delete y.HRef,delete y.HRefScreenTip),(y.MergeAcross||y.MergeDown)&&(z=V+(parseInt(y.MergeAcross,10)|0),J=k+(parseInt(y.MergeDown,10)|0),T.push({s:{c:V,r:k},e:{c:z,r:J}})),!t.sheetStubs)y.MergeAcross?V=z+1:++V;else if(y.MergeAcross||y.MergeDown){for(var Me=V;Me<=z;++Me)for(var Se=k;Se<=J;++Se)(Me>V||Se>k)&&(t.dense?(h[Se]||(h[Se]=[]),h[Se][Me]={t:"z"}):h[qn(Me)+gr(Se)]={t:"z"});V=z+1}else++V;else y=Doe(a[0]),y.Index&&(V=+y.Index-1),V<X.s.c&&(X.s.c=V),V>X.e.c&&(X.e.c=V),a[0].slice(-2)==="/>"&&++V,Oe=[];break;case"row":a[1]==="/"||a[0].slice(-2)==="/>"?(k<X.s.r&&(X.s.r=k),k>X.e.r&&(X.e.r=k),a[0].slice(-2)==="/>"&&(v=ls(a[0]),v.Index&&(k=+v.Index-1)),V=0,++k):(v=ls(a[0]),v.Index&&(k=+v.Index-1),fe={},(v.AutoFitHeight=="0"||v.Height)&&(fe.hpx=parseInt(v.Height,10),fe.hpt=TL(fe.hpx),Be[k]=fe),v.Hidden=="1"&&(fe.hidden=!0,Be[k]=fe));break;case"worksheet":if(a[1]==="/"){if((l=c.pop())[0]!==a[3])throw new Error("Bad state: "+l.join("|"));f.push(p),X.s.r<=X.e.r&&X.s.c<=X.e.c&&(h["!ref"]=kt(X),t.sheetRows&&t.sheetRows<=X.e.r&&(h["!fullref"]=h["!ref"],X.e.r=t.sheetRows-1,h["!ref"]=kt(X))),T.length&&(h["!merges"]=T),$e.length>0&&(h["!cols"]=$e),Be.length>0&&(h["!rows"]=Be),u[p]=h}else X={s:{r:2e6,c:2e6},e:{r:0,c:0}},k=V=0,c.push([a[3],!1]),l=ls(a[0]),p=Mt(l.Name),h=t.dense?[]:{},T=[],ke=[],Be=[],K={name:p,Hidden:0},Y.Sheets.push(K);break;case"table":if(a[1]==="/"){if((l=c.pop())[0]!==a[3])throw new Error("Bad state: "+l.join("|"))}else{if(a[0].slice(-2)=="/>")break;c.push([a[3],!1]),$e=[],ft=!1}break;case"style":a[1]==="/"?Roe(se,G,t):G=ls(a[0]);break;case"numberformat":G.nf=Mt(ls(a[0]).Format||"General"),Sh[G.nf]&&(G.nf=Sh[G.nf]);for(var Re=0;Re!=392&&st[Re]!=G.nf;++Re);if(Re==392){for(Re=57;Re!=392;++Re)if(st[Re]==null){Bc(G.nf,Re);break}}break;case"column":if(c[c.length-1][0]!=="table")break;if(Ne=ls(a[0]),Ne.Hidden&&(Ne.hidden=!0,delete Ne.Hidden),Ne.Width&&(Ne.wpx=parseInt(Ne.Width,10)),!ft&&Ne.wpx>10){ft=!0,Xr=bL;for(var _e=0;_e<$e.length;++_e)$e[_e]&&Ju($e[_e])}ft&&Ju(Ne),$e[Ne.Index-1||$e.length]=Ne;for(var ht=0;ht<+Ne.Span;++ht)$e[$e.length]=mr(Ne);break;case"namedrange":if(a[1]==="/")break;Y.Names||(Y.Names=[]);var q=Qe(a[0]),qt={Name:q.Name,Ref:Xu(q.RefersTo.slice(1),{r:0,c:0})};Y.Sheets.length>0&&(qt.Sheet=Y.Sheets.length-1),Y.Names.push(qt);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(a[0].slice(-2)==="/>")break;a[1]==="/"?b+=r.slice(I,a.index):I=a.index+a[0].length;break;case"interior":if(!t.cellStyles)break;G.Interior=ls(a[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(a[0].slice(-2)==="/>")break;a[1]==="/"?_ee(R,he,r.slice(A,a.index)):A=a.index+a[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(a[1]==="/"){if((l=c.pop())[0]!==a[3])throw new Error("Bad state: "+l.join("|"))}else c.push([a[3],!1]);break;case"comment":if(a[1]==="/"){if((l=c.pop())[0]!==a[3])throw new Error("Bad state: "+l.join("|"));Ooe(Ce),Oe.push(Ce)}else c.push([a[3],!1]),l=ls(a[0]),Ce={a:l.Author};break;case"autofilter":if(a[1]==="/"){if((l=c.pop())[0]!==a[3])throw new Error("Bad state: "+l.join("|"))}else if(a[0].charAt(a[0].length-2)!=="/"){var vt=ls(a[0]);h["!autofilter"]={ref:Xu(vt.Range).replace(/\$/g,"")},c.push([a[3],!0])}break;case"name":break;case"datavalidation":if(a[1]==="/"){if((l=c.pop())[0]!==a[3])throw new Error("Bad state: "+l.join("|"))}else a[0].charAt(a[0].length-2)!=="/"&&c.push([a[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(a[1]==="/"){if((l=c.pop())[0]!==a[3])throw new Error("Bad state: "+l.join("|"))}else a[0].charAt(a[0].length-2)!=="/"&&c.push([a[3],!0]);break;case"null":break;default:if(c.length==0&&a[3]=="document"||c.length==0&&a[3]=="uof")return v4(r,t);var Pt=!0;switch(c[c.length-1][0]){case"officedocumentsettings":switch(a[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:Pt=!1}break;case"componentoptions":switch(a[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:Pt=!1}break;case"excelworkbook":switch(a[3]){case"date1904":Y.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:Pt=!1}break;case"workbookoptions":switch(a[3]){case"owcversion":break;case"height":break;case"width":break;default:Pt=!1}break;case"worksheetoptions":switch(a[3]){case"visible":if(a[0].slice(-2)!=="/>")if(a[1]==="/")switch(r.slice(A,a.index)){case"SheetHidden":K.Hidden=1;break;case"SheetVeryHidden":K.Hidden=2;break}else A=a.index+a[0].length;break;case"header":h["!margins"]||Th(h["!margins"]={},"xlml"),isNaN(+Qe(a[0]).Margin)||(h["!margins"].header=+Qe(a[0]).Margin);break;case"footer":h["!margins"]||Th(h["!margins"]={},"xlml"),isNaN(+Qe(a[0]).Margin)||(h["!margins"].footer=+Qe(a[0]).Margin);break;case"pagemargins":var ct=Qe(a[0]);h["!margins"]||Th(h["!margins"]={},"xlml"),isNaN(+ct.Top)||(h["!margins"].top=+ct.Top),isNaN(+ct.Left)||(h["!margins"].left=+ct.Left),isNaN(+ct.Right)||(h["!margins"].right=+ct.Right),isNaN(+ct.Bottom)||(h["!margins"].bottom=+ct.Bottom);break;case"displayrighttoleft":Y.Views||(Y.Views=[]),Y.Views[0]||(Y.Views[0]={}),Y.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:Pt=!1}break;case"pivottable":case"pivotcache":switch(a[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:Pt=!1}break;case"pagebreaks":switch(a[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:Pt=!1}break;case"autofilter":switch(a[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:Pt=!1}break;case"querytable":switch(a[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:Pt=!1}break;case"datavalidation":switch(a[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:Pt=!1}break;case"sorting":case"conditionalformatting":switch(a[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:Pt=!1}break;case"mapinfo":case"schema":case"data":switch(a[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:Pt=!1}break;case"smarttags":break;default:Pt=!1;break}if(Pt||a[3].match(/!\[CDATA/))break;if(!c[c.length-1][1])throw"Unrecognized tag: "+a[3]+"|"+c.join("|");if(c[c.length-1][0]==="customdocumentproperties"){if(a[0].slice(-2)==="/>")break;a[1]==="/"?Aoe(P,he,N,r.slice(A,a.index)):(N=a,A=a.index+a[0].length);break}if(t.WTF)throw"Unrecognized tag: "+a[3]+"|"+c.join("|")}var Ae={};return!t.bookSheets&&!t.bookProps&&(Ae.Sheets=u),Ae.SheetNames=f,Ae.Workbook=Y,Ae.SSF=mr(st),Ae.Props=R,Ae.Custprops=P,Ae}function vI(n,e){switch(YI(e=e||{}),e.type||"base64"){case"base64":return lI(Di(n),e);case"binary":case"buffer":case"file":return lI(n,e);case"array":return lI(Wc(n),e)}}function Noe(n){var e={},t=n.content;if(t.l=28,e.AnsiUserType=t.read_shift(0,"lpstr-ansi"),e.AnsiClipboardFormat=XJ(t),t.length-t.l<=4)return e;var r=t.read_shift(4);if(r==0||r>40||(t.l-=4,e.Reserved1=t.read_shift(0,"lpstr-ansi"),t.length-t.l<=4)||(r=t.read_shift(4),r!==1907505652)||(e.UnicodeClipboardFormat=YJ(t),r=t.read_shift(4),r==0||r>40))return e;t.l-=4,e.Reserved2=t.read_shift(0,"lpwstr")}var Foe=[60,1084,2066,2165,2175];function Loe(n,e,t,r,i){var s=r,o=[],a=t.slice(t.l,t.l+s);if(i&&i.enc&&i.enc.insitu&&a.length>0)switch(n){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:i.enc.insitu(a)}o.push(a),t.l+=s;for(var c=Po(t,t.l),l=yI[c],u=0;l!=null&&Foe.indexOf(c)>-1;)s=Po(t,t.l+2),u=t.l+4,c==2066?u+=4:(c==2165||c==2175)&&(u+=12),a=t.slice(u,t.l+4+s),o.push(a),t.l+=4+s,l=yI[c=Po(t,t.l)];var f=Ma(o);pr(f,0);var h=0;f.lens=[];for(var p=0;p<o.length;++p)f.lens.push(h),h+=o[p].length;if(f.length<r)throw"XLS Record 0x"+n.toString(16)+" Truncated: "+f.length+" < "+r;return e.f(f,f.length,i)}function js(n,e,t){if(n.t!=="z"&&n.XF){var r=0;try{r=n.z||n.XF.numFmtId||0,e.cellNF&&(n.z=st[r])}catch(s){if(e.WTF)throw s}if(!e||e.cellText!==!1)try{n.t==="e"?n.w=n.w||Kc[n.v]:r===0||r=="General"?n.t==="n"?(n.v|0)===n.v?n.w=n.v.toString(10):n.w=Dh(n.v):n.w=jc(n.v):n.w=Gi(r,n.v,{date1904:!!t,dateNF:e&&e.dateNF})}catch(s){if(e.WTF)throw s}if(e.cellDates&&r&&n.t=="n"&&ed(st[r]||String(r))){var i=Vc(n.v);i&&(n.t="d",n.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}}function R_(n,e,t){return{v:n,ixfe:e,t}}function Voe(n,e){var t={opts:{}},r={};Un!=null&&e.dense==null&&(e.dense=Un);var i=e.dense?[]:{},s={},o={},a=null,c=[],l="",u={},f,h="",p,y,v,w,F={},V=[],k,X,se=[],G=[],b={Sheets:[],WBProps:{date1904:!1},Views:[{}]},I={},T=function(ot){return ot<8?Uc[ot]:ot<64&&G[ot-8]||Uc[ot]},R=function(ot,ln,Zr){var tn=ln.XF.data;if(!(!tn||!tn.patternType||!Zr||!Zr.cellStyles)){ln.s={},ln.s.patternType=tn.patternType;var gs;(gs=Rh(T(tn.icvFore)))&&(ln.s.fgColor={rgb:gs}),(gs=Rh(T(tn.icvBack)))&&(ln.s.bgColor={rgb:gs})}},P=function(ot,ln,Zr){if(!(fe>1)&&!(Zr.sheetRows&&ot.r>=Zr.sheetRows)){if(Zr.cellStyles&&ln.XF&&ln.XF.data&&R(ot,ln,Zr),delete ln.ixfe,delete ln.XF,f=ot,h=nt(ot),(!o||!o.s||!o.e)&&(o={s:{r:0,c:0},e:{r:0,c:0}}),ot.r<o.s.r&&(o.s.r=ot.r),ot.c<o.s.c&&(o.s.c=ot.c),ot.r+1>o.e.r&&(o.e.r=ot.r+1),ot.c+1>o.e.c&&(o.e.c=ot.c+1),Zr.cellFormula&&ln.f){for(var tn=0;tn<V.length;++tn)if(!(V[tn][0].s.c>ot.c||V[tn][0].s.r>ot.r)&&!(V[tn][0].e.c<ot.c||V[tn][0].e.r<ot.r)){ln.F=kt(V[tn][0]),(V[tn][0].s.c!=ot.c||V[tn][0].s.r!=ot.r)&&delete ln.f,ln.f&&(ln.f=""+Rr(V[tn][1],o,ot,ke,A));break}}Zr.dense?(i[ot.r]||(i[ot.r]=[]),i[ot.r][ot.c]=ln):i[h]=ln}},A={enc:!1,sbcch:0,snames:[],sharedf:F,arrayf:V,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!e&&!!e.cellStyles,WTF:!!e&&!!e.wtf};e.password&&(A.password=e.password);var N,Oe=[],Ce=[],$e=[],Ne=[],ft=!1,ke=[];ke.SheetNames=A.snames,ke.sharedf=A.sharedf,ke.arrayf=A.arrayf,ke.names=[],ke.XTI=[];var Be=0,fe=0,z=0,J=[],Y=[],K;A.codepage=1200,fs(1200);for(var he=!1;n.l<n.length-1;){var Me=n.l,Se=n.read_shift(2);if(Se===0&&Be===10)break;var Re=n.l===n.length?0:n.read_shift(2),_e=yI[Se];if(_e&&_e.f){if(e.bookSheets&&Be===133&&Se!==133)break;if(Be=Se,_e.r===2||_e.r==12){var ht=n.read_shift(2);if(Re-=2,!A.enc&&ht!==Se&&((ht&255)<<8|ht>>8)!==Se)throw new Error("rt mismatch: "+ht+"!="+Se);_e.r==12&&(n.l+=10,Re-=10)}var q={};if(Se===10?q=_e.f(n,Re,A):q=Loe(Se,_e,n,Re,A),fe==0&&[9,521,1033,2057].indexOf(Be)===-1)continue;switch(Se){case 34:t.opts.Date1904=b.WBProps.date1904=q;break;case 134:t.opts.WriteProtect=!0;break;case 47:if(A.enc||(n.l=0),A.enc=q,!e.password)throw new Error("File is password-protected");if(q.valid==null)throw new Error("Encryption scheme unsupported");if(!q.valid)throw new Error("Password is incorrect");break;case 92:A.lastuser=q;break;case 66:var qt=Number(q);switch(qt){case 21010:qt=1200;break;case 32768:qt=1e4;break;case 32769:qt=1252;break}fs(A.codepage=qt),he=!0;break;case 317:A.rrtabid=q;break;case 25:A.winlocked=q;break;case 439:t.opts.RefreshAll=q;break;case 12:t.opts.CalcCount=q;break;case 16:t.opts.CalcDelta=q;break;case 17:t.opts.CalcIter=q;break;case 13:t.opts.CalcMode=q;break;case 14:t.opts.CalcPrecision=q;break;case 95:t.opts.CalcSaveRecalc=q;break;case 15:A.CalcRefMode=q;break;case 2211:t.opts.FullCalc=q;break;case 129:q.fDialog&&(i["!type"]="dialog"),q.fBelow||((i["!outline"]||(i["!outline"]={})).above=!0),q.fRight||((i["!outline"]||(i["!outline"]={})).left=!0);break;case 224:se.push(q);break;case 430:ke.push([q]),ke[ke.length-1].XTI=[];break;case 35:case 547:ke[ke.length-1].push(q);break;case 24:case 536:K={Name:q.Name,Ref:Rr(q.rgce,o,null,ke,A)},q.itab>0&&(K.Sheet=q.itab-1),ke.names.push(K),ke[0]||(ke[0]=[],ke[0].XTI=[]),ke[ke.length-1].push(q),q.Name=="_xlnm._FilterDatabase"&&q.itab>0&&q.rgce&&q.rgce[0]&&q.rgce[0][0]&&q.rgce[0][0][0]=="PtgArea3d"&&(Y[q.itab-1]={ref:kt(q.rgce[0][0][1][2])});break;case 22:A.ExternCount=q;break;case 23:ke.length==0&&(ke[0]=[],ke[0].XTI=[]),ke[ke.length-1].XTI=ke[ke.length-1].XTI.concat(q),ke.XTI=ke.XTI.concat(q);break;case 2196:if(A.biff<8)break;K!=null&&(K.Comment=q[1]);break;case 18:i["!protect"]=q;break;case 19:q!==0&&A.WTF&&console.error("Password verifier: "+q);break;case 133:s[q.pos]=q,A.snames.push(q.name);break;case 10:{if(--fe)break;if(o.e){if(o.e.r>0&&o.e.c>0){if(o.e.r--,o.e.c--,i["!ref"]=kt(o),e.sheetRows&&e.sheetRows<=o.e.r){var vt=o.e.r;o.e.r=e.sheetRows-1,i["!fullref"]=i["!ref"],i["!ref"]=kt(o),o.e.r=vt}o.e.r++,o.e.c++}Oe.length>0&&(i["!merges"]=Oe),Ce.length>0&&(i["!objects"]=Ce),$e.length>0&&(i["!cols"]=$e),Ne.length>0&&(i["!rows"]=Ne),b.Sheets.push(I)}l===""?u=i:r[l]=i,i=e.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(A.biff===8&&(A.biff={9:2,521:3,1033:4}[Se]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[q.BIFFVer]||8),A.biffguess=q.BIFFVer==0,q.BIFFVer==0&&q.dt==4096&&(A.biff=5,he=!0,fs(A.codepage=28591)),A.biff==8&&q.BIFFVer==0&&q.dt==16&&(A.biff=2),fe++)break;if(i=e.dense?[]:{},A.biff<8&&!he&&(he=!0,fs(A.codepage=e.codepage||1252)),A.biff<5||q.BIFFVer==0&&q.dt==4096){l===""&&(l="Sheet1"),o={s:{r:0,c:0},e:{r:0,c:0}};var Pt={pos:n.l-Re,name:l};s[Pt.pos]=Pt,A.snames.push(l)}else l=(s[Me]||{name:""}).name;q.dt==32&&(i["!type"]="chart"),q.dt==64&&(i["!type"]="macro"),Oe=[],Ce=[],A.arrayf=V=[],$e=[],Ne=[],ft=!1,I={Hidden:(s[Me]||{hs:0}).hs,name:l}}break;case 515:case 3:case 2:i["!type"]=="chart"&&(e.dense?(i[q.r]||[])[q.c]:i[nt({c:q.c,r:q.r})])&&++q.c,k={ixfe:q.ixfe,XF:se[q.ixfe]||{},v:q.val,t:"n"},z>0&&(k.z=J[k.ixfe>>8&63]),js(k,e,t.opts.Date1904),P({c:q.c,r:q.r},k,e);break;case 5:case 517:k={ixfe:q.ixfe,XF:se[q.ixfe],v:q.val,t:q.t},z>0&&(k.z=J[k.ixfe>>8&63]),js(k,e,t.opts.Date1904),P({c:q.c,r:q.r},k,e);break;case 638:k={ixfe:q.ixfe,XF:se[q.ixfe],v:q.rknum,t:"n"},z>0&&(k.z=J[k.ixfe>>8&63]),js(k,e,t.opts.Date1904),P({c:q.c,r:q.r},k,e);break;case 189:for(var ct=q.c;ct<=q.C;++ct){var Ae=q.rkrec[ct-q.c][0];k={ixfe:Ae,XF:se[Ae],v:q.rkrec[ct-q.c][1],t:"n"},z>0&&(k.z=J[k.ixfe>>8&63]),js(k,e,t.opts.Date1904),P({c:ct,r:q.r},k,e)}break;case 6:case 518:case 1030:{if(q.val=="String"){a=q;break}if(k=R_(q.val,q.cell.ixfe,q.tt),k.XF=se[k.ixfe],e.cellFormula){var pn=q.formula;if(pn&&pn[0]&&pn[0][0]&&pn[0][0][0]=="PtgExp"){var Br=pn[0][0][1][0],ui=pn[0][0][1][1],di=nt({r:Br,c:ui});F[di]?k.f=""+Rr(q.formula,o,q.cell,ke,A):k.F=((e.dense?(i[Br]||[])[ui]:i[di])||{}).F}else k.f=""+Rr(q.formula,o,q.cell,ke,A)}z>0&&(k.z=J[k.ixfe>>8&63]),js(k,e,t.opts.Date1904),P(q.cell,k,e),a=q}break;case 7:case 519:if(a)a.val=q,k=R_(q,a.cell.ixfe,"s"),k.XF=se[k.ixfe],e.cellFormula&&(k.f=""+Rr(a.formula,o,a.cell,ke,A)),z>0&&(k.z=J[k.ixfe>>8&63]),js(k,e,t.opts.Date1904),P(a.cell,k,e),a=null;else throw new Error("String record expects Formula");break;case 33:case 545:{V.push(q);var Vo=nt(q[0].s);if(p=e.dense?(i[q[0].s.r]||[])[q[0].s.c]:i[Vo],e.cellFormula&&p){if(!a||!Vo||!p)break;p.f=""+Rr(q[1],o,q[0],ke,A),p.F=kt(q[0])}}break;case 1212:{if(!e.cellFormula)break;if(h){if(!a)break;F[nt(a.cell)]=q[0],p=e.dense?(i[a.cell.r]||[])[a.cell.c]:i[nt(a.cell)],(p||{}).f=""+Rr(q[0],o,f,ke,A)}}break;case 253:k=R_(c[q.isst].t,q.ixfe,"s"),c[q.isst].h&&(k.h=c[q.isst].h),k.XF=se[k.ixfe],z>0&&(k.z=J[k.ixfe>>8&63]),js(k,e,t.opts.Date1904),P({c:q.c,r:q.r},k,e);break;case 513:e.sheetStubs&&(k={ixfe:q.ixfe,XF:se[q.ixfe],t:"z"},z>0&&(k.z=J[k.ixfe>>8&63]),js(k,e,t.opts.Date1904),P({c:q.c,r:q.r},k,e));break;case 190:if(e.sheetStubs)for(var ms=q.c;ms<=q.C;++ms){var ir=q.ixfe[ms-q.c];k={ixfe:ir,XF:se[ir],t:"z"},z>0&&(k.z=J[k.ixfe>>8&63]),js(k,e,t.opts.Date1904),P({c:ms,r:q.r},k,e)}break;case 214:case 516:case 4:k=R_(q.val,q.ixfe,"s"),k.XF=se[k.ixfe],z>0&&(k.z=J[k.ixfe>>8&63]),js(k,e,t.opts.Date1904),P({c:q.c,r:q.r},k,e);break;case 0:case 512:fe===1&&(o=q);break;case 252:c=q;break;case 1054:if(A.biff==4){J[z++]=q[1];for(var fi=0;fi<z+163&&st[fi]!=q[1];++fi);fi>=163&&Bc(q[1],z+163)}else Bc(q[1],q[0]);break;case 30:{J[z++]=q;for(var ki=0;ki<z+163&&st[ki]!=q;++ki);ki>=163&&Bc(q,z+163)}break;case 229:Oe=Oe.concat(q);break;case 93:Ce[q.cmo[0]]=A.lastobj=q;break;case 438:A.lastobj.TxO=q;break;case 127:A.lastobj.ImData=q;break;case 440:for(w=q[0].s.r;w<=q[0].e.r;++w)for(v=q[0].s.c;v<=q[0].e.c;++v)p=e.dense?(i[w]||[])[v]:i[nt({c:v,r:w})],p&&(p.l=q[1]);break;case 2048:for(w=q[0].s.r;w<=q[0].e.r;++w)for(v=q[0].s.c;v<=q[0].e.c;++v)p=e.dense?(i[w]||[])[v]:i[nt({c:v,r:w})],p&&p.l&&(p.l.Tooltip=q[1]);break;case 28:{if(A.biff<=5&&A.biff>=2)break;p=e.dense?(i[q[0].r]||[])[q[0].c]:i[nt(q[0])];var vn=Ce[q[2]];p||(e.dense?(i[q[0].r]||(i[q[0].r]=[]),p=i[q[0].r][q[0].c]={t:"z"}):p=i[nt(q[0])]={t:"z"},o.e.r=Math.max(o.e.r,q[0].r),o.s.r=Math.min(o.s.r,q[0].r),o.e.c=Math.max(o.e.c,q[0].c),o.s.c=Math.min(o.s.c,q[0].c)),p.c||(p.c=[]),y={a:q[1],t:vn.TxO.t},p.c.push(y)}break;case 2173:ore(se[q.ixfe],q.ext);break;case 125:{if(!A.cellStyles)break;for(;q.e>=q.s;)$e[q.e--]={width:q.w/256,level:q.level||0,hidden:!!(q.flags&1)},ft||(ft=!0,WI(q.w/256)),Ju($e[q.e+1])}break;case 520:{var Ot={};q.level!=null&&(Ne[q.r]=Ot,Ot.level=q.level),q.hidden&&(Ne[q.r]=Ot,Ot.hidden=!0),q.hpt&&(Ne[q.r]=Ot,Ot.hpt=q.hpt,Ot.hpx=Ph(q.hpt))}break;case 38:case 39:case 40:case 41:i["!margins"]||Th(i["!margins"]={}),i["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[Se]]=q;break;case 161:i["!margins"]||Th(i["!margins"]={}),i["!margins"].header=q.header,i["!margins"].footer=q.footer;break;case 574:q.RTL&&(b.Views[0].RTL=!0);break;case 146:G=q;break;case 2198:N=q;break;case 140:X=q;break;case 442:l?I.CodeName=q||I.name:b.WBProps.CodeName=q||"ThisWorkbook";break}}else _e||console.error("Missing Info for XLS Record 0x"+Se.toString(16)),n.l+=Re}return t.SheetNames=zs(s).sort(function(Ur,ot){return Number(Ur)-Number(ot)}).map(function(Ur){return s[Ur].name}),e.bookSheets||(t.Sheets=r),!t.SheetNames.length&&u["!ref"]?(t.SheetNames.push("Sheet1"),t.Sheets&&(t.Sheets.Sheet1=u)):t.Preamble=u,t.Sheets&&Y.forEach(function(Ur,ot){t.Sheets[t.SheetNames[ot]]["!autofilter"]=Ur}),t.Strings=c,t.SSF=mr(st),A.enc&&(t.Encryption=A.enc),N&&(t.Themes=N),t.Metadata={},X!==void 0&&(t.Metadata.Country=X),ke.names.length>0&&(b.Names=ke.names),t.Workbook=b,t}var h4={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function Boe(n,e,t){var r=Dt.find(n,"/!DocumentSummaryInformation");if(r&&r.size>0)try{var i=YF(r,nee,h4.DSI);for(var s in i)e[s]=i[s]}catch(l){if(t.WTF)throw l}var o=Dt.find(n,"/!SummaryInformation");if(o&&o.size>0)try{var a=YF(o,ree,h4.SI);for(var c in a)e[c]==null&&(e[c]=a[c])}catch(l){if(t.WTF)throw l}e.HeadingPairs&&e.TitlesOfParts&&(aL(e.HeadingPairs,e.TitlesOfParts,e,t),delete e.HeadingPairs,delete e.TitlesOfParts)}function zL(n,e){e||(e={}),YI(e),C4(),e.codepage&&bI(e.codepage);var t,r;if(n.FullPaths){if(Dt.find(n,"/encryption"))throw new Error("File is password-protected");t=Dt.find(n,"!CompObj"),r=Dt.find(n,"/Workbook")||Dt.find(n,"/Book")}else{switch(e.type){case"base64":n=ds(Di(n));break;case"binary":n=ds(n);break;case"buffer":break;case"array":Array.isArray(n)||(n=Array.prototype.slice.call(n));break}pr(n,0),r={content:n}}var i,s;if(t&&Noe(t),e.bookProps&&!e.bookSheets)i={};else{var o=Ct?"buffer":"array";if(r&&r.content)i=Voe(r.content,e);else if((s=Dt.find(n,"PerfectOffice_MAIN"))&&s.content)i=bh.to_workbook(s.content,(e.type=o,e));else if((s=Dt.find(n,"NativeContent_MAIN"))&&s.content)i=bh.to_workbook(s.content,(e.type=o,e));else throw(s=Dt.find(n,"MN0"))&&s.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");e.bookVBA&&n.FullPaths&&Dt.find(n,"/_VBA_PROJECT_CUR/VBA/dir")&&(i.vbaraw=bre(n))}var a={};return n.FullPaths&&Boe(n,a,e),i.Props=i.Custprops=a,e.bookFiles&&(i.cfb=n),i}var H_={0:{f:xse},1:{f:bse},2:{f:Pse},3:{f:Dse},4:{f:Tse},5:{f:Rse},6:{f:Fse},7:{f:Ase},8:{f:jse},9:{f:Use},10:{f:Vse},11:{f:Bse},12:{f:Ise},13:{f:Ose},14:{f:kse},15:{f:Sse},16:{f:BL},17:{f:Lse},18:{f:Mse},19:{f:BI},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:poe},40:{},42:{},43:{f:Vne},44:{f:Lne},45:{f:Bne},46:{f:jne},47:{f:Une},48:{},49:{f:$J},50:{},51:{f:cre},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:yL},62:{f:Nse},63:{f:hre},64:{f:Yse},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Lr,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:Xse},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:Cse},148:{f:Ese,p:16},151:{f:zse},152:{},153:{f:foe},154:{},155:{},156:{f:doe},157:{},158:{},159:{T:1,f:rne},160:{T:-1},161:{T:1,f:Gc},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:$se},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:are},336:{T:-1},337:{f:lre,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:pI},357:{},358:{},359:{},360:{T:1},361:{},362:{f:vL},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:Wse},427:{f:qse},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:Kse},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:wse},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:Hse},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:pI},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:Ere},633:{T:1},634:{T:-1},635:{T:1,f:xre},636:{T:-1},637:{f:zJ},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:noe},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:Qse},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},yI={6:{f:aI},10:{f:Aa},12:{f:Vn},13:{f:Vn},14:{f:Tn},15:{f:Tn},16:{f:Pr},17:{f:Tn},18:{f:Tn},19:{f:Vn},20:{f:e4},21:{f:e4},23:{f:vL},24:{f:n4},25:{f:Tn},26:{},27:{},28:{f:vte},29:{},34:{f:Tn},35:{f:t4},38:{f:Pr},39:{f:Pr},40:{f:Pr},41:{f:Pr},42:{f:Tn},43:{f:Tn},47:{f:wne},49:{f:Jee},51:{f:Vn},60:{},61:{f:Yee},64:{f:Tn},65:{f:Zee},66:{f:Vn},77:{},80:{},81:{},82:{},85:{f:Vn},89:{},90:{},91:{},92:{f:$ee},93:{f:xte},94:{},95:{f:Tn},96:{},97:{},99:{f:Tn},125:{f:yL},128:{f:lte},129:{f:Hee},130:{f:Vn},131:{f:Tn},132:{f:Tn},133:{f:zee},134:{},140:{f:Tte},141:{f:Vn},144:{},146:{f:Dte},151:{},152:{},153:{},154:{},155:{},156:{f:Vn},157:{},158:{},160:{f:Pte},161:{f:Ate},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:ste},190:{f:ote},193:{f:Aa},197:{},198:{},199:{},200:{},201:{},202:{f:Tn},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:Vn},220:{},221:{f:Tn},222:{},224:{f:cte},225:{f:jee},226:{f:Aa},227:{},229:{f:yte},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:Wee},253:{f:ete},255:{f:qee},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:fL},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Tn},353:{f:Aa},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:dte},431:{f:Tn},432:{},433:{},434:{},437:{},438:{f:Cte},439:{f:Tn},440:{f:bte},441:{},442:{f:Lh},443:{},444:{f:Vn},445:{},446:{},448:{f:Aa},449:{f:Xee,r:2},450:{f:Aa},512:{f:ZF},513:{f:Rte},515:{f:ute},516:{f:tte},517:{f:JF},519:{f:Ote},520:{f:Gee},523:{},545:{f:r4},549:{f:QF},566:{},574:{f:Qee},638:{f:ite},659:{},1048:{},1054:{f:nte},1084:{},1212:{f:mte},2048:{f:Ite},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:k_},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Aa},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:kte,r:12},2173:{f:sre,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Tn,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:pte,r:12},2197:{},2198:{f:Jne,r:12},2199:{},2200:{},2201:{},2202:{f:gte,r:12},2203:{f:Aa},2204:{},2205:{},2206:{},2207:{},2211:{f:Kee},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:Vn},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:Mte},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:Ste},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:ZF},1:{},2:{f:Vte},3:{f:Lte},4:{f:Fte},5:{f:JF},7:{f:Bte},8:{},9:{f:k_},11:{},22:{f:Vn},30:{f:rte},31:{},32:{},33:{f:r4},36:{},37:{f:QF},50:{f:Ute},62:{},52:{},67:{},68:{f:Vn},69:{},86:{},126:{},127:{f:Nte},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:jte},223:{},234:{},354:{},421:{},518:{f:aI},521:{f:k_},536:{f:n4},547:{f:t4},561:{},579:{},1030:{f:aI},1033:{f:k_},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function us(n,e,t,r){var i=e;if(!isNaN(i)){var s=r||(t||[]).length||0,o=n.next(4);o.write_shift(2,i),o.write_shift(2,s),s>0&&J4(t)&&n.push(t)}}function p4(n,e){var t=e||{};Un!=null&&t.dense==null&&(t.dense=Un);var r=t.dense?[]:{};n=n.replace(/<!--.*?-->/g,"");var i=n.match(/<table/i);if(!i)throw new Error("Invalid HTML: could not find <table>");var s=n.match(/<\/table/i),o=i.index,a=s&&s.index||n.length,c=uJ(n.slice(o,a),/(:?<tr[^>]*>)/i,"<tr>"),l=-1,u=0,f=0,h=0,p={s:{r:1e7,c:1e7},e:{r:0,c:0}},y=[];for(o=0;o<c.length;++o){var v=c[o].trim(),w=v.slice(0,3).toLowerCase();if(w=="<tr"){if(++l,t.sheetRows&&t.sheetRows<=l){--l;break}u=0;continue}if(!(w!="<td"&&w!="<th")){var F=v.split(/<\/t[dh]>/i);for(a=0;a<F.length;++a){var V=F[a].trim();if(V.match(/<t[dh]/i)){for(var k=V,X=0;k.charAt(0)=="<"&&(X=k.indexOf(">"))>-1;)k=k.slice(X+1);for(var se=0;se<y.length;++se){var G=y[se];G.s.c==u&&G.s.r<l&&l<=G.e.r&&(u=G.e.c+1,se=-1)}var b=Qe(V.slice(0,V.indexOf(">")));h=b.colspan?+b.colspan:1,((f=+b.rowspan)>1||h>1)&&y.push({s:{r:l,c:u},e:{r:l+(f||1)-1,c:u+h-1}});var I=b.t||b["data-t"]||"";if(!k.length){u+=h;continue}if(k=W4(k),p.s.r>l&&(p.s.r=l),p.e.r<l&&(p.e.r=l),p.s.c>u&&(p.s.c=u),p.e.c<u&&(p.e.c=u),!k.length){u+=h;continue}var T={t:"s",v:k};t.raw||!k.trim().length||I=="s"||(k==="TRUE"?T={t:"b",v:!0}:k==="FALSE"?T={t:"b",v:!1}:isNaN(ps(k))?isNaN(Zu(k).getDate())||(T={t:"d",v:rr(k)},t.cellDates||(T={t:"n",v:Qr(T.v)}),T.z=t.dateNF||st[14]):T={t:"n",v:ps(k)}),t.dense?(r[l]||(r[l]=[]),r[l][u]=T):r[nt({r:l,c:u})]=T,u+=h}}}}return r["!ref"]=kt(p),y.length&&(r["!merges"]=y),r}function Uoe(n,e,t,r){for(var i=n["!merges"]||[],s=[],o=e.s.c;o<=e.e.c;++o){for(var a=0,c=0,l=0;l<i.length;++l)if(!(i[l].s.r>t||i[l].s.c>o)&&!(i[l].e.r<t||i[l].e.c<o)){if(i[l].s.r<t||i[l].s.c<o){a=-1;break}a=i[l].e.r-i[l].s.r+1,c=i[l].e.c-i[l].s.c+1;break}if(!(a<0)){var u=nt({r:t,c:o}),f=r.dense?(n[t]||[])[o]:n[u],h=f&&f.v!=null&&(f.h||AI(f.w||(Fo(f),f.w)||""))||"",p={};a>1&&(p.rowspan=a),c>1&&(p.colspan=c),r.editable?h='<span contenteditable="true">'+h+"</span>":f&&(p["data-t"]=f&&f.t||"z",f.v!=null&&(p["data-v"]=f.v),f.z!=null&&(p["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+f.l.Target+'">'+h+"</a>")),p.id=(r.id||"sjs")+"-"+u,s.push(IJ("td",h,p))}}var y="<tr>";return y+s.join("")+"</tr>"}var joe='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',$oe="</body></html>";function Hoe(n,e){var t=n.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!t||t.length==0)throw new Error("Invalid HTML: could not find <table>");if(t.length==1)return La(p4(t[0],e),e);var r=ZI();return t.forEach(function(i,s){JI(r,p4(i,e),"Sheet"+(s+1))}),r}function zoe(n,e,t){var r=[];return r.join("")+"<table"+(t&&t.id?' id="'+t.id+'"':"")+">"}function Woe(n,e){var t=e||{},r=t.header!=null?t.header:joe,i=t.footer!=null?t.footer:$oe,s=[r],o=nd(n["!ref"]);t.dense=Array.isArray(n),s.push(zoe(n,o,t));for(var a=o.s.r;a<=o.e.r;++a)s.push(Uoe(n,o,a,t));return s.push("</table>"+i),s.join("")}function WL(n,e,t){var r=t||{};Un!=null&&(r.dense=Un);var i=0,s=0;if(r.origin!=null)if(typeof r.origin=="number")i=r.origin;else{var o=typeof r.origin=="string"?Yr(r.origin):r.origin;i=o.r,s=o.c}var a=e.getElementsByTagName("tr"),c=Math.min(r.sheetRows||1e7,a.length),l={s:{r:0,c:0},e:{r:i,c:s}};if(n["!ref"]){var u=nd(n["!ref"]);l.s.r=Math.min(l.s.r,u.s.r),l.s.c=Math.min(l.s.c,u.s.c),l.e.r=Math.max(l.e.r,u.e.r),l.e.c=Math.max(l.e.c,u.e.c),i==-1&&(l.e.r=i=u.e.r+1)}var f=[],h=0,p=n["!rows"]||(n["!rows"]=[]),y=0,v=0,w=0,F=0,V=0,k=0;for(n["!cols"]||(n["!cols"]=[]);y<a.length&&v<c;++y){var X=a[y];if(m4(X)){if(r.display)continue;p[v]={hidden:!0}}var se=X.children;for(w=F=0;w<se.length;++w){var G=se[w];if(!(r.display&&m4(G))){var b=G.hasAttribute("data-v")?G.getAttribute("data-v"):G.hasAttribute("v")?G.getAttribute("v"):W4(G.innerHTML),I=G.getAttribute("data-z")||G.getAttribute("z");for(h=0;h<f.length;++h){var T=f[h];T.s.c==F+s&&T.s.r<v+i&&v+i<=T.e.r&&(F=T.e.c+1-s,h=-1)}k=+G.getAttribute("colspan")||1,((V=+G.getAttribute("rowspan")||1)>1||k>1)&&f.push({s:{r:v+i,c:F+s},e:{r:v+i+(V||1)-1,c:F+s+(k||1)-1}});var R={t:"s",v:b},P=G.getAttribute("data-t")||G.getAttribute("t")||"";b!=null&&(b.length==0?R.t=P||"z":r.raw||b.trim().length==0||P=="s"||(b==="TRUE"?R={t:"b",v:!0}:b==="FALSE"?R={t:"b",v:!1}:isNaN(ps(b))?isNaN(Zu(b).getDate())||(R={t:"d",v:rr(b)},r.cellDates||(R={t:"n",v:Qr(R.v)}),R.z=r.dateNF||st[14]):R={t:"n",v:ps(b)})),R.z===void 0&&I!=null&&(R.z=I);var A="",N=G.getElementsByTagName("A");if(N&&N.length)for(var Oe=0;Oe<N.length&&!(N[Oe].hasAttribute("href")&&(A=N[Oe].getAttribute("href"),A.charAt(0)!="#"));++Oe);A&&A.charAt(0)!="#"&&(R.l={Target:A}),r.dense?(n[v+i]||(n[v+i]=[]),n[v+i][F+s]=R):n[nt({c:F+s,r:v+i})]=R,l.e.c<F+s&&(l.e.c=F+s),F+=k}}++v}return f.length&&(n["!merges"]=(n["!merges"]||[]).concat(f)),l.e.r=Math.max(l.e.r,v-1+i),n["!ref"]=kt(l),v>=c&&(n["!fullref"]=kt((l.e.r=a.length-y+v-1+i,l))),n}function qL(n,e){var t=e||{},r=t.dense?[]:{};return WL(r,n,e)}function qoe(n,e){return La(qL(n,e),e)}function m4(n){var e="",t=Goe(n);return t&&(e=t(n).getPropertyValue("display")),e||(e=n.style&&n.style.display),e==="none"}function Goe(n){return n.ownerDocument.defaultView&&typeof n.ownerDocument.defaultView.getComputedStyle=="function"?n.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function Koe(n){var e=n.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(r,i){return Array(parseInt(i,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),t=Mt(e.replace(/<[^>]*>/g,""));return[t]}var g4={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function GL(n,e){var t=e||{};Un!=null&&t.dense==null&&(t.dense=Un);var r=MI(n),i=[],s,o,a={name:""},c="",l=0,u,f,h={},p=[],y=t.dense?[]:{},v,w,F={value:""},V="",k=0,X,se=[],G=-1,b=-1,I={s:{r:1e6,c:1e7},e:{r:0,c:0}},T=0,R={},P=[],A={},N=0,Oe=0,Ce=[],$e=1,Ne=1,ft=[],ke={Names:[]},Be={},fe=["",""],z=[],J={},Y="",K=0,he=!1,Me=!1,Se=0;for(Ah.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");v=Ah.exec(r);)switch(v[3]=v[3].replace(/_.*$/,"")){case"table":case"\u5DE5\u4F5C\u8868":v[1]==="/"?(I.e.c>=I.s.c&&I.e.r>=I.s.r?y["!ref"]=kt(I):y["!ref"]="A1:A1",t.sheetRows>0&&t.sheetRows<=I.e.r&&(y["!fullref"]=y["!ref"],I.e.r=t.sheetRows-1,y["!ref"]=kt(I)),P.length&&(y["!merges"]=P),Ce.length&&(y["!rows"]=Ce),u.name=u.\u540D\u79F0||u.name,typeof JSON<"u"&&JSON.stringify(u),p.push(u.name),h[u.name]=y,Me=!1):v[0].charAt(v[0].length-2)!=="/"&&(u=Qe(v[0],!1),G=b=-1,I.s.r=I.s.c=1e7,I.e.r=I.e.c=0,y=t.dense?[]:{},P=[],Ce=[],Me=!0);break;case"table-row-group":v[1]==="/"?--T:++T;break;case"table-row":case"\u884C":if(v[1]==="/"){G+=$e,$e=1;break}if(f=Qe(v[0],!1),f.\u884C\u53F7?G=f.\u884C\u53F7-1:G==-1&&(G=0),$e=+f["number-rows-repeated"]||1,$e<10)for(Se=0;Se<$e;++Se)T>0&&(Ce[G+Se]={level:T});b=-1;break;case"covered-table-cell":v[1]!=="/"&&++b,t.sheetStubs&&(t.dense?(y[G]||(y[G]=[]),y[G][b]={t:"z"}):y[nt({r:G,c:b})]={t:"z"}),V="",se=[];break;case"table-cell":case"\u6570\u636E":if(v[0].charAt(v[0].length-2)==="/")++b,F=Qe(v[0],!1),Ne=parseInt(F["number-columns-repeated"]||"1",10),w={t:"z",v:null},F.formula&&t.cellFormula!=!1&&(w.f=u4(Mt(F.formula))),(F.\u6570\u636E\u7C7B\u578B||F["value-type"])=="string"&&(w.t="s",w.v=Mt(F["string-value"]||""),t.dense?(y[G]||(y[G]=[]),y[G][b]=w):y[nt({r:G,c:b})]=w),b+=Ne-1;else if(v[1]!=="/"){++b,V="",k=0,se=[],Ne=1;var Re=$e?G+$e-1:G;if(b>I.e.c&&(I.e.c=b),b<I.s.c&&(I.s.c=b),G<I.s.r&&(I.s.r=G),Re>I.e.r&&(I.e.r=Re),F=Qe(v[0],!1),z=[],J={},w={t:F.\u6570\u636E\u7C7B\u578B||F["value-type"],v:null},t.cellFormula)if(F.formula&&(F.formula=Mt(F.formula)),F["number-matrix-columns-spanned"]&&F["number-matrix-rows-spanned"]&&(N=parseInt(F["number-matrix-rows-spanned"],10)||0,Oe=parseInt(F["number-matrix-columns-spanned"],10)||0,A={s:{r:G,c:b},e:{r:G+N-1,c:b+Oe-1}},w.F=kt(A),ft.push([A,w.F])),F.formula)w.f=u4(F.formula);else for(Se=0;Se<ft.length;++Se)G>=ft[Se][0].s.r&&G<=ft[Se][0].e.r&&b>=ft[Se][0].s.c&&b<=ft[Se][0].e.c&&(w.F=ft[Se][1]);switch((F["number-columns-spanned"]||F["number-rows-spanned"])&&(N=parseInt(F["number-rows-spanned"],10)||0,Oe=parseInt(F["number-columns-spanned"],10)||0,A={s:{r:G,c:b},e:{r:G+N-1,c:b+Oe-1}},P.push(A)),F["number-columns-repeated"]&&(Ne=parseInt(F["number-columns-repeated"],10)),w.t){case"boolean":w.t="b",w.v=hn(F["boolean-value"]);break;case"float":w.t="n",w.v=parseFloat(F.value);break;case"percentage":w.t="n",w.v=parseFloat(F.value);break;case"currency":w.t="n",w.v=parseFloat(F.value);break;case"date":w.t="d",w.v=rr(F["date-value"]),t.cellDates||(w.t="n",w.v=Qr(w.v)),w.z="m/d/yy";break;case"time":w.t="n",w.v=aJ(F["time-value"])/86400,t.cellDates&&(w.t="d",w.v=W_(w.v)),w.z="HH:MM:SS";break;case"number":w.t="n",w.v=parseFloat(F.\u6570\u636E\u6570\u503C);break;default:if(w.t==="string"||w.t==="text"||!w.t)w.t="s",F["string-value"]!=null&&(V=Mt(F["string-value"]),se=[]);else throw new Error("Unsupported value type "+w.t)}}else{if(he=!1,w.t==="s"&&(w.v=V||"",se.length&&(w.R=se),he=k==0),Be.Target&&(w.l=Be),z.length>0&&(w.c=z,z=[]),V&&t.cellText!==!1&&(w.w=V),he&&(w.t="z",delete w.v),(!he||t.sheetStubs)&&!(t.sheetRows&&t.sheetRows<=G))for(var _e=0;_e<$e;++_e){if(Ne=parseInt(F["number-columns-repeated"]||"1",10),t.dense)for(y[G+_e]||(y[G+_e]=[]),y[G+_e][b]=_e==0?w:mr(w);--Ne>0;)y[G+_e][b+Ne]=mr(w);else for(y[nt({r:G+_e,c:b})]=w;--Ne>0;)y[nt({r:G+_e,c:b+Ne})]=mr(w);I.e.c<=b&&(I.e.c=b)}Ne=parseInt(F["number-columns-repeated"]||"1",10),b+=Ne-1,Ne=0,w={},V="",se=[]}Be={};break;case"document":case"document-content":case"\u7535\u5B50\u8868\u683C\u6587\u6863":case"spreadsheet":case"\u4E3B\u4F53":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(v[1]==="/"){if((s=i.pop())[0]!==v[3])throw"Bad state: "+s}else v[0].charAt(v[0].length-2)!=="/"&&i.push([v[3],!0]);break;case"annotation":if(v[1]==="/"){if((s=i.pop())[0]!==v[3])throw"Bad state: "+s;J.t=V,se.length&&(J.R=se),J.a=Y,z.push(J)}else v[0].charAt(v[0].length-2)!=="/"&&i.push([v[3],!1]);Y="",K=0,V="",k=0,se=[];break;case"creator":v[1]==="/"?Y=r.slice(K,v.index):K=v.index+v[0].length;break;case"meta":case"\u5143\u6570\u636E":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(v[1]==="/"){if((s=i.pop())[0]!==v[3])throw"Bad state: "+s}else v[0].charAt(v[0].length-2)!=="/"&&i.push([v[3],!1]);V="",k=0,se=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(v[1]==="/"){if(R[a.name]=c,(s=i.pop())[0]!==v[3])throw"Bad state: "+s}else v[0].charAt(v[0].length-2)!=="/"&&(c="",a=Qe(v[0],!1),i.push([v[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(i[i.length-1][0]){case"time-style":case"date-style":o=Qe(v[0],!1),c+=g4[v[3]][o.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(i[i.length-1][0]){case"time-style":case"date-style":o=Qe(v[0],!1),c+=g4[v[3]][o.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(v[0].slice(-2)==="/>")break;if(v[1]==="/")switch(i[i.length-1][0]){case"number-style":case"date-style":case"time-style":c+=r.slice(l,v.index);break}else l=v.index+v[0].length;break;case"named-range":o=Qe(v[0],!1),fe=cI(o["cell-range-address"]);var ht={Name:o.name,Ref:fe[0]+"!"+fe[1]};Me&&(ht.Sheet=p.length),ke.Names.push(ht);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"\u7535\u5B50\u8868\u683C":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"\u6587\u672C\u4E32":if(["master-styles"].indexOf(i[i.length-1][0])>-1)break;if(v[1]==="/"&&(!F||!F["string-value"])){var q=Koe(r.slice(k,v.index),X);V=(V.length>0?V+`
`:"")+q[0]}else X=Qe(v[0],!1),k=v.index+v[0].length;break;case"s":break;case"database-range":if(v[1]==="/")break;try{fe=cI(Qe(v[0])["target-range-address"]),h[fe[0]]["!autofilter"]={ref:fe[1]}}catch{}break;case"date":break;case"object":break;case"title":case"\u6807\u9898":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(v[1]!=="/"){if(Be=Qe(v[0],!1),!Be.href)break;Be.Target=Mt(Be.href),delete Be.href,Be.Target.charAt(0)=="#"&&Be.Target.indexOf(".")>-1?(fe=cI(Be.Target.slice(1)),Be.Target="#"+fe[0]+"!"+fe[1]):Be.Target.match(/^\.\.[\\\/]/)&&(Be.Target=Be.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(v[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case"\u8868:":case"\u5B57:":break;default:if(t.WTF)throw new Error(v)}}var qt={Sheets:h,SheetNames:p,Workbook:ke};return t.bookSheets&&delete qt.Sheets,qt}function _4(n,e){e=e||{},qi(n,"META-INF/manifest.xml")&&uee(Ln(n,"META-INF/manifest.xml"),e);var t=Si(n,"content.xml");if(!t)throw new Error("Missing content.xml in ODS / UOF file");var r=GL(en(t),e);return qi(n,"meta.xml")&&(r.Props=oL(Ln(n,"meta.xml"))),r}function v4(n,e){return GL(n,e)}function KI(n){return new DataView(n.buffer,n.byteOffset,n.byteLength)}function xI(n){return typeof TextDecoder<"u"?new TextDecoder().decode(n):en(Wc(n))}function EI(n){var e=n.reduce(function(i,s){return i+s.length},0),t=new Uint8Array(e),r=0;return n.forEach(function(i){t.set(i,r),r+=i.length}),t}function y4(n){return n-=n>>1&1431655765,n=(n&858993459)+(n>>2&858993459),(n+(n>>4)&252645135)*16843009>>>24}function Xoe(n,e){for(var t=(n[e+15]&127)<<7|n[e+14]>>1,r=n[e+14]&1,i=e+13;i>=e;--i)r=r*256+n[i];return(n[e+15]&128?-r:r)*Math.pow(10,t-6176)}function Oh(n,e){var t=e?e[0]:0,r=n[t]&127;e:if(n[t++]>=128&&(r|=(n[t]&127)<<7,n[t++]<128||(r|=(n[t]&127)<<14,n[t++]<128)||(r|=(n[t]&127)<<21,n[t++]<128)||(r+=(n[t]&127)*Math.pow(2,28),++t,n[t++]<128)||(r+=(n[t]&127)*Math.pow(2,35),++t,n[t++]<128)||(r+=(n[t]&127)*Math.pow(2,42),++t,n[t++]<128)))break e;return e&&(e[0]=t),r}function Gn(n){var e=0,t=n[e]&127;e:if(n[e++]>=128){if(t|=(n[e]&127)<<7,n[e++]<128||(t|=(n[e]&127)<<14,n[e++]<128)||(t|=(n[e]&127)<<21,n[e++]<128))break e;t|=(n[e]&127)<<28}return t}function Or(n){for(var e=[],t=[0];t[0]<n.length;){var r=t[0],i=Oh(n,t),s=i&7;i=Math.floor(i/8);var o=0,a;if(i==0)break;switch(s){case 0:{for(var c=t[0];n[t[0]++]>=128;);a=n.slice(c,t[0])}break;case 5:o=4,a=n.slice(t[0],t[0]+o),t[0]+=o;break;case 1:o=8,a=n.slice(t[0],t[0]+o),t[0]+=o;break;case 2:o=Oh(n,t),a=n.slice(t[0],t[0]+o),t[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(i," at offset ").concat(r))}var l={data:a,type:s};e[i]==null?e[i]=[l]:e[i].push(l)}return e}function XI(n,e){return n?.map(function(t){return e(t.data)})||[]}function Yoe(n){for(var e,t=[],r=[0];r[0]<n.length;){var i=Oh(n,r),s=Or(n.slice(r[0],r[0]+i));r[0]+=i;var o={id:Gn(s[1][0].data),messages:[]};s[2].forEach(function(a){var c=Or(a.data),l=Gn(c[3][0].data);o.messages.push({meta:c,data:n.slice(r[0],r[0]+l)}),r[0]+=l}),(e=s[3])!=null&&e[0]&&(o.merge=Gn(s[3][0].data)>>>0>0),t.push(o)}return t}function Qoe(n,e){if(n!=0)throw new Error("Unexpected Snappy chunk type ".concat(n));for(var t=[0],r=Oh(e,t),i=[];t[0]<e.length;){var s=e[t[0]]&3;if(s==0){var o=e[t[0]++]>>2;if(o<60)++o;else{var a=o-59;o=e[t[0]],a>1&&(o|=e[t[0]+1]<<8),a>2&&(o|=e[t[0]+2]<<16),a>3&&(o|=e[t[0]+3]<<24),o>>>=0,o++,t[0]+=a}i.push(e.slice(t[0],t[0]+o)),t[0]+=o;continue}else{var c=0,l=0;if(s==1?(l=(e[t[0]]>>2&7)+4,c=(e[t[0]++]&224)<<3,c|=e[t[0]++]):(l=(e[t[0]++]>>2)+1,s==2?(c=e[t[0]]|e[t[0]+1]<<8,t[0]+=2):(c=(e[t[0]]|e[t[0]+1]<<8|e[t[0]+2]<<16|e[t[0]+3]<<24)>>>0,t[0]+=4)),i=[EI(i)],c==0)throw new Error("Invalid offset 0");if(c>i[0].length)throw new Error("Invalid offset beyond length");if(l>=c)for(i.push(i[0].slice(-c)),l-=c;l>=i[i.length-1].length;)i.push(i[i.length-1]),l-=i[i.length-1].length;i.push(i[0].slice(-c,-c+l))}}var u=EI(i);if(u.length!=r)throw new Error("Unexpected length: ".concat(u.length," != ").concat(r));return u}function Zoe(n){for(var e=[],t=0;t<n.length;){var r=n[t++],i=n[t]|n[t+1]<<8|n[t+2]<<16;t+=3,e.push(Qoe(r,n.slice(t,t+i))),t+=i}if(t!==n.length)throw new Error("data is not a valid framed stream!");return EI(e)}function Joe(n,e,t,r){var i=KI(n),s=i.getUint32(4,!0),o=(r>1?12:8)+y4(s&(r>1?3470:398))*4,a=-1,c=-1,l=NaN,u=new Date(2001,0,1);s&512&&(a=i.getUint32(o,!0),o+=4),o+=y4(s&(r>1?12288:4096))*4,s&16&&(c=i.getUint32(o,!0),o+=4),s&32&&(l=i.getFloat64(o,!0),o+=8),s&64&&(u.setTime(u.getTime()+i.getFloat64(o,!0)*1e3),o+=8);var f;switch(n[2]){case 0:break;case 2:f={t:"n",v:l};break;case 3:f={t:"s",v:e[c]};break;case 5:f={t:"d",v:u};break;case 6:f={t:"b",v:l>0};break;case 7:f={t:"n",v:l/86400};break;case 8:f={t:"e",v:0};break;case 9:if(a>-1)f={t:"s",v:t[a]};else if(c>-1)f={t:"s",v:e[c]};else if(!isNaN(l))f={t:"n",v:l};else throw new Error("Unsupported cell type ".concat(n.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(n.slice(0,4)))}return f}function eae(n,e,t){var r=KI(n),i=r.getUint32(8,!0),s=12,o=-1,a=-1,c=NaN,l=NaN,u=new Date(2001,0,1);i&1&&(c=Xoe(n,s),s+=16),i&2&&(l=r.getFloat64(s,!0),s+=8),i&4&&(u.setTime(u.getTime()+r.getFloat64(s,!0)*1e3),s+=8),i&8&&(a=r.getUint32(s,!0),s+=4),i&16&&(o=r.getUint32(s,!0),s+=4);var f;switch(n[1]){case 0:break;case 2:f={t:"n",v:c};break;case 3:f={t:"s",v:e[a]};break;case 5:f={t:"d",v:u};break;case 6:f={t:"b",v:l>0};break;case 7:f={t:"n",v:l/86400};break;case 8:f={t:"e",v:0};break;case 9:if(o>-1)f={t:"s",v:t[o]};else throw new Error("Unsupported cell type ".concat(n[1]," : ").concat(i&31," : ").concat(n.slice(0,4)));break;case 10:f={t:"n",v:c};break;default:throw new Error("Unsupported cell type ".concat(n[1]," : ").concat(i&31," : ").concat(n.slice(0,4)))}return f}function tae(n,e,t){switch(n[0]){case 0:case 1:case 2:case 3:return Joe(n,e,t,n[0]);case 5:return eae(n,e,t);default:throw new Error("Unsupported payload version ".concat(n[0]))}}function Oa(n){var e=Or(n);return Oh(e[1][0].data)}function x4(n,e){var t=Or(e.data),r=Gn(t[1][0].data),i=t[3],s=[];return(i||[]).forEach(function(o){var a=Or(o.data),c=Gn(a[1][0].data)>>>0;switch(r){case 1:s[c]=xI(a[3][0].data);break;case 8:{var l=n[Oa(a[9][0].data)][0],u=Or(l.data),f=n[Oa(u[1][0].data)][0],h=Gn(f.meta[1][0].data);if(h!=2001)throw new Error("2000 unexpected reference to ".concat(h));var p=Or(f.data);s[c]=p[3].map(function(y){return xI(y.data)}).join("")}break}}),s}function nae(n,e){var t,r,i,s,o,a,c,l,u,f,h,p,y,v,w=Or(n),F=Gn(w[1][0].data)>>>0,V=Gn(w[2][0].data)>>>0,k=((r=(t=w[8])==null?void 0:t[0])==null?void 0:r.data)&&Gn(w[8][0].data)>0||!1,X,se;if((s=(i=w[7])==null?void 0:i[0])!=null&&s.data&&e!=0)X=(a=(o=w[7])==null?void 0:o[0])==null?void 0:a.data,se=(l=(c=w[6])==null?void 0:c[0])==null?void 0:l.data;else if((f=(u=w[4])==null?void 0:u[0])!=null&&f.data&&e!=1)X=(p=(h=w[4])==null?void 0:h[0])==null?void 0:p.data,se=(v=(y=w[3])==null?void 0:y[0])==null?void 0:v.data;else throw"NUMBERS Tile missing ".concat(e," cell storage");for(var G=k?4:1,b=KI(X),I=[],T=0;T<X.length/2;++T){var R=b.getUint16(T*2,!0);R<65535&&I.push([T,R])}if(I.length!=V)throw"Expected ".concat(V," cells, found ").concat(I.length);var P=[];for(T=0;T<I.length-1;++T)P[I[T][0]]=se.subarray(I[T][1]*G,I[T+1][1]*G);return I.length>=1&&(P[I[I.length-1][0]]=se.subarray(I[I.length-1][1]*G)),{R:F,cells:P}}function rae(n,e){var t,r=Or(e.data),i=(t=r?.[7])!=null&&t[0]?Gn(r[7][0].data)>>>0>0?1:0:-1,s=XI(r[5],function(o){return nae(o,i)});return{nrows:Gn(r[4][0].data)>>>0,data:s.reduce(function(o,a){return o[a.R]||(o[a.R]=[]),a.cells.forEach(function(c,l){if(o[a.R][l])throw new Error("Duplicate cell r=".concat(a.R," c=").concat(l));o[a.R][l]=c}),o},[])}}function iae(n,e,t){var r,i=Or(e.data),s={s:{r:0,c:0},e:{r:0,c:0}};if(s.e.r=(Gn(i[6][0].data)>>>0)-1,s.e.r<0)throw new Error("Invalid row varint ".concat(i[6][0].data));if(s.e.c=(Gn(i[7][0].data)>>>0)-1,s.e.c<0)throw new Error("Invalid col varint ".concat(i[7][0].data));t["!ref"]=kt(s);var o=Or(i[4][0].data),a=x4(n,n[Oa(o[4][0].data)][0]),c=(r=o[17])!=null&&r[0]?x4(n,n[Oa(o[17][0].data)][0]):[],l=Or(o[3][0].data),u=0;l[1].forEach(function(f){var h=Or(f.data),p=n[Oa(h[2][0].data)][0],y=Gn(p.meta[1][0].data);if(y!=6002)throw new Error("6001 unexpected reference to ".concat(y));var v=rae(n,p);v.data.forEach(function(w,F){w.forEach(function(V,k){var X=nt({r:u+F,c:k}),se=tae(V,a,c);se&&(t[X]=se)})}),u+=v.nrows})}function sae(n,e){var t=Or(e.data),r={"!ref":"A1"},i=n[Oa(t[2][0].data)],s=Gn(i[0].meta[1][0].data);if(s!=6001)throw new Error("6000 unexpected reference to ".concat(s));return iae(n,i[0],r),r}function oae(n,e){var t,r=Or(e.data),i={name:(t=r[1])!=null&&t[0]?xI(r[1][0].data):"",sheets:[]},s=XI(r[2],Oa);return s.forEach(function(o){n[o].forEach(function(a){var c=Gn(a.meta[1][0].data);c==6e3&&i.sheets.push(sae(n,a))})}),i}function aae(n,e){var t=ZI(),r=Or(e.data),i=XI(r[1],Oa);if(i.forEach(function(s){n[s].forEach(function(o){var a=Gn(o.meta[1][0].data);if(a==2){var c=oae(n,o);c.sheets.forEach(function(l,u){JI(t,l,u==0?c.name:c.name+"_"+u,!0)})}})}),t.SheetNames.length==0)throw new Error("Empty NUMBERS file");return t}function uI(n){var e,t,r,i,s={},o=[];if(n.FullPaths.forEach(function(c){if(c.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),n.FileIndex.forEach(function(c){if(c.name.match(/\.iwa$/)){var l;try{l=Zoe(c.content)}catch(f){return console.log("?? "+c.content.length+" "+(f.message||f))}var u;try{u=Yoe(l)}catch(f){return console.log("## "+(f.message||f))}u.forEach(function(f){s[f.id]=f.messages,o.push(f.id)})}}),!o.length)throw new Error("File has no messages");var a=((i=(r=(t=(e=s?.[1])==null?void 0:e[0])==null?void 0:t.meta)==null?void 0:r[1])==null?void 0:i[0].data)&&Gn(s[1][0].meta[1][0].data)==1&&s[1][0];if(a||o.forEach(function(c){s[c].forEach(function(l){var u=Gn(l.meta[1][0].data)>>>0;if(u==1)if(!a)a=l;else throw new Error("Document has multiple roots")})}),!a)throw new Error("Cannot find Document root");return aae(s,a)}function cae(n){return function(t){for(var r=0;r!=n.length;++r){var i=n[r];t[i[0]]===void 0&&(t[i[0]]=i[1]),i[2]==="n"&&(t[i[0]]=Number(t[i[0]]))}}}function YI(n){cae([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(n)}function lae(n){return Ro.WS.indexOf(n)>-1?"sheet":Ro.CS&&n==Ro.CS?"chart":Ro.DS&&n==Ro.DS?"dialog":Ro.MS&&n==Ro.MS?"macro":n&&n.length?n:"sheet"}function uae(n,e){if(!n)return 0;try{n=e.map(function(r){return r.id||(r.id=r.strRelID),[r.name,n["!id"][r.id].Target,lae(n["!id"][r.id].Type)]})}catch{return null}return!n||n.length===0?null:n}function dae(n,e,t,r,i,s,o,a,c,l,u,f){try{s[r]=wh(Si(n,t,!0),e);var h=Ln(n,e),p;switch(a){case"sheet":p=_oe(h,e,i,c,s[r],l,u,f);break;case"chart":if(p=voe(h,e,i,c,s[r],l,u,f),!p||!p["!drawel"])break;var y=_h(p["!drawel"].Target,e),v=mI(y),w=gre(Si(n,y,!0),wh(Si(n,v,!0),y)),F=_h(w,y),V=mI(F);p=eoe(Si(n,F,!0),F,c,wh(Si(n,V,!0),F),l,p);break;case"macro":p=yoe(h,e,i,c,s[r],l,u,f);break;case"dialog":p=xoe(h,e,i,c,s[r],l,u,f);break;default:throw new Error("Unrecognized sheet type "+a)}o[r]=p;var k=[];s&&s[r]&&zs(s[r]).forEach(function(X){var se="";if(s[r][X].Type==Ro.CMNT){se=_h(s[r][X].Target,e);var G=boe(Ln(n,se,!0),se,c);if(!G||!G.length)return;s4(p,G,!1)}s[r][X].Type==Ro.TCMNT&&(se=_h(s[r][X].Target,e),k=k.concat(vre(Ln(n,se,!0),c)))}),k&&k.length&&s4(p,k,!0,c.people||[])}catch(X){if(c.WTF)throw X}}function zi(n){return n.charAt(0)=="/"?n.slice(1):n}function fae(n,e){if(N4(),e=e||{},YI(e),qi(n,"META-INF/manifest.xml")||qi(n,"objectdata.xml"))return _4(n,e);if(qi(n,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof uI<"u"){if(n.FileIndex)return uI(n);var t=Dt.utils.cfb_new();return RF(n).forEach(function(Oe){fJ(t,Oe,j4(n,Oe))}),uI(t)}throw new Error("Unsupported NUMBERS file")}if(!qi(n,"[Content_Types].xml"))throw qi(n,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):qi(n,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var r=RF(n),i=cee(Si(n,"[Content_Types].xml")),s=!1,o,a;if(i.workbooks.length===0&&(a="xl/workbook.xml",Ln(n,a,!0)&&i.workbooks.push(a)),i.workbooks.length===0){if(a="xl/workbook.bin",!Ln(n,a,!0))throw new Error("Could not find workbook");i.workbooks.push(a),s=!0}i.workbooks[0].slice(-3)=="bin"&&(s=!0);var c={},l={};if(!e.bookSheets&&!e.bookProps){if(Ih=[],i.sst)try{Ih=Coe(Ln(n,zi(i.sst)),i.sst,e)}catch(Oe){if(e.WTF)throw Oe}e.cellStyles&&i.themes.length&&(c=woe(Si(n,i.themes[0].replace(/^\//,""),!0)||"",i.themes[0],e)),i.style&&(l=Eoe(Ln(n,zi(i.style)),i.style,c,e))}i.links.map(function(Oe){try{var Ce=wh(Si(n,mI(zi(Oe))),Oe);return Toe(Ln(n,zi(Oe)),Ce,Oe,e)}catch{}});var u=goe(Ln(n,zi(i.workbooks[0])),i.workbooks[0],e),f={},h="";i.coreprops.length&&(h=Ln(n,zi(i.coreprops[0]),!0),h&&(f=oL(h)),i.extprops.length!==0&&(h=Ln(n,zi(i.extprops[0]),!0),h&&hee(h,f,e)));var p={};(!e.bookSheets||e.bookProps)&&i.custprops.length!==0&&(h=Si(n,zi(i.custprops[0]),!0),h&&(p=mee(h,e)));var y={};if((e.bookSheets||e.bookProps)&&(u.Sheets?o=u.Sheets.map(function(Ce){return Ce.name}):f.Worksheets&&f.SheetNames.length>0&&(o=f.SheetNames),e.bookProps&&(y.Props=f,y.Custprops=p),e.bookSheets&&typeof o<"u"&&(y.SheetNames=o),e.bookSheets?y.SheetNames:e.bookProps))return y;o={};var v={};e.bookDeps&&i.calcchain&&(v=Ioe(Ln(n,zi(i.calcchain)),i.calcchain,e));var w=0,F={},V,k;{var X=u.Sheets;f.Worksheets=X.length,f.SheetNames=[];for(var se=0;se!=X.length;++se)f.SheetNames[se]=X[se].name}var G=s?"bin":"xml",b=i.workbooks[0].lastIndexOf("/"),I=(i.workbooks[0].slice(0,b+1)+"_rels/"+i.workbooks[0].slice(b+1)+".rels").replace(/^\//,"");qi(n,I)||(I="xl/_rels/workbook."+G+".rels");var T=wh(Si(n,I,!0),I.replace(/_rels.*/,"s5s"));(i.metadata||[]).length>=1&&(e.xlmeta=Soe(Ln(n,zi(i.metadata[0])),i.metadata[0],e)),(i.people||[]).length>=1&&(e.people=yre(Ln(n,zi(i.people[0])),e)),T&&(T=uae(T,u.Sheets));var R=Ln(n,"xl/worksheets/sheet.xml",!0)?1:0;e:for(w=0;w!=f.Worksheets;++w){var P="sheet";if(T&&T[w]?(V="xl/"+T[w][1].replace(/[\/]?xl\//,""),qi(n,V)||(V=T[w][1]),qi(n,V)||(V=I.replace(/_rels\/.*$/,"")+T[w][1]),P=T[w][2]):(V="xl/worksheets/sheet"+(w+1-R)+"."+G,V=V.replace(/sheet0\./,"sheet.")),k=V.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),e&&e.sheets!=null)switch(typeof e.sheets){case"number":if(w!=e.sheets)continue e;break;case"string":if(f.SheetNames[w].toLowerCase()!=e.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(e.sheets)){for(var A=!1,N=0;N!=e.sheets.length;++N)typeof e.sheets[N]=="number"&&e.sheets[N]==w&&(A=1),typeof e.sheets[N]=="string"&&e.sheets[N].toLowerCase()==f.SheetNames[w].toLowerCase()&&(A=1);if(!A)continue e}}dae(n,V,k,f.SheetNames[w],w,F,o,P,e,u,c,l)}return y={Directory:i,Workbook:u,Props:f,Custprops:p,Deps:v,Sheets:o,SheetNames:f.SheetNames,Strings:Ih,Styles:l,Themes:c,SSF:mr(st)},e&&e.bookFiles&&(n.files?(y.keys=r,y.files=n.files):(y.keys=[],y.files={},n.FullPaths.forEach(function(Oe,Ce){Oe=Oe.replace(/^Root Entry[\/]/,""),y.keys.push(Oe),y.files[Oe]=n.FileIndex[Ce]}))),e&&e.bookVBA&&(i.vba.length>0?y.vbaraw=Ln(n,zi(i.vba[0]),!0):i.defaults&&i.defaults.bin===Cre&&(y.vbaraw=Ln(n,"xl/vbaProject.bin",!0))),y}function hae(n,e){var t=e||{},r="Workbook",i=Dt.find(n,r);try{if(r="/!DataSpaces/Version",i=Dt.find(n,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(sne(i.content),r="/!DataSpaces/DataSpaceMap",i=Dt.find(n,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var s=ane(i.content);if(s.length!==1||s[0].comps.length!==1||s[0].comps[0].t!==0||s[0].name!=="StrongEncryptionDataSpace"||s[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",i=Dt.find(n,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var o=cne(i.content);if(o.length!=1||o[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",i=Dt.find(n,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);une(i.content)}catch{}if(r="/EncryptionInfo",i=Dt.find(n,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var a=dne(i.content);if(r="/EncryptedPackage",i=Dt.find(n,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(a[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(a[1],i.content,t.password||"",t);if(a[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(a[1],i.content,t.password||"",t);throw new Error("File is password-protected")}function QI(n,e){var t="";switch((e||{}).type||"base64"){case"buffer":return[n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7]];case"base64":t=Di(n.slice(0,12));break;case"binary":t=n;break;case"array":return[n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3),t.charCodeAt(4),t.charCodeAt(5),t.charCodeAt(6),t.charCodeAt(7)]}function pae(n,e){return Dt.find(n,"EncryptedPackage")?hae(n,e):zL(n,e)}function mae(n,e){var t,r=n,i=e||{};return i.type||(i.type=Ct&&Buffer.isBuffer(n)?"buffer":"base64"),t=$4(r,i),fae(t,i)}function KL(n,e){var t=0;e:for(;t<n.length;)switch(n.charCodeAt(t)){case 10:case 13:case 32:++t;break;case 60:return vI(n.slice(t),e);default:break e}return Mh.to_workbook(n,e)}function gae(n,e){var t="",r=QI(n,e);switch(e.type){case"base64":t=Di(n);break;case"binary":t=n;break;case"buffer":t=n.toString("binary");break;case"array":t=$c(n);break;default:throw new Error("Unrecognized type "+e.type)}return r[0]==239&&r[1]==187&&r[2]==191&&(t=en(t)),e.type="binary",KL(t,e)}function _ae(n,e){var t=n;return e.type=="base64"&&(t=Di(t)),t=Ut.utils.decode(1200,t.slice(2),"str"),e.type="binary",KL(t,e)}function vae(n){return n.match(/[^\x00-\x7F]/)?vh(n):n}function dI(n,e,t,r){return r?(t.type="string",Mh.to_workbook(n,t)):Mh.to_workbook(e,t)}function z_(n,e){C4();var t=e||{};if(typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer)return z_(new Uint8Array(n),(t=mr(t),t.type="array",t));typeof Uint8Array<"u"&&n instanceof Uint8Array&&!t.type&&(t.type=typeof Deno<"u"?"buffer":"array");var r=n,i=[0,0,0,0],s=!1;if(t.cellStyles&&(t.cellNF=!0,t.sheetStubs=!0),Yu={},t.dateNF&&(Yu.dateNF=t.dateNF),t.type||(t.type=Ct&&Buffer.isBuffer(n)?"buffer":"base64"),t.type=="file"&&(t.type=Ct?"buffer":"binary",r=sJ(n),typeof Uint8Array<"u"&&!Ct&&(t.type="array")),t.type=="string"&&(s=!0,t.type="binary",t.codepage=65001,r=vae(n)),t.type=="array"&&typeof Uint8Array<"u"&&n instanceof Uint8Array&&typeof ArrayBuffer<"u"){var o=new ArrayBuffer(3),a=new Uint8Array(o);if(a.foo="bar",!a.foo)return t=mr(t),t.type="array",z_(II(r),t)}switch((i=QI(r,t))[0]){case 208:if(i[1]===207&&i[2]===17&&i[3]===224&&i[4]===161&&i[5]===177&&i[6]===26&&i[7]===225)return pae(Dt.read(r,t),t);break;case 9:if(i[1]<=8)return zL(r,t);break;case 60:return vI(r,t);case 73:if(i[1]===73&&i[2]===42&&i[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(i[1]===68)return qte(r,t);break;case 84:if(i[1]===65&&i[2]===66&&i[3]===76)return zte.to_workbook(r,t);break;case 80:return i[1]===75&&i[2]<9&&i[3]<9?mae(r,t):dI(n,r,t,s);case 239:return i[3]===60?vI(r,t):dI(n,r,t,s);case 255:if(i[1]===254)return _ae(r,t);if(i[1]===0&&i[2]===2&&i[3]===0)return bh.to_workbook(r,t);break;case 0:if(i[1]===0&&(i[2]>=2&&i[3]===0||i[2]===0&&(i[3]===8||i[3]===9)))return bh.to_workbook(r,t);break;case 3:case 131:case 139:case 140:return i4.to_workbook(r,t);case 123:if(i[1]===92&&i[2]===114&&i[3]===116)return Cne.to_workbook(r,t);break;case 10:case 13:case 32:return gae(r,t);case 137:if(i[1]===80&&i[2]===78&&i[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return $te.indexOf(i[0])>-1&&i[2]<=12&&i[3]<=31?i4.to_workbook(r,t):dI(n,r,t,s)}function yae(n,e,t,r,i,s,o,a){var c=gr(t),l=a.defval,u=a.raw||!Object.prototype.hasOwnProperty.call(a,"raw"),f=!0,h=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:t,enumerable:!1})}catch{h.__rowNum__=t}else h.__rowNum__=t;if(!o||n[t])for(var p=e.s.c;p<=e.e.c;++p){var y=o?n[t][p]:n[r[p]+c];if(y===void 0||y.t===void 0){if(l===void 0)continue;s[p]!=null&&(h[s[p]]=l);continue}var v=y.v;switch(y.t){case"z":if(v==null)break;continue;case"e":v=v==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+y.t)}if(s[p]!=null){if(v==null)if(y.t=="e"&&v===null)h[s[p]]=null;else if(l!==void 0)h[s[p]]=l;else if(u&&v===null)h[s[p]]=null;else continue;else h[s[p]]=u&&(y.t!=="n"||y.t==="n"&&a.rawNumbers!==!1)?v:Fo(y,v,a);v!=null&&(f=!1)}}return{row:h,isempty:f}}function wI(n,e){if(n==null||n["!ref"]==null)return[];var t={t:"n",v:0},r=0,i=1,s=[],o=0,a="",c={s:{r:0,c:0},e:{r:0,c:0}},l=e||{},u=l.range!=null?l.range:n["!ref"];switch(l.header===1?r=1:l.header==="A"?r=2:Array.isArray(l.header)?r=3:l.header==null&&(r=0),typeof u){case"string":c=Cn(u);break;case"number":c=Cn(n["!ref"]),c.s.r=u;break;default:c=u}r>0&&(i=0);var f=gr(c.s.r),h=[],p=[],y=0,v=0,w=Array.isArray(n),F=c.s.r,V=0,k={};w&&!n[F]&&(n[F]=[]);var X=l.skipHidden&&n["!cols"]||[],se=l.skipHidden&&n["!rows"]||[];for(V=c.s.c;V<=c.e.c;++V)if(!(X[V]||{}).hidden)switch(h[V]=qn(V),t=w?n[F][V]:n[h[V]+f],r){case 1:s[V]=V-c.s.c;break;case 2:s[V]=h[V];break;case 3:s[V]=l.header[V-c.s.c];break;default:if(t==null&&(t={w:"__EMPTY",t:"s"}),a=o=Fo(t,null,l),v=k[o]||0,!v)k[o]=1;else{do a=o+"_"+v++;while(k[a]);k[o]=v,k[a]=1}s[V]=a}for(F=c.s.r+i;F<=c.e.r;++F)if(!(se[F]||{}).hidden){var G=yae(n,c,F,h,r,s,w,l);(G.isempty===!1||(r===1?l.blankrows!==!1:l.blankrows))&&(p[y++]=G.row)}return p.length=y,p}var E4=/"/g;function xae(n,e,t,r,i,s,o,a){for(var c=!0,l=[],u="",f=gr(t),h=e.s.c;h<=e.e.c;++h)if(r[h]){var p=a.dense?(n[t]||[])[h]:n[r[h]+f];if(p==null)u="";else if(p.v!=null){c=!1,u=""+(a.rawNumbers&&p.t=="n"?p.v:Fo(p,null,a));for(var y=0,v=0;y!==u.length;++y)if((v=u.charCodeAt(y))===i||v===s||v===34||a.forceQuotes){u='"'+u.replace(E4,'""')+'"';break}u=="ID"&&(u='"ID"')}else p.f!=null&&!p.F?(c=!1,u="="+p.f,u.indexOf(",")>=0&&(u='"'+u.replace(E4,'""')+'"')):u="";l.push(u)}return a.blankrows===!1&&c?null:l.join(o)}function XL(n,e){var t=[],r=e??{};if(n==null||n["!ref"]==null)return"";var i=Cn(n["!ref"]),s=r.FS!==void 0?r.FS:",",o=s.charCodeAt(0),a=r.RS!==void 0?r.RS:`
`,c=a.charCodeAt(0),l=new RegExp((s=="|"?"\\|":s)+"+$"),u="",f=[];r.dense=Array.isArray(n);for(var h=r.skipHidden&&n["!cols"]||[],p=r.skipHidden&&n["!rows"]||[],y=i.s.c;y<=i.e.c;++y)(h[y]||{}).hidden||(f[y]=qn(y));for(var v=0,w=i.s.r;w<=i.e.r;++w)(p[w]||{}).hidden||(u=xae(n,i,w,f,o,c,s,r),u!=null&&(r.strip&&(u=u.replace(l,"")),(u||r.blankrows!==!1)&&t.push((v++?a:"")+u)));return delete r.dense,t.join("")}function Eae(n,e){e||(e={}),e.FS="	",e.RS=`
`;var t=XL(n,e);if(typeof Ut>"u"||e.type=="string")return t;var r=Ut.utils.encode(1200,t,"str");return"\xFF\xFE"+r}function wae(n){var e="",t,r="";if(n==null||n["!ref"]==null)return[];var i=Cn(n["!ref"]),s="",o=[],a,c=[],l=Array.isArray(n);for(a=i.s.c;a<=i.e.c;++a)o[a]=qn(a);for(var u=i.s.r;u<=i.e.r;++u)for(s=gr(u),a=i.s.c;a<=i.e.c;++a)if(e=o[a]+s,t=l?(n[u]||[])[a]:n[e],r="",t!==void 0){if(t.F!=null){if(e=t.F,!t.f)continue;r=t.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(t.f!=null)r=t.f;else{if(t.t=="z")continue;if(t.t=="n"&&t.v!=null)r=""+t.v;else if(t.t=="b")r=t.v?"TRUE":"FALSE";else if(t.w!==void 0)r="'"+t.w;else{if(t.v===void 0)continue;t.t=="s"?r="'"+t.v:r=""+t.v}}c[c.length]=e+"="+r}return c}function YL(n,e,t){var r=t||{},i=+!r.skipHeader,s=n||{},o=0,a=0;if(s&&r.origin!=null)if(typeof r.origin=="number")o=r.origin;else{var c=typeof r.origin=="string"?Yr(r.origin):r.origin;o=c.r,a=c.c}var l,u={s:{c:0,r:0},e:{c:a,r:o+e.length-1+i}};if(s["!ref"]){var f=Cn(s["!ref"]);u.e.c=Math.max(u.e.c,f.e.c),u.e.r=Math.max(u.e.r,f.e.r),o==-1&&(o=f.e.r+1,u.e.r=o+e.length-1+i)}else o==-1&&(o=0,u.e.r=e.length-1+i);var h=r.header||[],p=0;e.forEach(function(v,w){zs(v).forEach(function(F){(p=h.indexOf(F))==-1&&(h[p=h.length]=F);var V=v[F],k="z",X="",se=nt({c:a+p,r:o+w+i});l=Nh(s,se),V&&typeof V=="object"&&!(V instanceof Date)?s[se]=V:(typeof V=="number"?k="n":typeof V=="boolean"?k="b":typeof V=="string"?k="s":V instanceof Date?(k="d",r.cellDates||(k="n",V=Qr(V)),X=r.dateNF||st[14]):V===null&&r.nullError&&(k="e",V=0),l?(l.t=k,l.v=V,delete l.w,delete l.R,X&&(l.z=X)):s[se]=l={t:k,v:V},X&&(l.z=X))})}),u.e.c=Math.max(u.e.c,a+h.length-1);var y=gr(o);if(i)for(p=0;p<h.length;++p)s[qn(p+a)+y]={t:"s",v:h[p]};return s["!ref"]=kt(u),s}function Cae(n,e){return YL(null,n,e)}function Nh(n,e,t){if(typeof e=="string"){if(Array.isArray(n)){var r=Yr(e);return n[r.r]||(n[r.r]=[]),n[r.r][r.c]||(n[r.r][r.c]={t:"z"})}return n[e]||(n[e]={t:"z"})}return typeof e!="number"?Nh(n,nt(e)):Nh(n,nt({r:e,c:t||0}))}function bae(n,e){if(typeof e=="number"){if(e>=0&&n.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var t=n.SheetNames.indexOf(e);if(t>-1)return t;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function ZI(){return{SheetNames:[],Sheets:{}}}function JI(n,e,t,r){var i=1;if(!t)for(;i<=65535&&n.SheetNames.indexOf(t="Sheet"+i)!=-1;++i,t=void 0);if(!t||n.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&n.SheetNames.indexOf(t)>=0){var s=t.match(/(^.*?)(\d+)$/);i=s&&+s[2]||0;var o=s&&s[1]||t;for(++i;i<=65535&&n.SheetNames.indexOf(t=o+i)!=-1;++i);}if(coe(t),n.SheetNames.indexOf(t)>=0)throw new Error("Worksheet with name |"+t+"| already exists!");return n.SheetNames.push(t),n.Sheets[t]=e,t}function Iae(n,e,t){n.Workbook||(n.Workbook={}),n.Workbook.Sheets||(n.Workbook.Sheets=[]);var r=bae(n,e);switch(n.Workbook.Sheets[r]||(n.Workbook.Sheets[r]={}),t){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+t)}n.Workbook.Sheets[r].Hidden=t}function Tae(n,e){return n.z=e,n}function QL(n,e,t){return e?(n.l={Target:e},t&&(n.l.Tooltip=t)):delete n.l,n}function Sae(n,e,t){return QL(n,"#"+e,t)}function Dae(n,e,t){n.c||(n.c=[]),n.c.push({t:e,a:t||"SheetJS"})}function kae(n,e,t,r){for(var i=typeof e!="string"?e:Cn(e),s=typeof e=="string"?e:kt(e),o=i.s.r;o<=i.e.r;++o)for(var a=i.s.c;a<=i.e.c;++a){var c=Nh(n,o,a);c.t="n",c.F=s,delete c.v,o==i.s.r&&a==i.s.c&&(c.f=t,r&&(c.D=!0))}return n}var ZL={encode_col:qn,encode_row:gr,encode_cell:nt,encode_range:kt,decode_col:VI,decode_row:LI,split_cell:jJ,decode_cell:Yr,decode_range:nd,format_cell:Fo,sheet_add_aoa:tL,sheet_add_json:YL,sheet_add_dom:WL,aoa_to_sheet:rd,json_to_sheet:Cae,table_to_sheet:qL,table_to_book:qoe,sheet_to_csv:XL,sheet_to_txt:Eae,sheet_to_json:wI,sheet_to_html:Woe,sheet_to_formulae:wae,sheet_to_row_object_array:wI,sheet_get_cell:Nh,book_new:ZI,book_append_sheet:JI,book_set_sheet_visibility:Iae,cell_set_number_format:Tae,cell_set_hyperlink:QL,cell_set_internal_link:Sae,cell_add_comment:Dae,sheet_set_array_formula:kae,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};var EEe=w4.version;function Mae(n,e){if(n&1&&(_(0,"p"),E(1),g()),n&2){let t=D();C(),ge("Beolvasott sorok: ",t.items.length,"")}}function Rae(n,e){if(n&1&&(_(0,"tr")(1,"td"),E(2),g(),_(3,"td"),E(4),g(),_(5,"td"),E(6),g(),_(7,"td"),E(8),g(),_(9,"td"),E(10),g(),_(11,"td"),E(12),g(),_(13,"td"),E(14),g(),_(15,"td"),E(16),g()()),n&2){let t=e.$implicit;C(2),pe(t.name),C(2),pe(t.dmg),C(2),pe(t.dmg_type),C(2),pe(t.mod),C(2),pe(t.type),C(2),pe(t.range),C(2),pe(t.weight),C(2),pe(t.description)}}function Pae(n,e){if(n&1&&(_(0,"table")(1,"thead")(2,"tr")(3,"th"),E(4,"name"),g(),_(5,"th"),E(6,"dmg"),g(),_(7,"th"),E(8,"dmg_type"),g(),_(9,"th"),E(10,"mod"),g(),_(11,"th"),E(12,"type"),g(),_(13,"th"),E(14,"range"),g(),_(15,"th"),E(16,"weight"),g(),_(17,"th"),E(18,"description"),g()()(),_(19,"tbody"),Z(20,Rae,17,8,"tr",3),g()()),n&2){let t=D();C(20),W("ngForOf",t.items)}}var Y_=class n{constructor(e){this.firestore=e}items=[];onFileChange(e){let t=e.target.files[0],r=new FileReader;r.onload=i=>{let s=new Uint8Array(i.target.result),o=z_(s,{type:"array"}),a=o.SheetNames[0],c=o.Sheets[a],l=ZL.sheet_to_json(c,{defval:""});this.items=l.map(u=>({name:u.name||"",dmg:u.dmg||"",dmg_type:u.dmg_type||"",mod:u.mod||"",type:u.type||"",range:u.range||"",weight:u.weight||"",description:u.description||""}))},r.readAsArrayBuffer(t)}uploadToFirestore(){return B(this,null,function*(){let e=an(this.firestore,"items");for(let t of this.items)yield bu(e,t);alert("Sikeresen felt\xF6ltve!"),this.items=[]})}static \u0275fac=function(t){return new(t||n)(xe(Wn))};static \u0275cmp=_t({type:n,selectors:[["app-item-upload"]],decls:7,vars:3,consts:[["type","file","accept",".xlsx,.xls",3,"change"],[3,"click","disabled"],[4,"ngIf"],[4,"ngFor","ngForOf"]],template:function(t,r){t&1&&(_(0,"h2"),E(1,"Item Excel felt\xF6lt\xE9s"),g(),_(2,"input",0),ae("change",function(s){return r.onFileChange(s)}),g(),_(3,"button",1),ae("click",function(){return r.uploadToFirestore()}),E(4,` Felt\xF6lt\xE9s adatb\xE1zisba
`),g(),Z(5,Mae,2,1,"p",2)(6,Pae,21,1,"table",2)),t&2&&(C(3),W("disabled",r.items.length===0),C(2),W("ngIf",r.items.length),C(),W("ngIf",r.items.length))},encapsulation:2})};var Oae=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"login",component:c_},{path:"signup",component:l_},{path:"home",component:d_},{path:"characters",component:uh},{path:"charactercreate",component:E_},{path:"character-sheet/:id",component:__},{path:"campaigns",component:w_},{path:"campaign/:id",component:C_},{path:"join/campaign/:id",component:uh},{path:"upload",component:Y_}];r2(Qg,{providers:[O2(()=>N2(XO.firebase)),PO(()=>NO()),HM(()=>qM()),GO(()=>KO()),BN(Oae)]}).catch(n=>console.error(n));
